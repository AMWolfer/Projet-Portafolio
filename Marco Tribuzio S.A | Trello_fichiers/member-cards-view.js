(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{"./app/common/components/MemberChangeAvatarPopoverContent/MemberChangeAvatarPopoverContent.less":function(e,t,r){var n=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=r("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberChangeAvatarPopoverContent/MemberChangeAvatarPopoverContent.less");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};n(o,i);e.exports=o.locals||{}},"./app/common/components/MemberHome/MemberHomeEmail.less":function(e,t,r){var n=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=r("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberHome/MemberHomeEmail.less");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};n(o,i);e.exports=o.locals||{}},"./app/common/components/MemberHome/MemberHomeEmailChangeButton.less":function(e,t,r){var n=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=r("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberHome/MemberHomeEmailChangeButton.less");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};n(o,i);e.exports=o.locals||{}},"./app/common/components/MemberHome/MemberHomeEmailPopover.less":function(e,t,r){var n=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=r("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberHome/MemberHomeEmailPopover.less");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};n(o,i);e.exports=o.locals||{}},"./app/common/components/MemberHome/MemberHomeHeader.less":function(e,t,r){var n=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=r("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberHome/MemberHomeHeader.less");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};n(o,i);e.exports=o.locals||{}},"./app/common/components/MemberHome/MemberHomePrivacyInlineDialog.less":function(e,t,r){var n=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=r("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberHome/MemberHomePrivacyInlineDialog.less");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};n(o,i);e.exports=o.locals||{}},"./app/common/components/MemberHome/MemberHomePrivacyLabel.less":function(e,t,r){var n=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=r("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberHome/MemberHomePrivacyLabel.less");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};n(o,i);e.exports=o.locals||{}},"./app/common/components/MemberHome/MemberHomeProfileAvatar.less":function(e,t,r){var n=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=r("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberHome/MemberHomeProfileAvatar.less");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};n(o,i);e.exports=o.locals||{}},"./app/common/components/MemberHome/MemberHomeProfileTab/MemberHomeProfileTab.less":function(e,t,r){var n=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=r("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberHome/MemberHomeProfileTab/MemberHomeProfileTab.less");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};n(o,i);e.exports=o.locals||{}},"./app/common/components/MemberHome/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"MemberHomeHeader",(function(){return u})),r.d(t,"MemberHomeProfileTab",(function(){return ar}));var n=r("./node_modules/classnames/index.js"),o=r.n(n),i=r("./app/src/components/MemberAvatar/index.ts"),a=r("./node_modules/react/index.js"),s=r.n(a),c=r("./app/common/components/MemberHome/MemberHomeHeader.less"),l=r.n(c),u=function(e){var t=e.id,r=e.name,n=void 0===r?"":r,a=e.username,c=void 0===a?"":a,u=e.avatarSource,d=e.avatars,p=e.initials,m=e.gold;return t&&c?s.a.createElement("div",{className:l.a.homeHeader},s.a.createElement("div",{className:o()(l.a.avatar)},s.a.createElement(i.b,{avatarSource:u,fullName:n,username:c,initials:p,avatars:d,size:48,gold:m})),s.a.createElement("div",{className:l.a.details},n?s.a.createElement("span",{className:l.a.name},n):null,s.a.createElement("span",{className:l.a.username},"@",c))):null},d=r("./app/src/components/LayerManager/index.ts"),p=r("./app/common/components/MemberHome/MemberHomePrivacyInlineDialog.less"),m=r.n(p);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(c,e);var t,r,n,i,a=(t=c,function(){var e,r=k(t);if(y()){var n=k(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return b(this,e)});function c(){var e;f(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return w(g(e=a.call.apply(a,[this].concat(r))),"state",{shouldRender:!1}),w(g(e),"hidingTimeout",void 0),e}return r=c,(n=[{key:"calculatePosition",value:function(){var e=this.props.target&&this.props.target(),t=0,r=0;if(e){var n=e.getBoundingClientRect(),o={top:n.top+document.body.scrollTop,left:n.left+document.body.scrollLeft,height:e.offsetHeight};o.left=n.right-n.width/2;var i=window.innerWidth-100;t=Math.max(o.top+o.height,5),r=Math.min(Math.max(o.left,5),i)}return{top:t,left:r}}},{key:"componentDidUpdate",value:function(e){var t=this;this.hidingTimeout&&clearTimeout(this.hidingTimeout),!e.isActive&&this.props.isActive?this.setState({shouldRender:!0}):e.isActive&&!this.props.isActive&&(this.hidingTimeout=window.setTimeout((function(){t.setState({shouldRender:!1}),t.hidingTimeout=null}),100))}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.isActive,n=e.className,i=this.state.shouldRender,a=this.calculatePosition(),c=a.top,l=a.left;return t&&i?s.a.createElement(d.b,{layer:d.c.Tooltip},s.a.createElement("div",{className:o()(m.a.memberHomePrivacyInlineDialogContainer,m.a.center),style:{top:c,left:l}},s.a.createElement("div",{className:o()({[m.a.memberHomePrivacyInlineDialog]:!0,[m.a.hidden]:!r},n),style:{animationDuration:"".concat(100,"ms")}},t))):null}}])&&h(r.prototype,n),i&&h(r,i),c}(s.a.Component),x=r("./app/common/components/MemberHome/MemberHomePrivacyLabel.less"),C=r.n(x),_=r("./app/common/lib/util/i18n/index.ts"),O=r("./packages/nachos/icons/public.tsx"),E=r("./packages/nachos/icons/private.tsx");function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var A,T,D=Object(_.forTemplate)("member_home_privacy_label");!function(e){e.AlwaysPublic="always-public",e.AlwaysHidden="always-hidden"}(A||(A={})),function(e){e.Avatar="avatar",e.Bio="bio",e.Email="email",e.FullName="full-name",e.Initials="initials",e.Username="username",e.Unknown="unknown"}(T||(T={}));var B=new Map([[T.Avatar,D("tooltip-avatar")],[T.Bio,D("tooltip-bio")],[T.Email,D("tooltip-email")],[T.FullName,D("tooltip-full-name")],[T.Initials,D("tooltip-initials")],[T.Username,D("tooltip-username")]]),M=function(e){var t=e.className,r=e.privacy,n=e.field,i=Object(a.useRef)(null),c=S(Object(a.useState)(!1),2),l=c[0],u=c[1],d=Object(a.useCallback)((function(){u(!0)}),[]),p=Object(a.useCallback)((function(){u(!1)}),[]);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:o()(C.a.privacyLabel,t),onMouseEnter:d,onMouseLeave:p,ref:i},function(e){switch(e){case A.AlwaysPublic:return s.a.createElement(O.a,{size:"small",dangerous_className:C.a.icon,color:"quiet"});case A.AlwaysHidden:return s.a.createElement(E.a,{size:"small",dangerous_className:C.a.icon,color:"quiet"});default:throw new Error("No Icon mapping defined")}}(r),s.a.createElement("span",{className:C.a.labelText},D(r))),n&&s.a.createElement(j,{isActive:l,target:function(){return i.current}},s.a.createElement("div",null,B.get(n))))},I=r("./app/common/components/MemberHome/MemberHomeProfileAvatar.less"),L=r.n(I),N=r("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),R={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MemberChangeAvatarPopover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarSource"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gravatarHash"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uploadedAvatarUrl"},arguments:[],directives:[]}]}}]}}]};var F={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateMemberAvatarSource"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"avatarSource"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Member_AvatarSource"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateMemberAvatarSource"},arguments:[{kind:"Argument",name:{kind:"Name",value:"avatarSource"},value:{kind:"Variable",name:{kind:"Name",value:"avatarSource"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarSource"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uploadedAvatarUrl"},arguments:[],directives:[]}]}}]}}]};var V={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UploadMemberAvatar"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"file"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FileUpload"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uploadProgressCallback"}},type:{kind:"NamedType",name:{kind:"Name",value:"FileUploadProgressCallback"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uploadMemberAvatar"},arguments:[{kind:"Argument",name:{kind:"Name",value:"file"},value:{kind:"Variable",name:{kind:"Name",value:"file"}}},{kind:"Argument",name:{kind:"Name",value:"uploadProgressCallback"},value:{kind:"Variable",name:{kind:"Name",value:"uploadProgressCallback"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarSource"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uploadedAvatarUrl"},arguments:[],directives:[]}]}}]}}]};var H=r("./packages/graphql/generated.tsx"),z=r("./app/gamma/src/components/alert/index.tsx"),$=r("./packages/analytics/index.ts"),U=r("./packages/atlassian-analytics/index.ts"),q=r("./packages/feature-flag-client/index.ts"),K=r("./packages/nachos/popover.ts"),G=r("./app/common/components/MemberChangeAvatarPopoverContent/MemberChangeAvatarPopoverContent.less"),W=r.n(G),X=r("./packages/nachos/icons/check.tsx"),Y=r("./packages/nachos/src/components/Icon/index.ts"),J=function(){return s.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},s.a.createElement("path",{d:"M15 4a1 1 0 011-1h2a1 1 0 011 1v1h-4V4z",fill:"currentColor"}),s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 13a3 3 0 116 0 3 3 0 01-6 0zm3 1a1 1 0 110-2 1 1 0 010 2z",fill:"currentColor"}),s.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 6a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2V8a2 2 0 00-2-2H4zm16 2H4v10h16V8z",fill:"currentColor"}))},Z=function(e){var t=e.testId,r=e.dangerous_className,n=e.size,o=e.color,i=e.label;return s.a.createElement(Y.a,{testId:t,size:n,dangerous_className:r,color:o,label:i||"CameraIcon",glyph:J})},Q=r("./packages/nachos/icons/attachment.tsx"),ee=r("./packages/trello-canonical-components/index.ts"),te=r("./app/gamma/src/util/wait-for-image-load.ts"),re=r("./app/common/lib/util/camera.ts");function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ie=Object(_.forTemplate)("avatar_change"),ae=(Symbol("MEMBER_AVATAR_POPOVER"),function(e){var t=e.error,r=e.member,n=e.takePhotoWithCamera,o=e.uploadPicture,i=e.useGravatar,c=e.useInitials,l=e.useUploadedPicture,u=Object(a.useRef)(null),d=ne(Object(a.useState)(""),2),p=d[0],m=d[1];return Object(a.useEffect)((function(){var e="https://secure.gravatar.com/avatar/".concat(r.gravatarHash,".png?s=50&r=PG&d=404");Object(te.a)(e).then((function(){m(e)}))}),[r.gravatarHash]),s.a.createElement("div",{className:W.a.popover},r.uploadedAvatarUrl&&s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:W.a.optionButton,onClick:l},s.a.createElement(ee.CanonicalAvatar,{className:W.a.avatar,img:"".concat(r.uploadedAvatarUrl,"/50.png"),size:40}),ie("uploaded-picture"),r.avatarSource===H.d.Upload&&s.a.createElement(X.a,{dangerous_className:W.a.check})),s.a.createElement("hr",null)),p&&s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:W.a.optionButton,onClick:i},s.a.createElement(ee.CanonicalAvatar,{className:W.a.avatar,img:p,size:40}),ie("gravatar"),r.avatarSource===H.d.Gravatar&&s.a.createElement(X.a,{dangerous_className:W.a.check})),s.a.createElement("hr",null)),s.a.createElement("button",{className:W.a.optionButton,onClick:c},s.a.createElement(ee.CanonicalAvatar,{className:W.a.avatar,initials:r.initials||"",size:40}),ie("initials-no-avatar"),r.avatarSource===H.d.None&&s.a.createElement(X.a,{dangerous_className:W.a.check})),s.a.createElement("hr",null),null!==n&&re.Camera.supportsGetUserMedia()&&s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:W.a.actionButton,onClick:n},s.a.createElement(Z,{dangerous_className:W.a.icon}),ie("take-photo-with-camera")),s.a.createElement("hr",null)),s.a.createElement("div",null,t&&s.a.createElement("p",{className:W.a.error},t),s.a.createElement("input",{type:"file",name:"file",tabIndex:-1,accept:"image/*;capture=camera;",className:W.a.fileInput,ref:u,onChange:function(e){e.target.files&&e.target.files.length>0&&o(e.target.files[0])}}),s.a.createElement("button",{className:W.a.actionButton,type:"button",onClick:function(){return u.current&&u.current.click()}},s.a.createElement(Q.a,{dangerous_className:W.a.icon}),r.uploadedAvatarUrl?ie("upload-a-new-picture"):ie("upload-a-picture"))))}),se=r("./app/gamma/src/api/index.ts"),ce=r("./packages/test-ids/index.ts");function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ue(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function de(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ue(i,n,o,a,s,"next",e)}function s(e){ue(i,n,o,a,s,"throw",e)}a(void 0)}))}}function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var be=Object(_.forTemplate)("member_account"),ge=Object(_.forNamespace)(),ye=Object(_.forNamespace)("server error"),ke=Object(_.forNamespace)("alerts"),we=Object(_.forTemplate)("member_home_profile_avatar"),je=function(){var e,t=Object(K.e)(),r=t.popoverProps,n=t.toggle,o=t.hide,c=t.triggerRef,l=Object(z.b)({alertArea:"MEMBER_AVATAR_ALERT_AREA",alertName:"MEMBER_AVATAR_ALERT"}).showAlert,u=(e={variables:{id:"me"}},N.c(R,e)).data,d=he(function(e){return N.b(F,e)}(),1)[0],p=he(function(e){return N.b(V,e)}(),1)[0],m=he(Object(a.useState)(null),2),f=m[0],h=m[1],v=he(Object(a.useState)(0),2),b=v[0],g=v[1],y=Object(q.useFeatureFlag)("dataeng.gasv3-event-tracking",!1),k=u&&u.member;if(!k||!k.id)return null;function w(e){switch(e){case H.d.Gravatar:return"avatarGravatarOptionButton";case H.d.None:return"avatarNoneOptionButton";case H.d.Upload:return"avatarPreviouslyUploadedOptionButton";default:return"unknown"}}var j=function(e){return function(){Object($.trackUe)({category:$.Noun.AVATAR_POPOVER,verb:$.Verb.CHANGES,directObj:$.Noun.AVATAR_SOURCE,context:{avatarSource:e}}),y&&U.Analytics.sendClickedButtonEvent({buttonName:w(e),source:"avatarChangeInlineDialog"}),d({variables:{avatarSource:e},optimisticResponse:{__typename:"Mutation",updateMemberAvatarSource:me({},k,{avatarSource:e,__typename:"Member"})}}),o()}},x=j(H.d.Gravatar),C=function(){var e=de(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(H.d.None),e.prev=1,e.next=4,se.a.client.rest.del("members/me/avatar");case 4:Object($.trackUe)({category:$.Noun.AVATAR_POPOVER,verb:$.Verb.DELETES,directObj:$.Noun.AVATAR,method:"successfully"}),y&&U.Analytics.sendOperationalEvent({action:"deleted",actionSubject:"avatar",source:"avatarChangeInlineDialog"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),Object($.trackUe)({category:$.Noun.AVATAR_POPOVER,verb:$.Verb.DELETES,directObj:$.Noun.AVATAR,method:"unsuccessfully",context:{error:e.t0}}),y&&U.Analytics.sendOperationalEvent({action:"failed",actionSubject:"upload",source:"avatarChangeInlineDialog",attributes:{reason:e.t0}});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),_=j(H.d.Upload),O=function(){var e=de(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>10485760)){e.next=6;break}return g(0),h(ge("images can not be larger than 10mb")),Object($.trackUe)({category:$.Noun.AVATAR_POPOVER,verb:$.Verb.UPLOADS,directObj:$.Noun.AVATAR,method:"unsuccessfully",context:{error:"file too large"}}),y&&U.Analytics.sendOperationalEvent({action:"failed",actionSubject:"upload",source:"avatarChangeInlineDialog",attributes:{reason:"file too large"}}),e.abrupt("return");case 6:return h(null),e.prev=7,e.next=10,p({variables:{file:t,uploadProgressCallback(e){l(),g(e)}}});case 10:Object($.trackUe)({category:$.Noun.AVATAR_POPOVER,verb:$.Verb.UPLOADS,directObj:$.Noun.AVATAR,method:"successfully"}),y&&U.Analytics.sendTrackEvent({action:"uploaded",actionSubject:"avatar",source:"avatarChangeInlineDialog"}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),g(0),h(ye(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:L.a.avatarContainer,"data-test-id":ce.ProfileTestIds.ProfileAvatar},s.a.createElement("h3",{className:L.a.avatarHeader},we("avatar")),s.a.createElement("div",{className:L.a.avatarHoverableArea},s.a.createElement(i.a,{idMember:k.id,size:100,className:L.a.avatar}),s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:L.a.changeAvatarButton,ref:c,onClick:n},be("change-avatar")),s.a.createElement(K.b,le({},r,{title:be("change-avatar"),noHorizontalPadding:!0,onHide:function(){h(null),o()}}),s.a.createElement(ae,{error:f,member:k,useGravatar:x,useInitials:C,takePhotoWithCamera:null,useUploadedPicture:_,uploadPicture:O})))),s.a.createElement(M,{privacy:A.AlwaysPublic,className:L.a.privacyLabel,field:T.Avatar}),b>0&&s.a.createElement(z.a,{displayType:"info",name:"MEMBER_AVATAR_ALERT",area:"MEMBER_AVATAR_ALERT_AREA"},b<100?ke("uploading",{percentString:"".concat(b,"%")}):ke("processing upload")))},xe=r("./packages/nachos/icons/close.tsx"),Ce=r("./app/common/components/MemberHome/MemberHomeEmail.less"),_e=r.n(Ce),Oe=r("./app/gamma/src/util/dates.ts"),Ee=r("./packages/dates/index.ts"),Se=r("./packages/nachos/button.ts"),Pe=r("./packages/a11y/index.ts"),Ae=r("./app/src/components/PopoverConfirm/index.ts"),Te=r("./app/src/components/SetPrimaryEmailConfirmPopover/SetPrimaryEmailConfirmPopover.less"),De=r.n(Te),Be=function(e){var t=e.yesCallback,r=e.noCallback,n=e.promptSubstitutions,o=e.loginCount,i=Object(_.forNamespace)("set primary email");return Object(a.useEffect)((function(){U.Analytics.sendScreenEvent({name:"setPrimaryEmailInlineDialog",attributes:{totalAccountEmails:o}})}),[o]),s.a.createElement("div",{className:De.a.yesNoContainer},s.a.createElement("p",null,i("text",n)),s.a.createElement(Se.a,{appearance:"primary",autoFocus:!0,onClick:t,size:"fullwidth"},i("yes",n)),s.a.createElement(Se.a,{onClick:r,size:"fullwidth"},i("no",n)))};function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ne=Object(_.forTemplate)("member_login"),Re=Object(_.forNamespace)(["confirm","delete credential"]),Fe=Object(_.forNamespace)("set primary email"),Ve=function(e){var t=e.email,r=e.deleteEmail,n=e.setEmailAsPrimary,i=e.onlyEmail,a=e.setPrimaryEmailAndRemoveSecondaries,c=e.loginCount,l=Ie(Object(Pe.a)(),2),u=l[0],d=l[1],p=Object(K.e)(),m=p.triggerRef,f=p.popoverProps,h=p.toggle,v=p.hide,b=Object(K.e)(),g=b.triggerRef,y=b.popoverProps,k=b.toggle,w=b.hide,j=t.primary&&!i;return s.a.createElement("div",Me({className:o()(_e.a.emailCard,u&&_e.a.hasFocusRing)},d),s.a.createElement("p",{className:_e.a.email,title:t.email},t.email),s.a.createElement("p",{className:t.primary?_e.a.info:"".concat(_e.a.info," ").concat(_e.a.infoSecondary)},j&&s.a.createElement("span",{className:_e.a.primary},Ne("primary-email")),!t.primary&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Se.a,{appearance:"link",className:_e.a.setPrimary,onClick:function(){y.isVisible||U.Analytics.sendClickedButtonEvent({source:"profileAndVisibilitySettingsScreen",buttonName:"setAsPrimaryEmailButton",attributes:{totalAccountEmails:c}}),k()},ref:g,"aria-label":"".concat(Ne("set-as-primary-email"))},Ne("set-as-primary-email")),s.a.createElement(K.b,Me({},y,{title:Fe("title")}),s.a.createElement(Be,{yesCallback:function(){a(t),w()},noCallback:function(e){n(t)(e),w()},loginCount:c||0}))),s.a.createElement("span",{className:_e.a.addedDate},"".concat(Ne("added-v2")," ").concat(Object(Oe.a)(Object(Ee.d)(t.id),new Date)))),!t.primary&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Se.a,{appearance:"link",className:_e.a.removeEmail,onClick:function(){f.isVisible||U.Analytics.sendClickedButtonEvent({source:"profileAndVisibilitySettingsScreen",buttonName:"removeEmailButton",attributes:{totalAccountEmails:c}}),h()},ref:m,"aria-label":"".concat(Re("confirm")," ").concat(t.email)},s.a.createElement(xe.a,{color:"dark"}),s.a.createElement("span",{className:_e.a.removeEmailText},"Â  ",Ne("remove"))),s.a.createElement(K.b,Me({},f,{title:Re("title"),noHorizontalPadding:!0}),s.a.createElement(Ae.a,{isDanger:!0,confirmKey:"delete credential",confirmSubstitutions:{email:t.email},confirmCallback:function(){r(t),v(),U.Analytics.sendClickedButtonEvent({source:"profileAndVisibilitySettingsScreen",buttonName:"removeEmailButton",attributes:{totalAccountEmails:c}})}}))))},He=r("./app/common/components/MemberHome/MemberHomeProfileTab/MemberHomeProfileTab.less"),ze=r.n(He),$e=r("./app/gamma/src/util/prevent-default.ts"),Ue=r("./app/gamma/src/modules/state/ui/member-home-profile.ts"),qe=r("./node_modules/debounce/index.js"),Ke=r.n(qe),Ge=r("./app/src/components/EmailError/index.ts"),We=r("./packages/nachos/spinner.ts"),Xe=r("./node_modules/react-redux/es/index.js"),Ye=r("./app/common/components/MemberHome/MemberHomeEmailPopover.less"),Je=r.n(Ye),Ze=r("./app/gamma/src/selectors/members.ts");function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return et(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach((function(t){nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ot={addingEmailRequestActive:!1,addingEmailSuccess:!1,addingEmailError:Ge.b.None},it=function(){return{type:Ue.b}},at=function(){return{type:Ue.c}},st=function(e){return{payload:e,type:Ue.a}},ct=function(e,t){var r=t.payload,n="string"==typeof r?Object(Ge.c)(r)||Ge.b.Unknown:Ge.b.None;switch(t.type){case Ue.b:return rt({},e,{addingEmailRequestActive:!0,addingEmailSuccess:!1,addingEmailError:Ge.b.None});case Ue.c:return rt({},e,{addingEmailRequestActive:!1,addingEmailSuccess:!0,addingEmailError:Ge.b.None});case Ue.a:return rt({},e,{addingEmailRequestActive:!1,addingEmailSuccess:!1,addingEmailError:n});case Ue.f:return rt({},e,{},ot);default:return e}};function lt(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var ut=function(e){var t=e.email,r=e.loginId,n=e.source,o=e.dispatchProfileEmailState,i=Object(Xe.e)((function(e){return Object(Ze.a)(e)}));return function(){var e,a=(e=regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:if(!r){e.next=17;break}return e.prev=3,o(it()),e.next=7,se.a.client.rest.put("members/me/logins/".concat(r),{body:{email:t}});case 7:o(at()),n&&U.Analytics.sendTrackEvent({action:"updated",actionSubject:"primaryEmail",source:n,attributes:{totalAccountEmails:i.logins?i.logins.length:0}}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),a=e.t0.originalMessage,o(st(a));case 15:e.next=29;break;case 17:return e.prev=17,o(it()),e.next=21,se.a.client.rest.post("members/me/logins",{body:{email:t}});case 21:o(at()),n&&U.Analytics.sendTrackEvent({action:"created",actionSubject:"accountEmail",source:n,attributes:{totalAccountEmails:i.logins?i.logins.length:0}}),e.next=29;break;case 25:e.prev=25,e.t1=e.catch(17),s=e.t1.originalMessage,o(st(s));case 29:case"end":return e.stop()}}),e,null,[[3,11],[17,25]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){lt(i,n,o,a,s,"next",e)}function s(e){lt(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(){return a.apply(this,arguments)}}()},dt=function(e){var t=e.isDisabled,r=e.onSubmitEmail,n=Object(_.forTemplate)("popover_add_email");return s.a.createElement(Se.a,{appearance:"primary",className:Je.a.confirmButton,disabled:t,onClick:function(e){e.preventDefault(),r()}},n("send-confirmation-email"))},pt=function(e){var t=e.email,r=e.loginId,n=e.source,o=e.dispatchProfileEmailState,i=e.isDisabled,a=e.children,c=ut({email:t,loginId:r,source:n,dispatchProfileEmailState:o});return s.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c()}},a,s.a.createElement(dt,{onSubmitEmail:c,isDisabled:i}))},mt=function(){var e,t={profileEmailState:(e=Qe(Object(a.useReducer)(ct,ot),2))[0],dispatchProfileEmailState:e[1]},r=t.profileEmailState,n=r.addingEmailSuccess,o=r.addingEmailRequestActive,i=r.addingEmailError,s=t.dispatchProfileEmailState;return{isRequestSuccess:n,isRequestSending:o,emailError:i,isRequestError:i!==Ge.b.None,dispatchProfileEmailState:s}},ft=r("./app/gamma/src/selectors/enterprises.ts"),ht=r("./packages/nachos/checkbox.ts");function vt(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yt=Object(_.forTemplate)("popover_add_email"),kt=function(e){var t=e.email,r=e.loginCount;return U.Analytics.sendScreenEvent({name:"changeEmailSubmittedInlineDialog",attributes:{totalAccountEmails:r||0}}),s.a.createElement("div",{className:Je.a.successMessage},s.a.createElement("p",null,yt("we-ve-sent-an-email-to",{email:s.a.createElement("strong",{key:"we-ve-sent-an-email-to-strong"},t)})),s.a.createElement("p",null,yt("click-link-in-email")))},wt=function(e){var t=e.defaultEmail,r=void 0===t?"":t,n=e.loginId,o=e.loginCount,i=bt(Object(a.useState)(r),2),c=i[0],l=i[1],u=bt(Object(a.useState)(""),2),d=u[0],p=u[1],m=bt(Object(a.useState)(!1),2),f=m[0],h=m[1],v=mt(),b=v.isRequestSuccess,g=v.isRequestSending,y=v.emailError,k=v.isRequestError,w=v.dispatchProfileEmailState,j=Object(Xe.e)((function(e){return Object(Ze.a)(e)})),x=Object(Xe.e)((function(e){return(null==j?void 0:j.idEnterprise)?Object(ft.b)(e,j.idEnterprise):void 0})),C=g||0===c.length||""!==d&&!f;k&&U.Analytics.sendOperationalEvent({action:"errored",actionSubject:"accountEmail",source:"profileAndVisibilitySettingsScreen",attributes:{totalAccountEmails:o||0,errorType:y}});var _=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.a.client.rest.post("members/me/logins/checkDomainClaim",{body:{email:t}});case 3:(r=e.sent).enterprise?p(r.enterprise.displayName):p(""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),p("");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){vt(i,n,o,a,s,"next",e)}function s(e){vt(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return s.a.createElement("div",{className:Je.a.addEmailPopover},b?s.a.createElement(kt,{email:c,loginCount:o||0}):s.a.createElement(pt,{email:c,loginId:n,source:"profileAndVisibilitySettingsScreen",dispatchProfileEmailState:w,isDisabled:C},x?s.a.createElement("p",{className:Je.a.managedAccountBanner},yt("this-trello-account-is-managed-by-enterprise-new-email-addresses-must-be-on-a-domain-that-belongs-to-enterprise",{enterpriseName:x.displayName})):null,s.a.createElement("p",{className:Je.a.title},yt("change-the-email-address-that-you-use-to-log-in-to-trello")),s.a.createElement("h2",null,yt("new-email-address")," ",g&&s.a.createElement(We.a,{small:!0,wrapperClassName:Je.a.spinner})),s.a.createElement("input",{id:"email",type:"email",name:"email",value:c,autoComplete:"email",onChange:function(e){l(e.target.value),Ke()(_(e.target.value),500)},disabled:g}),k&&s.a.createElement(Ge.a,{error:y,email:c},(function(e){return s.a.createElement("p",{className:Je.a.error},e)})),d&&s.a.createElement("div",{className:Je.a.managedEmailConfirmation},s.a.createElement(ht.a,{defaultChecked:!1,isChecked:f,onChange:function(){h(!f)},name:"accountManagedCheckbox"}),s.a.createElement("div",{className:Je.a.managedEmailConfirmationContent},s.a.createElement("p",null,yt("org-admin-account-management",{orgName:s.a.createElement("strong",{key:"org-admin-account-management"},d)})),s.a.createElement("p",null,s.a.createElement("a",{target:"_blank",href:"https://help.trello.com/article/1186-managed-atlassian-accounts-for-trello"}," ",yt("learn-more")," "))))))},jt=r("./app/common/components/MemberHome/MemberHomeEmailChangeButton.less"),xt=r.n(jt);function Ct(){return(Ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var _t=Object(_.forTemplate)("popover_add_email"),Ot=function(e){var t=e.loginId,r=e.loginCount;return r&&r>1?s.a.createElement(s.a.Fragment,null,_t("you-may-only-have-one-email-address-per-account")," ",s.a.createElement("a",{href:"https://help.trello.com/article/773-adding-account-credentials"},_t("learn-more"))):s.a.createElement(wt,{loginId:t,loginCount:r})},Et=Object(Xe.c)(void 0,(function(e){return{onClosePopover(){e(Object(Ue.p)())}}}))((function(e){var t=e.onClosePopover,r=e.loginId,n=e.loginCount,o=Object(K.e)(),i=o.triggerRef,c=o.popoverProps,l=o.toggle,u=o.hide,d=n&&n>1,p=Object(a.useCallback)((function(){c.isVisible||U.Analytics.sendClickedButtonEvent({source:"profileAndVisibilitySettingsScreen",buttonName:"changeEmailButton",attributes:{totalAccountEmails:n}}),l()}),[c.isVisible,l,n]),m=Object(a.useCallback)((function(){u(),t()}),[u,t]);return Object(a.useEffect)((function(){c.isVisible&&d&&U.Analytics.sendScreenEvent({name:"changeEmailWarningInlineDialog",attributes:{totalAccountEmails:n||0}})}),[n,d,c.isVisible]),Object(a.useEffect)((function(){c.isVisible&&!d&&U.Analytics.sendScreenEvent({name:"changeEmailInlineDialog",attributes:{totalAccountEmails:n||0}})}),[n,d,c.isVisible]),s.a.createElement(s.a.Fragment,null,s.a.createElement(Se.a,{ref:i,className:xt.a.addEmailButton,onClick:p},_t("change-email-address")),s.a.createElement(K.b,Ct({},c,{title:_t("change-email-address"),onHide:m,size:"large"}),s.a.createElement(Ot,{loginId:r,loginCount:n})))})),St=r("./packages/config/index.ts"),Pt=r("./packages/nachos/textfield.ts");function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(r),!0).forEach((function(t){It(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function It(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Lt=Object(_.forTemplate)("member_detail_profile_edit"),Nt=Object(_.forTemplate)("member_home"),Rt=Object(_.forNamespace)(["strings","member profile error"]),Ft=new Map([[T.Bio,Lt("bio")],[T.Email,Lt("email-address")],[T.FullName,Lt("full-name")],[T.Initials,Lt("initials")],[T.Username,Lt("username")]]),Vt=function(e){var t=e.privacy,r=e.field;return s.a.createElement("div",{className:ze.a.inputLabel},s.a.createElement("span",{className:ze.a.text},Ft.get(r)),s.a.createElement(M,{privacy:t,className:ze.a.privacyLabel,field:r}))},Ht=function(e){var t=e.field;return s.a.createElement(Vt,{field:t,privacy:A.AlwaysPublic})},zt=function(e){var t=e.field;return s.a.createElement(Vt,{field:t,privacy:A.AlwaysHidden})},$t=function(e){var t=e.text;return s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",{className:ze.a.sectionHeader},t),s.a.createElement("hr",null))},Ut=function(e){var t=e.autoComplete,r=e.className,n=e.field,o=e.multiLine,i=e.onChange,a=e.saveErrorInfo,c=Mt({autoComplete:t,className:r,onChange:i,value:e.value},a?{"aria-invalid":!0,"aria-describedby":a.id}:{});return s.a.createElement(s.a.Fragment,null,o?s.a.createElement("textarea",c):s.a.createElement(Pt.Textfield,Dt({isInvalid:!!a,name:n},c)),a&&a.message)},qt=function(e){var t,n,i,c,l=e.deleteEmail,u=e.member,d=u.bio,p=u.name,m=u.idEnterprise,f=u.initials,h=u.logins,v=u.username,b=u.isAaMastered,g=u.aaBlockSyncUntil,y=e.onSaveProfileError,k=e.onSubmitMemberProfile,w=e.saveMessage,j=e.saveErrors,x=e.setEmailAsPrimary,C=e.setEmailAsPrimaryAndDeleteSecondaries,_=Object(q.useFeatureFlag)("aaaa.allow-profile-edits-on-blocked-sync",!1),O=function(e){var t=h?h.filter((function(t){return t.email!==e.email})):[];C(e,t)},E=b&&m,S=_&&b&&g,P=null==h||null===(t=h.find((function(e){return e.primary})))||void 0===t?void 0:t.email,A=P?"".concat(St.identityBaseUrl,"/login?login_hint=").concat(encodeURIComponent(P),"&continue=").concat(encodeURIComponent(St.identityBaseUrl+"/manage-profile")):"".concat(St.identityBaseUrl,"/manage-profile"),D=At(Object(a.useState)(p),2),B=D[0],M=D[1],I=At(Object(a.useState)(f),2),L=I[0],N=I[1],R=At(Object(a.useState)(v),2),F=R[0],V=R[1],H=At(Object(a.useState)(d),2),z=H[0],$=H[1],K=(i={},(n=j)&&n.forEach((function(e){var t,r;switch(e){case Ue.l.UsernameTaken:t="username taken",r=T.Username;break;case Ue.l.UsernameTooLong:t="username too long",r=T.Username;break;case Ue.l.UsernameTooShort:t="username too short",r=T.Username;break;case Ue.l.UsernameInvalid:t="username invalid",r=T.Username;break;case Ue.l.FullNameTooLong:t="full name too long",r=T.FullName;break;case Ue.l.FullNameTooShort:t="full name too short",r=T.FullName;break;case Ue.l.FullNameHasUrl:t="full name must not contain a url",r=T.FullName;break;case Ue.l.InitialsWrongLength:t="initials wrong length",r=T.Initials;break;case Ue.l.BioTooLong:t="bio too long",r=T.Bio;break;case Ue.l.Unknown:default:t="unknown",r=T.Unknown}var n="SaveProfileError_Field_"+r;i[r]={message:s.a.createElement("p",{id:n,className:ze.a.error},Rt(t)),id:n}})),i),G=w===Ue.k.SAVING,W=!b||S;return Object(a.useEffect)((function(){U.Analytics.sendScreenEvent({name:"profileAndVisibilitySettingsScreen",attributes:{totalAccountEmails:h?h.length:0,isAaMastered:b}})}),[h,b]),s.a.createElement("div",{className:ze.a.memberProfileTabContainer,"data-test-id":ce.ProfileTestIds.ProfileTabContainer},s.a.createElement("img",{className:ze.a.tacoPrivacy,src:r("./resources/images/member-home/taco-privacy.svg"),alt:"",role:"presentation"}),s.a.createElement("h1",{className:ze.a.profileHeader},Nt("manage-your-personal-information")),s.a.createElement("p",{className:o()(ze.a.legalText,b&&ze.a.isAaMastered)},Nt(E?"legal_text_managed":b?"legal_text_mastered":"legal_text_2",{atlassianProfile:s.a.createElement("a",{href:A,key:"atlassian-profile",target:"_blank",rel:"noopener noreferrer"},Nt("atlassian_profile")),termsOfService:s.a.createElement("a",{href:"https://www.atlassian.com/legal/cloud-terms-of-service",key:"terms-of-service",target:"_blank",rel:"noopener noreferrer"},Nt("terms_of_service")),privacyPolicy:s.a.createElement("a",{href:"https://www.atlassian.com/legal/privacy-policy",key:"privacy",target:"_blank",rel:"noopener noreferrer"},Nt("privacy_policy"))})),s.a.createElement($t,{text:Lt("about")}),s.a.createElement("div",{className:o()(ze.a.aboutContent,!W&&ze.a.noAvatarBlock)},W&&s.a.createElement(je,null),s.a.createElement("form",{className:ze.a.leftColumn,onSubmit:G?function(){}:Object($e.a)((function(){var e=Mt({},B&&{fullName:B},{},L&&{initials:L},{},F&&{username:F},{},z&&{bio:z}),t=[];W&&(e.fullName?e.fullName.length>100&&t.push(Ue.l.FullNameTooLong):t.push(Ue.l.FullNameTooShort),(!e.initials||e.initials.length>4)&&t.push(Ue.l.InitialsWrongLength)),!e.username||e.username.length<3?t.push(Ue.l.UsernameTooShort):e.username.length>100&&t.push(Ue.l.UsernameTooLong),e&&e.bio&&e.bio.length>16384&&t.push(Ue.l.BioTooLong),t.length?y(t):k(e)}))},W&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Ht,{field:T.FullName}),s.a.createElement(Ut,{onChange:function(e){return M(e.target.value)},value:B,field:T.FullName,autoComplete:"name",saveErrorInfo:K[T.FullName]})),W&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Ht,{field:T.Initials}),s.a.createElement(Ut,{onChange:function(e){return N(e.target.value)},value:L,field:T.Initials,saveErrorInfo:K[T.Initials]})),s.a.createElement(Ht,{field:T.Username}),s.a.createElement(Ut,{onChange:function(e){return V(e.target.value)},value:F,field:T.Username,autoComplete:"username",saveErrorInfo:K[T.Username]}),s.a.createElement(Ht,{field:T.Bio}),s.a.createElement(Ut,{onChange:function(e){return $(e.target.value)},className:o()(ze.a.bioTextArea),value:z,field:T.Bio,multiLine:!0,saveErrorInfo:K[T.Bio]}),s.a.createElement(Se.a,{appearance:"primary",disabled:G,className:ze.a.profileSaveButton,type:"submit"},Lt(Ue.k.SAVE)))),!b&&s.a.createElement(s.a.Fragment,null,s.a.createElement($t,{text:Lt("contact")}),h&&1===h.length?s.a.createElement("div",null,s.a.createElement(zt,{field:T.Email}),(c=h[0],s.a.createElement(Ve,{key:c.id,email:c,setEmailAsPrimary:x,deleteEmail:l,onlyEmail:!0,setPrimaryEmailAndRemoveSecondaries:O})),s.a.createElement(Et,{loginId:h[0].id,loginCount:h.length})):s.a.createElement("div",null,s.a.createElement(zt,{field:T.Email}),function(e){return e.sort((function(e,t){return e.primary?-1:t.primary?1:e.id>t.id?-1:1}))}(h||[]).map((function(e){return s.a.createElement(Ve,{key:e.id,email:e,setEmailAsPrimary:x,deleteEmail:l,onlyEmail:!1,setPrimaryEmailAndRemoveSecondaries:O,loginCount:h?h.length:0})})),s.a.createElement(Et,{loginCount:h?h.length:0}))))},Kt=r("./packages/redux/index.ts"),Gt=r("./app/gamma/src/modules/state/models/members.ts"),Wt=r("./app/gamma/src/modules/state/ui/alerts.ts");function Xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(r),!0).forEach((function(t){Jt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zt=function(){return{type:Ue.i}},Qt=function(e){return{type:Ue.h,payload:e}},er=function(e,t){var r=t.payload,n="string"==typeof r?[Ue.q[r]||Ue.l.Unknown]:r;switch(t.type){case Ue.j:return Yt({},e,{saveMessage:Ue.k.SAVING});case Ue.g:return Yt({},e,{saveMessage:Ue.k.SAVED},"saveErrors"in e?{saveErrors:void 0}:{});case Ue.i:return Yt({},e,{},Ue.o);case Ue.h:return Yt({},e,{saveErrors:n});default:return e}};function tr(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function rr(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){tr(i,n,o,a,s,"next",e)}function s(e){tr(i,n,o,a,s,"throw",e)}a(void 0)}))}}function nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return or(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return or(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ir=function(){var e=Object(Xe.d)(),t=function(){var e=nr(Object(a.useReducer)(er,Ue.n),2),t=e[0];return{dispatchProfileUIState:e[1],profileUIState:t}}(),r=t.dispatchProfileUIState,n=t.profileUIState,o=function(){var t=rr(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Object(Wt.c)({alertArea:Ue.e,alertName:Ue.k.SAVING}));case 2:r({type:Ue.j});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=rr(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Object(Wt.c)({alertArea:Ue.e,alertName:Ue.k.SAVED}));case 2:r({type:Ue.g});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=rr(regeneratorRuntime.mark((function t(a){var s,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,o();case 4:return t.prev=4,t.next=7,se.a.client.rest.put("members/me",{body:a});case 7:return s=t.sent,e(Object(Kt.a)(Ue.m)(s)),t.next=11,i();case 11:Object($.trackUe)({category:$.Noun.MEMBER,verb:$.Verb.UPDATES,directObj:$.Noun.PROFILE,method:"by using the profile & visibility tab"}),t.next=21;break;case 14:if(t.prev=14,t.t0=t.catch(4),(c=t.t0.originalMessage).startsWith("{"))try{l=JSON.parse(c),c=l.message}catch(e){}c=c.trim().toLowerCase(),r(Zt()),r(Qt(c));case 21:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(e){return t.apply(this,arguments)}}();return{reduxDispatch:e,onSubmitMemberProfile:s,onSaveProfileError:function(e){r(Zt()),r(Qt(e))},setEmailAsPrimary:function(t){return function(){return e(Object(Gt.d)(t,"profileAndVisibilitySettingsScreen"))}},setEmailAsPrimaryAndDeleteSecondaries:function(t,r){e(Object(Gt.e)(t,r,"profileAndVisibilitySettingsScreen"))},deleteEmail:function(t){e(Object(Gt.c)(t,"profileAndVisibilitySettingsScreen"))},profileUIState:n}},ar=function(){var e=function(){var e=Object(Xe.e)((function(e){return Object(Ze.a)(e)})),t=ir(),r=t.onSubmitMemberProfile,n=t.onSaveProfileError,o=t.setEmailAsPrimary,i=t.deleteEmail,a=t.setEmailAsPrimaryAndDeleteSecondaries,s=t.profileUIState;return{member:e,onSaveProfileError:n,onSubmitMemberProfile:r,saveMessage:s.saveMessage,saveErrors:s.saveErrors,setEmailAsPrimary:o,deleteEmail:i,setEmailAsPrimaryAndDeleteSecondaries:a}}(),t=e.member,r=e.onSaveProfileError,n=e.onSubmitMemberProfile,o=e.saveMessage,i=e.saveErrors,a=e.setEmailAsPrimary,c=e.deleteEmail,l=e.setEmailAsPrimaryAndDeleteSecondaries;return t?s.a.createElement(qt,{member:t,onSaveProfileError:r,onSubmitMemberProfile:n,saveMessage:o,saveErrors:i,setEmailAsPrimary:a,deleteEmail:c,setEmailAsPrimaryAndDeleteSecondaries:l}):s.a.createElement("div",null,"Error")}},"./app/common/lib/util/camera.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"Camera",(function(){return s}));var n=null;function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?n=function(e,t,r){navigator.mediaDevices.getUserMedia(e).then(t).catch(r)}:navigator.getUserMedia?n=navigator.getUserMedia.bind(navigator):navigator.webkitGetUserMedia&&(n=navigator.webkitGetUserMedia.bind(navigator));var a=window.URL||window.webkitURL,s=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"isModernBrowser",!1),i(this,"error",void 0),i(this,"stream",void 0),i(this,"rawStream",void 0),this.stream=null,this.isModernBrowser="srcObject"in document.createElement("video")}var t,r,s;return t=e,(r=[{key:"supportsGetUserMedia",value:function(){return!!n}},{key:"connected",value:function(){return!!this.stream}},{key:"getStream",value:function(){return this.stream}},{key:"getError",value:function(){return this.error}},{key:"connect",value:function(e){var t=this;if(this.getStream())return e(null,this.stream);this.error=null,n&&n({video:!0},(function(r){t.setRawStream(r),t.stream=t.isModernBrowser?r:a.createObjectURL(r),e(null,t.stream)}),(function(r){t.error=r,t.stream=null,e("Could not connect")}))}},{key:"setRawStream",value:function(e){this.stop(),this.rawStream=e}},{key:"stop",value:function(){if(this.rawStream&&(this.rawStream.stop&&this.rawStream.stop(),this.rawStream.getTracks)){var e=this.rawStream.getTracks();e&&e[0]&&e[0].stop&&e[0].stop()}this.stream=null,this.rawStream=null}}])&&o(t.prototype,r),s&&o(t,s),e}())},"./app/gamma/src/util/dates.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("./app/common/lib/util/i18n/index.ts"),o=r("./node_modules/moment/moment.js"),i=r.n(o),a=Object(n.forNamespace)(),s=function(e,t){var r=i()(e),n=i()(t);return r.isSame(n,"day")?Math.abs(n.diff(e,"seconds"))<10?a("just now"):r.from(t):r.calendar(t)}},"./app/scripts/data/dropbox.js":function(e,t){e.exports={DropboxPluginId:"55a5d915446f517774210002",DropboxClaimedHosts:["dropbox.com","www.dropbox.com","paper.dropbox.com"]}},"./app/scripts/data/sticker-margin.js":function(e,t){e.exports=10},"./app/scripts/data/sticker-size.js":function(e,t){e.exports=80},"./app/scripts/lib/last-action/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"isUndoEnabled",(function(){return M})),r.d(t,"isRepeatEnabled",(function(){return I})),r.d(t,"undoAction",(function(){return N})),r.d(t,"redoAction",(function(){return R})),r.d(t,"repeatAction",(function(){return F}));var n=r("./packages/action-history/index.ts"),o=r("./packages/error-reporting/index.ts"),i=r("./packages/feature-flag-client/index.ts"),a=r("./app/scripts/db/model-cache.js"),s=r.n(a),c=r("./app/scripts/debug/constants.ts"),l=r("./app/scripts/views/lib/alerts.js"),u=r.n(l),d=r("./packages/dates/index.ts"),p=r("./app/common/lib/util/i18n/index.ts");function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){var t="function"==typeof Map?new Map:void 0;return(b=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return g(e,arguments,w(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),k(n,e)})(e)}function g(e,t,r){return(g=y()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&k(o,r.prototype),o}).apply(null,arguments)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=Object(p.forNamespace)("notificationsGrouped"),x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(n,e);var t,r=(t=n,function(){var e,r=w(t);if(y()){var n=w(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return v(this,e)});function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=r.call(this,"noop")).name="NoopError",e}return n}(b(Error)),C={join:function(e,t){if(e.hasMember(t.idMember))throw new x;return e.addMember(t.idMember),j("notification_joined_card")},leave:function(e,t){if(!e.hasMember(t.idMember))throw new x;return e.removeMember(t.idMember),j("notification_left_card")},"add-member":function(e,t){if(e.hasMember(t.idMember))throw new x;e.addMember(t.idMember);var r=s.a.get("Member",t.idMember);return j("notification_added_member_to_card",{member:r.get("fullName")})},"remove-member":function(e,t){if(!e.hasMember(t.idMember))throw new x;e.removeMember(t.idMember);var r=s.a.get("Member",t.idMember);return j("notification_removed_member_from_card",{member:r.get("fullName")})},move:function(e,t){var r,n,o=e.get("idBoard"),i=e.get("idList"),a=s.a.get("List",t.idList);return r="top"===t.position?0:"bottom"===t.position?a.openCards().length:t.position+1,e.moveToList(a,r),o!==t.idBoard?j("notification_moved_card_to_board",{list:a.get("name"),board:null===(n=s.a.get("Board",t.idBoard))||void 0===n?void 0:n.get("name")}):i===t.idList?j("notification_moved_card_within_list",{list:a.get("name")}):j("notification_moved_card",{list:a.get("name")})},"add-label":function(e,t){var r=s.a.get("Label",t.idLabel);if(e.hasLabel(r))throw new x;return e.toggleLabel(r,!0),j("notification_added_label_to_card",{label:r.get("name")})},"remove-label":function(e,t){var r=s.a.get("Label",t.idLabel);if(!e.hasLabel(r))throw new x;return e.toggleLabel(r,!1),j("notification_removed_label_from_card",{label:r.get("name")})},archive:function(e){if(e.get("closed"))throw new x;return e.close(),j("notification_archived_card")},unarchive:function(e){if(!e.get("closed"))throw new x;return e.reopen(),j("notification_unarchived_card")},"set-due-date":function(e,t){var r,n=t.dueDate,o=(null===(r=e.getDueDate())||void 0===r?void 0:r.getTime())||null,i=e.get("dueReminder")||-1;if(o===n.due&&i===n.dueReminder)throw new x;if(e.setDueDate(n),!n.due)return j("notification_removed_due_date");var a=Object(d.b)(new Date(n.due));return o?n.due===o?j("notification_changed_due_date_reminder"):j("notification_changed_due_date",{date:a}):j("notification_added_a_due_date",{date:a})},rename:function(e,t){return e.recordAction(f({},t,{previousName:e.get("name")})),e.update({name:t.name}),j("notification_renamed_card")},"update-description":function(e,t){return e.recordAction(f({},t,{previousDescription:e.get("desc")})),e.update({desc:t.description}),j("notification_updated_description_of_card")}},_={join:C.leave,leave:C.join,"add-member":C["remove-member"],"remove-member":C["add-member"],move:function(e,t,r){var n,o=s.a.get("List",r.idList);return e.moveToList(o,t.fromPosition),t.idBoard!==r.idBoard?j("notification_moved_card_to_board",{list:o.get("name"),board:null===(n=s.a.get("Board",r.idBoard))||void 0===n?void 0:n.get("name")}):t.idList===r.idList?j("notification_moved_card_within_list",{list:o.get("name")}):j("notification_moved_card",{list:o.get("name")})},"add-label":C["remove-label"],"remove-label":C["add-label"],archive:C.unarchive,unarchive:C.archive,"set-due-date":function(e,t,r){var n,o=f({},t,{dueDate:t.previousDueDate,previousDueDate:t.dueDate});return null===(n=C["set-due-date"])||void 0===n?void 0:n.call(C,e,o,r)},rename:function(e,t,r){var n,o=f({},t,{name:t.previousName,previousName:t.name});return null===(n=C.rename)||void 0===n?void 0:n.call(C,e,o,r)},"update-description":function(e,t,r){var n,o=f({},t,{description:t.previousDescription,previousDescription:t.description});return null===(n=C["update-description"])||void 0===n?void 0:n.call(C,e,o,r)}},O=r("./packages/atlassian-analytics/index.ts"),E={join:"joinCardAction",leave:"leaveCardAction","add-member":"addMemberToCardAction","remove-member":"removeMemberFromCardAction",move:"moveCardAction","add-label":"addLabelToCardAction","remove-label":"removeLabelFromCardAction",archive:"archiveCardAction",unarchive:"unarchiveCardAction","set-due-date":"setCardDueDateAction",rename:"renameCardAction","update-description":"updateCardDescriptionAction"};var S=function(e,t){var r=e.idBoard,n=t.action,o=t.context;return!r||r===o.idBoard||function(e){return"move"===e.type}(n)&&n.idBoard===r},P=function(e,t){var r=e.idCard,n=t.context;return!r||r===n.idCard},A=["join","leave","add-member","remove-member","move","add-label","remove-label","archive","unarchive","set-due-date","rename"],T=function(e,t){var r=e.source,n=t.action;return"cardDetailScreen"===r||A.includes(n.type)};function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M=i.featureFlagClient.get("workflowers.undo",!1),I=i.featureFlagClient.get("workflowers.repeat",!1);function L(e){var t=e.analyticsAction,r=e.entry,n=r.action,i=r.context,a=e.userContext,l=e.map,d=e.callback,p=l[n.type];if(p){var m,f;try{if(!(m=s.a.get("Card","repeated"===t?a.idCard:i.idCard)))throw new Error("Card could not be loaded");f=p(m,n,i),null==d||d()}catch(e){var h,v;if(e instanceof x)return;return void Object(o.sendErrorEvent)(e,{tags:{ownershipArea:"trello-workflowers",feature:c.Feature.UndoAction},extraData:{analyticsAction:t,actionType:n.type,idCard:i.idCard,idBoard:i.idBoard,source:a.source,viewingCard:null!==(h=a.idCard)&&void 0!==h?h:"",viewingBoard:null!==(v=a.idBoard)&&void 0!==v?v:""}})}f&&u.a.showLiteralText(f,"subtle","lastAction",2e3),function(e){var t=e.analyticsAction,r=e.actionType,n=e.card,o=e.source;O.Analytics.sendTrackEvent({action:t,actionSubject:"action",actionSubjectId:E[r],source:o,containers:{board:{id:n.get("idBoard")},card:{id:n.id}}})}({analyticsAction:t,actionType:n.type,card:m,source:a.source})}}function N(e){var t=D(n.ActionHistory.get(),1)[0];t&&!Object.prototype.hasOwnProperty.call(t,"count")&&S(e,t)&&P(e,t)&&T(e,t)&&L({analyticsAction:"undone",entry:t,userContext:e,map:_,callback:function(){return n.ActionHistory.undo()}})}function R(e){var t=D(n.ActionHistory.getUndoStack(),1)[0];t&&S(e,t)&&P(e,t)&&T(e,t)&&L({analyticsAction:"redone",entry:t,userContext:e,map:C,callback:function(){return n.ActionHistory.redo()}})}function F(e){var t=D(n.ActionHistory.get(),1)[0];t&&!Object.prototype.hasOwnProperty.call(t,"count")&&S(e,t)&&!P(e,t)&&T(e,t)&&L({analyticsAction:"repeated",entry:t,userContext:e,map:C})}},"./app/scripts/lib/plugins/plugin-cover-with-defaults.js":function(e,t,r){var n=r("./node_modules/underscore/underscore.js"),o=r("./app/scripts/lib/plugins/plugin-validators.js");e.exports=function(e){var t={edgeColor:"transparent",height:e.height,size:"contain",padding:"0",position:"center",stickerHeight:e.height,url:e.url};return o.isValidHexColor(e.edgeColor)&&(t.edgeColor=e.edgeColor),"cover"===e.position?t.size="cover":n.isObject(e.position)&&(!0===e.position.padding&&(t.padding="8px",t.stickerHeight+=16),n.contains(["center","left","right"],e.position.align)&&(t.position=e.position.align)),t}},"./app/scripts/lib/util/array/count-while.js":function(e,t){function r(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=Math.max(t.length,1),i=t.slice(0,o-1),a=t[o-1],s=Array.from(i),c=r(s),l=c[0],u=c.slice(1);if(null==l)return 0;if(u.length>0)for(var d=0;d<l.length;d++)for(var p=l[d],m=0,f=Array.from(u);m<f.length;m++){var h=f[m];if(h.length<=d||!a(p,h[d]))return d}return l.length}},"./app/scripts/lib/util/event/trigger-list.js":function(e,t,r){var n=r("./app/scripts/lib/util/event/custom-event.js");e.exports=function(e,t,r){var o=new n(t,{bubbles:!1,cancelable:!1,detail:null!=r.detail?r.detail:void 0}),i=!1;o.stopPropagation=function(){return i=!0,n.prototype.stopPropagation.apply(this,arguments)};for(var a=0,s=Array.from(e);a<s.length;a++){var c=s[a];i||c.dispatchEvent(o)}}},"./app/scripts/lib/util/sticker-clip.js":function(e,t,r){var n=r("./app/scripts/data/sticker-margin.js"),o=-n,i=100-n;e.exports=function(e){return e<o?o:e>i?i:e}},"./app/scripts/views/camera/crop-photo-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r("./packages/jquery/index.js"),u=r("./app/scripts/views/lib/pop-over.js"),d=r("./app/scripts/views/internal/view.js"),p=r("./app/scripts/views/internal/templates.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(v,e);var t,d,m,f,h=(t=v,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function v(){return n(this,v),h.apply(this,arguments)}return d=v,f=[{key:"initClass",value:function(){this.prototype.viewTitleKey="crop photo"}}],(m=[{key:"events",value:function(){return{"click .js-done":"done","click .js-back":"back"}}},{key:"setImage",value:function(e){return this.url=e}},{key:"render",value:function(){var e=this;return this.$el.html(p.fill(r("./app/scripts/views/templates/crop_photo.js"))),this.$(".crop-image").attr("src",this.url).css({"max-width":4096,"max-height":4096}).crop({width:270,height:270}).on("mousewheel",(function(e){var t=l(this).data("crop");return e.originalEvent.wheelDelta<0?t.zoomIn():t.zoomOut()})).on("crop",(function(t){return e.cropX=t.cropX,e.cropY=t.cropY,e.cropW=t.cropW,e.cropH=t.cropH})),this}},{key:"done",value:function(){var e=this.$(".crop-image")[0],t=l("<canvas>").attr({width:270,height:270});return t[0].getContext("2d").drawImage(e,this.cropX,this.cropY,this.cropW,this.cropH,0,0,270,270),this.options.savePhoto(t[0].toDataURL("image/png")),u.hide()}},{key:"back",value:function(){return u.popView()}}])&&o(d.prototype,m),f&&o(d,f),v}(d);m.initClass(),e.exports=m},"./app/scripts/views/camera/take-photo-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r("./packages/jquery/index.js"),u=r("./app/common/lib/util/camera.ts").Camera,d=r("./app/scripts/views/camera/crop-photo-view.js"),p=r("./app/scripts/views/lib/pop-over.js"),m=r("./app/scripts/views/internal/view.js"),f=r("./app/scripts/views/internal/templates.js"),h=r("./app/scripts/lib/localize.js"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(y,e);var t,m,v,b,g=(t=y,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function y(){return n(this,y),g.apply(this,arguments)}return m=y,b=[{key:"initClass",value:function(){this.prototype.events={"click .js-connect-camera":"connectCamera","click .js-snap":"snap"},this.prototype.viewTitleKey="take a photo"}}],(v=[{key:"willBePopped",value:function(){return u.stop()}},{key:"render",value:function(){var e={connected:u.connected()},t=u.getError();if(null!=t&&("PermissionDeniedError"===t.name?e.error=h(["member profile error","could not connect to camera"]):null!=t.name?e.error=t.name:e.error=t),this.$el.html(f.fill(r("./app/scripts/views/templates/take_photo.js"),e)),u.connected()){var n=this.$(".video")[0];"srcObject"in n?n.srcObject=u.getStream():n.src=u.getStream(),n.play()}return this}},{key:"getData",value:function(){return this.connectCamera()}},{key:"connectCamera",value:function(){var e=this;return u.connect((function(t){return e.render()}))}},{key:"snap",value:function(){var e=this.$(".video")[0],t=l("<canvas>").attr({width:640,height:480});t[0].getContext("2d").drawImage(e,0,0,640,480);var r=new d({model:this.model,modelCache:this.modelCache,savePhoto:this.options.savePhoto});return r.setImage(t[0].toDataURL("image/png")),u.stop(),p.pushView({view:r,hardToClose:!0})}}])&&o(m.prototype,v),b&&o(m,b),y}(m);v.initClass(),e.exports=v},"./app/scripts/views/card/SeparatorCard/SeparatorCard.less":function(e,t,r){var n=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=r("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/scripts/views/card/SeparatorCard/SeparatorCard.less");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};n(o,i);e.exports=o.locals||{}},"./app/scripts/views/card/SeparatorCard/SeparatorCard.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"SeparatorType",(function(){return n})),r.d(t,"SeparatorNumCharacters",(function(){return o})),r.d(t,"getSeparator",(function(){return m})),r.d(t,"trackSeparator",(function(){return f})),r.d(t,"getSeparatorClassName",(function(){return h}));var n,o,i=r("./node_modules/classnames/index.js"),a=r.n(i),s=r("./app/scripts/views/card/SeparatorCard/SeparatorCard.less"),c=r.n(s),l=r("./packages/atlassian-analytics/index.ts"),u=new Set(["-","_","=","*","#","/","\\","<",">","."]);function d(e){return u.has(e)}function p(e,t){var r=e.startsWith(t),i=e.endsWith(t),a=e.startsWith(t.repeat(3)),s=e.endsWith(t.repeat(3)),c=/^(.)\1*$/.test(e);switch(!0){case r&&c:return{character:t,type:n.SeparatorOnly,numCharacters:a?o.ThreeOrMore:o.TwoOrFewer};case r&&i:return{character:t,type:n.SeparatorTitle,numCharacters:a&&s?o.ThreeOrMore:o.TwoOrFewer};case r:return{character:t,type:n.SeparatorStartTitle,numCharacters:a?o.ThreeOrMore:o.TwoOrFewer};case i:return{character:t,type:n.SeparatorEndTitle,numCharacters:s?o.ThreeOrMore:o.TwoOrFewer};default:return null}}function m(e){if(!e)return null;var t=/^[-â]+$/.test(e)?e.replace(/â/g,"--"):e,r=t.charAt(0),n=t.charAt(t.length-1),o=null,i=null;return d(r)&&(o=p(t,r)),d(n)&&(i=p(t,n)),o||i}function f(e){var t=m(e);if(t&&d(t.character)){var r=t.type,n=t.character,o=t.numCharacters;l.Analytics.sendTrackEvent({action:"updated",actionSubject:"name",source:"inlineCardComposerInlineDialog",attributes:{updatedOn:"card",isSeparator:!0,numCharacters:o,character:n,type:r}})}}function h(e){var t=m(e);if(!t)return null;var r=t.type,i=t.character,s=t.numCharacters;return r!==n.SeparatorOnly||s!==o.ThreeOrMore||"-"!==i&&"_"!==i?null:a()(c.a.separatorCard,c.a.singleHorizontalLine)}!function(e){e.SeparatorOnly="separator only",e.SeparatorTitle="separator with title",e.SeparatorStartTitle="starting separator with title",e.SeparatorEndTitle="ending separator with title"}(n||(n={})),function(e){e.ThreeOrMore="three or more",e.TwoOrFewer="two or fewer"}(o||(o={}))},"./app/scripts/views/card/card-copy-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r("./app/scripts/views/lib/alerts.js"),u=r("./app/scripts/db/auth.js"),d=r("./packages/keybindings/index.ts"),p=d.getKey,m=d.Key,f=r("./app/scripts/db/model-loader.js"),h=r("./app/scripts/views/lib/pop-over.js"),v=r("./app/scripts/views/card/card-limits-error.js").maybeDisplayLimitsErrorOnCardAdd,b=r("./app/scripts/lib/localize.js"),g=r("./app/scripts/views/label/label-limits-error-view.js"),y=r("./app/scripts/views/card/select-card-position.js"),k=r("./app/scripts/lib/util/index.js"),w=r("./app/scripts/views/internal/view.js"),j=r("./app/scripts/views/internal/templates.js"),x=r("./packages/analytics/index.ts").track,C=r("./packages/atlassian-analytics/index.ts").Analytics,_=r("./packages/feature-flag-client/index.ts").featureFlagClient,O=r("./node_modules/effing/lib/index.js"),E=r("./node_modules/underscore/underscore.js"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(P,e);var t,d,y,w,S=(t=P,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function P(){return n(this,P),S.apply(this,arguments)}return d=P,w=[{key:"initClass",value:function(){this.prototype.viewTitleKey="copy card",this.prototype.showCurrentPosition=!0,this.prototype.events={"change .js-select-position":"renderValues","change .js-select-list":"updatePositionList","change .js-select-board":"updateBoardData",'keydown textarea[name="name"]':"keydownEvent","click .js-submit":"submit","submit form":"submit"}}}],(y=[{key:"initialize",value:function(e){return this.onCopy=null!=e.onCopy?e.onCopy:function(){}}},{key:"render",value:function(){var e=this.model.toJSON();e.numChecklists=this.model.checklistList.length,e.numMembers=e.idMembers.length,e.numLabels=null!=(null!=e.idLabels?e.idLabels.length:void 0)?null!=e.idLabels?e.idLabels.length:void 0:0,e.numAttachments=e.badges.attachments,e.numComments=e.badges.comments,e.numStickers=e.stickers.length,e.hasChecklists=e.numChecklists>0,e.hasMembers=e.idMembers.length>0,e.hasLabels=e.numLabels>0,e.hasAttachments=e.badges.attachments>0,e.hasStickers=e.stickers.length>0,e.hasComments=e.badges.comments>0&&!this.model.getBoard().isTemplate(),e.hasStuff=e.hasChecklists||e.hasMembers||e.hasLabels||e.hasAttachments||e.hasComments||e.hasStickers,e.loading=this.loading;var t,n,o=this.model.getBoard(),i=this.model.getBoard().getEnterprise();o.isGuest(u.me())&&o.get("enterpriseOwned")?(e.isCopy=!0,e.hasEnterprise=!0,e.enterpriseName=null!=i?i.get("displayName"):void 0,e.restrictToCurrentBoard=!0,e.organizations=[{displayName:(t=o.getOrganization(),n=function(e){return e.get("displayName")},(null!=t?n(t):void 0)||b("member boards.boards")),boards:[E.extend(o.toJSON(),{selected:!0})]}]):null!=i?(e.isCopy=!0,e.hasEnterprise=null!=i,o=null==this.model.getBoard().getMembershipFor(u.me())?o:null,e.organizations=u.me().getOpenBoardsInEnterpriseByOrg(!0,i.get("id"),o),e.enterpriseName=i.get("displayName")):(o=this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember()?o:null,e.organizations=u.me().getOpenBoardsByOrg(!0,o));for(var a=0,s=Array.from(e.organizations);a<s.length;a++)for(var c=s[a],l=0,d=Array.from(c.boards);l<d.length;l++){var p=d[l];p.id===this.model.get("idBoard")&&(p.selected=!0)}var m={move_card_controls:j.move_card_controls};return this.$el.html(j.fill(r("./app/scripts/views/templates/card_copy.js"),e,{editable:this.model.editable()},m)),this.updateBoardData(),this}},{key:"getData",value:function(){var e=this;return this.loading=!0,Promise.all([f.loadCardCopyData(this.model.get("idBoard"),this.model.id),f.loadBoardMinimal(this.model.get("idBoard"))]).finally((function(){return e.loading=!1,e.render()}))}},{key:"keydownEvent",value:function(e){if(p(e)===m.Enter)return k.stop(e),void this.submit(e)}},{key:"submit",value:function(e){var t=this;k.stop(e);var r=this.$('textarea[name="name"]');if(""!==r.val().trim()){var n=this.$(".js-select-list").find("option:selected").val(),o=this.$(".js-select-board").find("option:selected").val(),i=this.modelCache.get("Board",o),a=null!=i?i.listList.get(n):void 0,s={$elem:this.$(e.target),hasChecklists:this.model.checklistList.length>0,hasAttachments:this.model.attachmentList.length>0,destinationBoard:i,destinationList:a};if(!v(s)){var c=this.$("input:checkbox:checked").get().map(O.get("name")),u=["start","due"].concat(c);if(o!==this.model.getBoard().id&&this.model.getLabels().length>0&&E.contains(u,"labels")&&i.isOverLimit("labels","perBoard"))return void h.pushView(new g);this.$(".js-submit").attr("disabled","disabled"),this.model.copyTo({name:r.val().trim(),idList:n,pos:this.$(".js-select-position").find("option:selected").val(),keepFromSource:u}).then((function(){if(h.hide(),t.onCopy(),x("Card","Copy Card"),_.get("dataeng.gasv3-event-tracking",!1))return C.sendTrackEvent({action:"copied",actionSubject:"card",source:"copyCardInlineDialog",containers:{card:{id:t.model.id},board:{id:t.model.getBoard().id}},attributes:{isCardTemplate:!!t.model.get("isTemplate"),isBoardTemplate:t.model.getBoard().isTemplate()}})})).catch((function(){if(h.hide(),l.flash("could not copy card","error","create error"),_.get("dataeng.gasv3-event-tracking",!1))return C.sendOperationalEvent({action:"failed",actionSubject:"cardCopy",source:"copyCardInlineDialog",containers:{card:{id:t.model.id},board:{id:t.model.getBoard().id}},attributes:{isCardTemplate:!!t.model.get("isTemplate"),isBoardTemplate:t.model.getBoard().isTemplate()}})}))}}else r.focus().select()}}])&&o(d.prototype,y),w&&o(d,w),P}(w);S.initClass(),E.extend(S.prototype,y),e.exports=S},"./app/scripts/views/card/card-limits-error.js":function(e,t,r){var n=r("./app/scripts/views/lib/limit-error-popover.js");e.exports={canAddCard:function(e){var t=e.destinationBoard,r=e.destinationList;return!((null!=t?t.isOverLimit("cards","openPerBoard"):void 0)||(null!=t?t.isOverLimit("cards","totalPerBoard"):void 0)||(null!=r?r.isOverLimit("cards","openPerList"):void 0)||(null!=r?r.isOverLimit("cards","totalPerList"):void 0)||(null!=t?t.isOverLimit("attachments","perBoard"):void 0)||(null!=t?t.isOverLimit("checklists","perBoard"):void 0))},maybeDisplayLimitsErrorOnCardAdd:function(e){var t=e.$elem,r=e.hasChecklists,o=e.hasAttachments,i=e.destinationBoard,a=e.destinationList,s=(null!=i?i.isOverLimit("cards","openPerBoard"):void 0)?"card exceeds open per board limit":(null!=i?i.isOverLimit("cards","totalPerBoard"):void 0)?"card exceeds total per board limit":(null!=a?a.isOverLimit("cards","openPerList"):void 0)?"card exceeds open per list limit":(null!=a?a.isOverLimit("cards","totalPerList"):void 0)?"card exceeds total per list limit":o&&(null!=i?i.isOverLimit("attachments","perBoard"):void 0)?"card exceeds attachments per board limit":r&&(null!=i?i.isOverLimit("checklists","perBoard"):void 0)?"card exceeds checklists per board limit":void 0;return null!=s&&(n({elem:t,message:s,trackingArea:"cardLimit",params:{boardName:i?i.get("name"):void 0,boardId:i?i.get("id"):void 0,listName:a?a.get("name"):void 0}}),!0)},maybeDisplayLimitsErrorOnCardOpen:function(e){var t=e.$elem,r=e.hasAttachments,o=e.destinationBoard,i=e.destinationList,a=(null!=o?o.isOverLimit("cards","openPerBoard"):void 0)?"card exceeds open per board limit":(null!=i?i.isOverLimit("cards","openPerList"):void 0)?"card exceeds open per list limit":r&&(null!=o?o.isOverLimit("attachments","perBoard"):void 0)?"card exceeds attachments per board limit":void 0;return null!=a&&(n({trackingArea:"cardLimit",elem:t,message:a,params:{boardName:null!=o?o.get("name"):void 0,boardId:null!=o?o.get("id"):void 0,listName:null!=i?i.get("name"):void 0}}),!0)}}},"./app/scripts/views/card/card-move-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r("./node_modules/react/index.js"),u=r("./node_modules/underscore/underscore.js"),d=r("./packages/action-history/index.ts").ActionHistory,p=r("./app/scripts/views/lib/alerts.js"),m=r("./app/scripts/network/api-ajax.js"),f=r("./app/scripts/db/auth.js"),h=r("./app/scripts/views/lib/dialog.js"),v=r("./app/scripts/lib/localize.js"),b=r("./app/scripts/views/lib/pop-over.js"),g=r("./app/scripts/views/card/card-limits-error.js").maybeDisplayLimitsErrorOnCardAdd,y=r("./app/scripts/views/label/label-limits-error-view.js"),k=r("./app/scripts/views/card/select-card-position.js"),w=r("./app/scripts/views/internal/view.js"),j=r("./app/scripts/views/internal/templates.js"),x=r("./packages/analytics/index.ts"),C=x.track,_=x.trackDebounced,O=r("./packages/feature-flag-client/index.ts").featureFlagClient,E=r("./app/src/components/ComponentWrapper/index.ts").renderComponent,S=r("./app/src/components/MoveCardPopover/index.ts").MoveCardPopover,P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(A,e);var t,k,w,x,P=(t=A,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function A(){return n(this,A),P.apply(this,arguments)}return k=A,x=[{key:"initClass",value:function(){this.prototype.viewTitleKey="move card",this.prototype.events={"change .js-select-position":"renderValues","change .js-select-list":"updatePositionList","change .js-select-board":"updateBoardData","click .js-submit":"commitChange","click .js-suggested-move":"suggestedMove"}}}],(w=[{key:"initialize",value:function(e){var t=e.onCommit;return this.onCommit=null!=t?t:function(){},this.listenTo(f.me().boardList,"add remove reset",this.render)}},{key:"render",value:function(){var e,t,n={},o=this.model.getBoard(),i=this.model.getBoard().getEnterprise();o.isGuest(f.me())&&o.get("enterpriseOwned")?(n.isMove=!0,n.hasEnterprise=!0,n.enterpriseName=null!=i?i.get("displayName"):void 0,n.restrictToCurrentBoard=!0,n.organizations=[{displayName:(e=o.getOrganization(),t=function(e){return e.get("displayName")},(null!=e?t(e):void 0)||v("member boards.boards")),boards:[u.extend(o.toJSON(),{selected:!0})]}]):null!=i?(n.isMove=!0,n.hasEnterprise=!0,o=null==this.model.getBoard().getMembershipFor(f.me())?o:null,n.organizations=f.me().getOpenBoardsInEnterpriseByOrg(!0,i.get("id"),o),n.enterpriseName=i.get("displayName")):(o=this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember()?o:null,n.organizations=f.me().getOpenBoardsByOrg(!0,o));for(var a=0,s=Array.from(n.organizations);a<s.length;a++)for(var c=s[a],d=0,p=Array.from(c.boards);d<p.length;d++){var m=p[d];m.id===this.model.get("idBoard")&&(m.selected=!0,o=m)}n.suggestions=this.getSuggestedMoves();var h={move_card_controls:j.move_card_controls};return O.get("fep.nachos_select",!1)?E(l.createElement(S,{organizations:n.organizations,defaultBoardId:o.id,defaultBoardName:o.name,defaultListId:this.model.getList().id,defaultListName:this.model.getList().get("name"),cardList:this.model.getList().cardList,currentIndex:this.model.getList().openCards().indexOf(this.model),onSubmit:this.requestChange.bind(this),hasEnterprise:n.hasEnterprise,enterpriseName:n.enterpriseName,restrictToCurrentBoard:n.restrictToCurrentBoard,isMove:n.isMove,suggestions:this.getSuggestedMoves()}),this.$el.get(0)):(h={move_card_controls:j.move_card_controls},this.$el.html(j.fill(r("./app/scripts/views/templates/popover_move_card.js"),n,{},h))),this.updateBoardData(),n.suggestions.length>0&&_.hour("Suggestions","Card Move Menu","Displayed",n.suggestions.length),this}},{key:"getSuggestedMoves",value:function(){var e=this,t=d.get(),r=this.model.getBoard(),n=this.model.getList(),o=this.model.get("idList"),i=this.model.get("idBoard"),a=new Set;return t.filter((function(e){var t=e.action,r=e.context;return"move"===t.type&&r.idList===o&&t.idBoard===i})).sort((function(e,t){if(e.action.idList===t.action.idList){var r="string"==typeof e.action.position,n="string"==typeof t.action.position;return r&&!n?-1:n&&!r?1:0}return 0})).filter((function(e){var t=e.action;return!a.has(t.idList)&&(a.add(t.idList),!0)})).filter((function(t){var r=t.action;return e.model.isValidSuggestion(r)})).slice(0,5).map((function(e){var t=e.action,o=r.listList.get(t.idList),i=o.toJSON();return i.direction=o.get("pos")>n.get("pos")?"right":"left",i.position=t.position,i}))}},{key:"suggestedMove",value:function(e){var t=this.$(e.currentTarget),r=t.attr("data-id"),n=this.model.getBoard().listList.get(r),o=function(){switch(t.attr("data-position")){case"top":return 0;case"1":return 1;default:return n.cardList.length}}();g({$elem:t,destinationList:n})||(this.model.moveToList(n,o),C("Card","Suggested","Move on Same Board"),this.onCommit(),b.hide())}},{key:"commitChange",value:function(e){var t=this.$(".js-select-board"),r=this.$(".js-select-list"),n=this.$(".js-select-position"),o=t.find("option:selected").val(),i=r.find("option:selected").val(),a=n.find("option:selected").val(),s=parseInt(n.find("option:selected").prop("index"),10);return this.requestChange(e,o,i,a,s)}},{key:"requestChange",value:function(e,t,r,n,o){var i,a,s=this;if(t===this.model.getBoard().id){if(i=this.model.getBoard().listList.get(r),a={$elem:this.$(e.target),destinationList:i},g(a))return;this.model.moveToList(i,o),C("Card","Move Menu","Same Board")}else if(null!=t&&null!=r&&null!=n){var c=this.modelCache.get("Board",t);if(i=null!=c?c.listList.get(r):void 0,a={$elem:this.$(e.target),hasChecklists:this.model.checklistList.length>0,hasAttachments:this.model.attachmentList.length>0,destinationBoard:c,destinationList:i},g(a))return;if(this.model.getLabels().length>0&&c.isOverLimit("labels","perBoard"))return void b.pushView(new y);C("Card","Move Menu","Changed Board");var l=null!=i?i.openCards().length:void 0;this.model.recordAction({type:"move",idBoard:t,idList:r,position:function(){switch(n){case"top":return l>0?"top":o;case"bottom":return l>1?"bottom":o;default:return o}}(),fromPosition:this.model.getList().openCards().indexOf(this.model)}),this.model.getList().cardList.remove(this.model),h.hide(),m({url:"/1/cards/".concat(this.model.id),type:"put",data:{idList:r,idBoard:t,pos:n},success:function(e){return s.model.board=null,s.model.set("idBoard",e.idBoard),s.model.set("idList",e.idList),s.model.set("pos",e.pos)},error:function(e){s.model.getList().cardList.add(s.model);var t=null!=e.responseJSON?e.responseJSON.error:void 0;return"BOARD_TOO_MANY_CUSTOM_FIELDS"===t?p.show("too many custom fields card","error","moveerror",8e3):"CUSTOM_FIELD_TOO_MANY_OPTIONS"===t?p.show("too many custom options card","error","moveerror",8e3):p.show("could not move card","error","moveerror",5e3)}})}this.onCommit(),b.hide()}}])&&o(k.prototype,w),x&&o(k,x),A}(w);P.initClass(),u.extend(P.prototype,k),e.exports=P},"./app/scripts/views/card/card-view-attachment.js":function(e,t,r){var n=r("./app/scripts/lib/util/index.js"),o=r("./app/scripts/views/internal/warn-if-file-too-large.js"),i=r("./app/scripts/views/internal/pasted-file-name.js"),a=r("./app/scripts/lib/util/ninvoke.js"),s=r("./app/scripts/views/lib/alerts.js"),c=r("./node_modules/bluebird/js/browser/bluebird.js");e.exports.dragenter=function(e){if(this.model.editable()){var t=this.$el.outerHeight(),r=!this.model.canAttach(),n=!this.model.canDropAttachment(e.type),o=n?".list-card-dropzone-restricted":r?".list-card-dropzone-limited":".list-card-dropzone";return this.$(o).css({height:"".concat(t,"px"),"line-height":"".concat(t,"px")}),this.$el.addClass("is-drophover").toggleClass("is-restricted",n).toggleClass("is-limited",r)}},e.exports.dragleave=function(e){return this.$el.removeClass("is-drophover")},e.exports.dropFiles=function(e){var t=this;if(this.model.canAttach()&&!this.model.attachmentTypeRestricted("computer")){var r=e.detail;if(!o(this.model.getBoard(),r))return c.resolve(r).each((function(e){var r=e.name||i();return a(t.model,"upload",e,r)})).catch((function(){return s.show("unable to upload file","error","upload",5e3)})).done(),e.stopPropagation()}else n.stop(e)},e.exports.dropUrl=function(e){if(this.model.canAttach()&&!this.model.attachmentTypeRestricted("link")){var t=e.detail;if(!this.model.getBoard().attachmentUrlRestricted(t))return this.model.uploadUrl(t),e.stopPropagation()}else n.stop(e)}},"./app/scripts/views/card/card-view-cover.js":function(e,t){e.exports.showCover=function(){return this.model.getBoard().getPref("cardCovers")&&this.model.hasCover()&&!this.onCalendar}},"./app/scripts/views/card/card-view-helpers.js":function(e,t,r){var n=r("./app/scripts/views/member-menu-profile/card-member-menu-view.js"),o=r("./app/scripts/views/lib/pop-over.js"),i=r("./app/scripts/lib/util/index.js"),a=r("./app/scripts/views/templates/member_on_card.js"),s={openMemberOnCardMenu(e){i.stop(e);var t=this.$(e.target).closest(".member"),r=t.attr("data-idmem"),a=this.modelCache.get("Member",r),s=this.model,c=this.model.getBoard();o.toggle({elem:t,view:n,options:{model:a,modelCache:this.modelCache,card:s,board:c}})},getMemberOnCardHtml(e){var t,r,n=e.toJSON(),o=this.model.getBoard();return n.isVirtual=(t=o.getOrganization(),r=function(t){return t.isVirtual(e)},(null!=t?r(t):void 0)||o.isVirtual(e)),n.isDeactivated=o.isDeactivated(e),a(n)}};e.exports=s},"./app/scripts/views/card/card-view-label.js":function(e,t,r){var n=r("./app/scripts/view-models/label-state.js"),o=r("./packages/analytics/index.ts").track;e.exports.labelClick=function(e){if(!e||!(e.ctrlKey||e.metaKey||e.shiftKey)){var t,r,i=n.getShowText();return o("Toggle Labels Text on Card Front",i?"Hide":"Show",(t=this.model.getBoard(),r=function(e){return e.id},null!=t?r(t):void 0),"click-label"),e.preventDefault(),e.stopPropagation(),n.toggleText()}},e.exports.labelMouseEnter=function(e){return this.$el.addClass("card-labels-hover")},e.exports.labelMouseLeave=function(e){return this.$el.removeClass("card-labels-hover")}},"./app/scripts/views/card/card-view-lists.js":function(e,t,r){var n=r("./node_modules/underscore/underscore.js"),o=r("./app/scripts/views/card/should-fire-confetti.ts").shouldFireConfetti,i=r("./node_modules/canvas-confetti/dist/confetti.module.mjs").default;e.exports.moveTo=function(e,t,r,a){if(0!==t.item.parents(".js-list").length){var s=t.item.parents(".js-list").find(".list-card:not(.placeholder,.js-composer)").index(t.item);if(!a){if(o(r.model.get("name"))){var c=t.item.offset(),l=t.item.height(),u=t.item.width();i({angle:n.random(55,125),spread:n.random(50,70),particleCount:n.random(40,75),origin:{x:(c.left+u/2)/window.innerWidth,y:(c.top+l/2)/window.innerHeight}})}t.item.remove()}this.model.moveToList(r.model,s)}else null!=r&&r.renderCards()},e.exports.moveIn=function(e,t,r){r.model.id===this.model.get("idList")&&this.moveTo(e,t,r,!0)}},"./app/scripts/views/card/card-view-mixins.js":function(e,t,r){var n=r("./packages/browser/index.ts"),o=r("./app/scripts/lib/dates.js"),i=r("./app/scripts/views/internal/due-date-helpers.js"),a=r("./app/common/lib/util/preview.ts").makePreviewCachable,s=r("./app/scripts/models/label.js"),c=r("./app/scripts/views/internal/plugins/plugin-model-serializer.js"),l=r("./app/scripts/views/internal/plugins/plugin-runner.js"),u=r("./node_modules/underscore/underscore.js"),d=r("./app/scripts/views/templates/label.js"),p=r("./app/scripts/lib/plugins/plugin-cover-with-defaults.js"),m=r("./app/scripts/lib/plugins/plugin-validators.js"),f=r("./app/scripts/views/internal/teacup-with-helpers.js")("badge"),h=r("./app/scripts/lib/localize.js"),v=r("./packages/feature-flag-client/index.ts").featureFlagClient,b=r("./app/scripts/lib/util/index.js"),g=r("./packages/unsplash/index.ts").UnsplashTracker,y=f.renderable((function(e){var t=e.archived,r=e.attachments,n=e.attachmentsByType,a=e.checkItems,s=e.checkItemsChecked,c=e.checkItemsEarliestDue,l=e.comments,u=e.description,d=e.due,p=e.dueComplete,m=e.location,b=e.notifications,g=e.start,y=e.subscribed,k=e.viewingMemberVoted,w=e.votes,j=e.isOnBoardTemplate,x=e.hideVotes,C=e.isCardTemplate,_=e.showDueCompleteCheckbox;C&&f.div(".badge.is-template",{title:h("badge.template")},(function(){return f.span(".badge-icon.icon-sm.icon-template-card"),f.span(".badge-text",(function(){return f.format("template")}))})),b&&f.div(".badge.is-unread-notification",{title:h("badge.notifications")},(function(){return f.span(".badge-icon.icon-sm.icon-notification"),f.span(".badge-text",(function(){return f.text(b)}))})),y&&f.div(".badge.is-icon-only",{title:h("badge.watch")},(function(){return f.span(".badge-icon.icon-sm.icon-subscribe")})),w>0&&!C&&(x?x&&k&&f.div(".badge",{title:h("badge.votes"),class:f.classify({"is-voted":k})},(function(){return f.span(".badge-icon.icon-sm.icon-vote")})):f.div(".badge",{title:h("badge.votes"),class:f.classify({"is-voted":k})},(function(){return f.span(".badge-icon.icon-sm.icon-vote"),f.span(".badge-text",(function(){return f.text(w)}))})));var O=v.get("ecosystem.timeline-version","none");g&&!C&&"none"!==O&&f.div(".badge.js-start-date-badge",(function(){f.span(".badge-icon.icon-sm.icon-clock.badge-due-icon"),f.span(".badge-text.js-start-date-text",(function(){f.text(o.toDateString(g))}))})),d&&!C&&f.div(".badge.js-due-date-badge",{title:i.titleForDueDate(d,p),class:f.classify({[i.classForDueDate(d,p)]:!0,"mod-due-date":_})},(function(){return f.span(".badge-icon.icon-sm.icon-clock.badge-due-icon"),f.input(".mod-due-complete-checkbox",{type:"checkbox",checked:p}),f.span(".badge-text.js-due-date-text",(function(){return f.text(o.toDateString(d))}))})),u&&f.div(".badge.is-icon-only",{title:h("badge.description")},(function(){return f.span(".badge-icon.icon-sm.icon-description")})),l>0&&!j&&f.div(".badge",{title:h("badge.comments")},(function(){return f.span(".badge-icon.icon-sm.icon-comment"),f.span(".badge-text",(function(){return f.text(l)}))}));var E=n?n.trello.board+n.trello.card:0;if((r-=E)>0&&f.div(".badge",{title:h("badge.attachments")},(function(){return f.span(".badge-icon.icon-sm.icon-attachment"),f.span(".badge-text",(function(){return f.text(r)}))})),E>0&&f.div(".badge",{title:h("badge.trello attachments")},(function(){return f.span(".badge-icon.icon-sm.icon-board"),f.span(".badge-text",(function(){return f.text(E)}))})),a>0&&f.div(".badge.js-checkitems-badge",{title:h("badge.checkitems"),class:f.classify({"is-complete":s===a,[i.classForDueDate(c,!1)]:null!=c})},(function(){return f.span(".badge-icon.icon-sm.icon-checklist"),f.span(".badge-text.js-checkitems-badge-text",(function(){if(f.text(s),f.text("/"),f.text(a),c)return f.text(" â¢ "),f.text(o.toDateString(c))}))})),t&&f.div(".badge",{title:h("badge.archived.title")},(function(){return f.span(".badge-icon.icon-sm.icon-archive"),f.span(".badge-text",(function(){return f.text(h("badge.archived.text"))}))})),m)return f.div(".badge",{title:h("badge.location")},(function(){return f.span(".badge-icon.icon-sm.icon-location")}))}));function k(e,t){return null!=e?t(e):void 0}e.exports={clearCover(){return this.$el.removeClass("is-covered"),this.$(".js-card-stickers").css("height",""),this.$(".js-card-cover").css({"background-origin":"","background-image":"","background-color":"",height:"",padding:""}).removeClass("is-no-preview-size color-card-cover"),this.clearColorCover()},clearColorCover(){return this.$(".js-card-cover").removeClass((function(e,t){return(t.match(/\bcolor-card-cover-\S+/g)||[]).join(" ")}))},renderCover(){var e;if(!this.model.getBoard().getPref("cardCovers")||this.onCalendar)return this.clearCover(),this.clearFullCover(),this;if(!this.model.hasCover())return this.renderPluginCover(),this;var t=this.model.get("cover"),r=t.idAttachment,o=t.idUploadedBackground,i=t.color,s=t.scaled,c=t.edgeColor,l=t.sharedSourceUrl,u=t.size,d=this.$(".js-card-cover"),p=this.$(".js-card-stickers");if(this.clearColorCover(),"full"===u&&this.shouldRenderFullCover())return this.renderFullCover();if(this.clearFullCover(),i)e=this.model.hasStickers()?64:32,d.css({"background-color":"","background-image":"","background-size":"",height:e}).toggleClass("is-no-preview-size",!1),d.addClass("color-card-cover color-card-cover-".concat(i)),p.css("height",e);else if(r||o){var m,f=n.isHighDPI()?600:300,h=null!=(m=b.smallestPreviewBiggerThan(s,f))?m:b.biggestPreview(s);if(null==h&&r&&null!=this.model.attachmentList){var v=this.model.attachmentList.get(this.model.get("idAttachmentCover"));if(null==v)return null;h={url:v.get("url")}}if(d.css({"background-color":null!=c?c:"transparent","background-image":'url("'.concat(a(h.url),'")')}).toggleClass("is-no-preview-size",null==h),null!=h){var y=Math.min(h.height,260);(e=245*h.height/h.width)<=y?(d.css({height:e,"background-size":"cover"}),p.css("height",e)):(d.css({height:y,"background-size":"contain"}),p.css("height",y)),o&&g.trackOncePerInterval(l)}}return this.$el.addClass("is-covered"),this},clearFullCover(){return this.$(".js-card-stickers").css("height",""),this.$el.removeClass((function(e,t){var r=t.match(/\bcolor-card-cover-\S+/g)||[];return r.push("full-cover-list-card"),r.push("full-cover-list-card-dark"),r.join(" ")})),this.$el.css({"background-size":"","background-image":"","background-position":"","background-repeat":"","background-color":"","min-height":""})},renderFullCover(){this.clearCover(),this.clearFullCover();var e=this.model.get("cover"),t=e.color,r=e.scaled,o=e.edgeColor,i=e.brightness;if(this.$el.addClass("full-cover-list-card"),"dark"===i&&this.$el.addClass("full-cover-list-card-dark"),t)this.$el.addClass("color-card-cover color-card-cover-".concat(t));else{var a,s,c=n.isHighDPI()?600:300,l=null!=(s=b.smallestPreviewBiggerThan(r,c))?s:b.biggestPreview(r),u={"background-image":'url("'.concat(l.url,'")'),"background-size":"cover"},d=Math.min(l.height,260);if(this.$el.height()>d)a="auto",u["background-size"]="contain",u["background-position"]="center",u["background-repeat"]="no-repeat",u["background-color"]=o;else{var p=245*l.height/l.width;a=p<=d?p:d}u["min-height"]=a,this.$el.css(u),this.$(".js-card-stickers").css("height",this.$el.height())}return this.$el.addClass("is-covered"),this},getFullCoverStylesForInitialRender(){var e,t=this.model.get("cover"),r=t.idAttachment,o=t.scaled,i=n.isHighDPI()?600:300,a=null!=(e=b.smallestPreviewBiggerThan(o,i))?e:b.biggestPreview(o);if(null==a&&r&&null!=this.model.attachmentList){var s=this.model.attachmentList.get(this.model.get("idAttachmentCover"));if(null==s)return null;a={url:s.get("url")}}if(null==a)return null;var c={"background-image":'url("'.concat(a.url,'")'),"background-size":"cover"},l=Math.min(a.height,260),u=245*a.height/a.width;return c["min-height"]="".concat(u<=l?u:l,"px"),f.stylify(c)},renderPluginCover(){var e=this;return this.waitForId(this.model,(function(){return l.one({command:"card-cover",board:e.model.getBoard(),card:e.model,list:e.model.getList(),timeout:1e4,options:{attachments:c.attachments(e.model.attachmentList.models,["id","url"]),cardDetail:!1}}).then((function(t){if(!e.model.hasCover()){if(!m.isValidCover(t))throw new Error("Invalid cover supplied");var r=p(t);return e.$(".js-card-cover").css({"background-origin":"content-box","background-color":r.edgeColor,"background-image":'url("'.concat(r.url,'")'),"background-position":r.position,"background-repeat":"no-repeat","background-size":r.size,height:"".concat(r.height,"px"),padding:r.padding}).removeClass("is-no-preview-size"),e.$(".js-card-stickers").css("height",r.stickerHeight),e.$el.addClass("is-covered")}})).catch((function(){if(!e.model.hasCover())return e.clearCover(),e.clearFullCover()}))}))},getBadgesHtml(){var e,t=this,r=null!=(e=this.model.get("badges"))?e:{},n=v.get("remarkable.card-front-due-complete-checkbox",!1);return y({subscribed:r.subscribed,description:r.description,comments:r.comments,attachments:r.attachments,attachmentsByType:r.attachmentsByType,checkItems:r.checkItems,checkItemsChecked:r.checkItemsChecked,checkItemsEarliestDue:r.checkItemsEarliestDue,hideVotes:!!k(k(this.model.getBoard(),(function(e){return e.get("prefs")})),(function(e){return e.hideVotes})),votes:r.votes,viewingMemberVoted:r.viewingMemberVoted,due:this.model.get("due"),dueComplete:this.model.get("dueComplete"),notifications:u.filter(this.modelCache.all("Notification"),(function(e){return e.get("unread")&&null!=t.model.id&&k(k(e.get("data"),(function(e){return e.card})),(function(e){return e.id}))===t.model.id})).length,archived:this.model.get("closed"),location:r.location&&k(this.model.getBoard(),(function(e){return e.isMapPowerUpEnabled()})),isOnBoardTemplate:this.model.isOnBoardTemplate(),isCardTemplate:!!this.model.get("isTemplate"),showDueCompleteCheckbox:n,start:this.model.get("start")})},renderBadges(){return this.$(".js-badges").html(this.getBadgesHtml()),this},updateDateBadges(){return this.updateDueDate(),this.updateCheckItemsEarliestDue()},updateDueDate(){var e=this.model.get("due"),t=this.model.get("dueComplete"),r=this.el.querySelector(".js-due-date-badge"),n=this.el.querySelector(".js-due-date-text");if(r&&n){var a=r.getAttribute("title"),s=i.titleForDueDate(e,t);if(a===s)return this;r.setAttribute("title",s);var c=r.classList.value.split(" ").pop();r.classList.replace(c,i.classForDueDate(e,t)),n.innerText=o.toDateString(e)}return this},updateCheckItemsEarliestDue(){var e=this.model.get("badges");if(!e)return this;var t=e.checkItemsEarliestDue,r=this.$(".js-checkitems-badge");return r&&(r.removeClass((function(e,t){return(t.match(/\bis-due-\S+/g)||[]).join(" ")})),t&&r.addClass(i.classForDueDate(t,!1))),this},toggleDueDateComplete(e){if(v.get("remarkable.card-front-due-complete-checkbox",!1)){b.stop(e);var t=!this.model.get("dueComplete");return this.model.update({dueComplete:t})}},renderMembers(e){var t=this,r=function(){for(var e=[],r=t.model.memberList.models.length-1;r>=0;r--){var n=t.model.memberList.models[r];e.push(t.getMemberOnCardHtml(n))}return e}();return this.$(".js-list-card-members").empty().append(r.join("")),this},labelsData(){var e=this;return u.chain(this.model.getLabels()).sort(s.compare).map((function(t){return e.model.dataForLabel(t)})).filter((function(e){return!u.isEmpty(e.color)})).value()},renderLabels(){var e=this,t=function(){for(var t=[],r=0,n=Array.from(e.labelsData());r<n.length;r++){var o=n[r];o.extraClasses=["mod-card-front"],t.push(d(o))}return t}();return this.$(".js-card-labels").empty().append(t),this}}},"./app/scripts/views/card/card-view-name-edit.js":function(e,t,r){var n=r("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts").getSeparatorClassName,o=r("./app/scripts/views/templates/card_title_on_card_front.js"),i=r("./app/scripts/lib/util/index.js"),a=r("./app/scripts/views/lib/pop-over.js"),s=r("./app/scripts/views/card/quick-card-editor-view.js"),c=r("./packages/analytics/index.ts").track,l=r("./app/scripts/lib/markdown/tfm.js"),u=r("./app/scripts/views/internal/friendly-links.js"),d=r("./app/scripts/views/lib/tooltip.js"),p=r("./packages/feature-flag-client/index.ts").featureFlagClient,m=r("./app/scripts/debug/log-error.ts").logError,f=r("./app/scripts/debug/constants.ts").Feature;e.exports.renderName=function(){var e=this.model.toJSON();e.separatorClassName=n(e.name);var t=o(e);if(this.$(".js-card-name").html(t),p.get("remarkable.card-front-links",!1)&&!e.separatorClassName)try{var r=l.name.format(e.name).output;r&&(this.$(".js-card-name").html(r),u(this.$(".js-card-name")[0],this.model.getBoard()))}catch(e){m({error:e,tags:{ownershipArea:"trello-remarkable",feature:f.CardFrontLinks}})}return this},e.exports.openQuickCardEditor=function(e){if(!this.options.quickEditHidden&&this.model.editable())return i.stop(e),a.hide(),s.open(this),c("Card Front","Open Quick Card Editor",void 0,this.model.trackProperty()),this},e.exports.handleLinkInCardNameClick=function(e){return null!=e?e.stopPropagation():void 0},e.exports.showTooltipForLinkInCardName=function(e){var t=this.$(e.target);if(t.attr("href"))return d.show(t.attr("href"),t,!1,d.STYLE.MENU)},e.exports.hideTooltipForLinkInCardName=function(){return d.hide()}},"./app/scripts/views/card/card-view-plugins.js":function(e,t,r){var n=r("./packages/atlassian-analytics/index.ts").Analytics,o=r("./packages/feature-flag-client/index.ts").featureFlagClient,i=r("./app/scripts/view-models/member-state.js"),a=r("./packages/analytics/index.ts"),s=a.track,c=a.trackUe,l=a.Noun,u=a.Verb,d=r("./app/scripts/lib/util/sticker-clip.js"),p=r("./app/scripts/views/stickers/sticker-view.js"),m=r("./app/scripts/views/custom-field/custom-field-badges-view.js"),f=r("./app/scripts/views/plugin/plugin-badges-view.js"),h=r("./app/scripts/data/legacy-power-ups.js").cardAging;e.exports.addNewStickerToList=function(e,t,r,n){var o=null!=e.id?e.id:e.get("image"),a=e.get("url"),p=e.get("scaled"),m=e.get("isGiphySticker");if(m){var f=i.getUseAnimatedStickers();f||(o=e.get("stillUrl"),a=e.get("stillUrl"),p=e.get("stillScaled")),c({category:l.CARD,verb:u.ADDS,directObj:l.GIPHY_STICKER,context:{useAnimatedStickers:f}})}s("Card","Sticker",o,this.model.trackProperty()),this.model.stickerList.create({image:o,left:d(t),top:d(r),rotate:n,zIndex:this.model.stickerList.nextZIndex(),imageUrl:a,imageScaled:p,isGiphySticker:m},{modelCache:this.modelCache})},e.exports.showStickers=function(){return!this.onCalendar},e.exports.renderStickers=function(e){var t=this;if(this.showStickers()){var r=this.$(".js-stickers-area"),n=this.$(".js-card-stickers"),o=this.model.hasStickers(),i=this.model.editable();if(o){this.$el.addClass("is-stickered"),r.removeClass("hide");var a=this.model.stickerList.map((function(e){return t.subview(p,e,{canRemove:i&&e.id&&!t.options.quickEditHidden,fixedHeight:function(){return t.$(".js-card-details").get(0).getBoundingClientRect().top-r.get(0).getBoundingClientRect().top},fixedWidth:function(){var e=r.get(0).getBoundingClientRect(),n=t.$(".js-card-menu").get(0);return n?n.getBoundingClientRect().left-e.left:t.$el.get(0).getBoundingClientRect().right-e.left}},e.id||e.cid)}));this.ensureSubviews(a,n),this.renderCover()}else this.$el.removeClass("is-stickered"),r.addClass("hide");return this}this.$el.removeClass("is-stickered")},e.exports.renderCustomFieldItems=function(){var e=this.subview(m,this.model);return this.appendSubview(e,this.$(".js-custom-field-badges")),this},e.exports.renderPluginBadges=function(){var e=this.$(".js-plugin-badges");return this.ensureSubviews([this.subview(f,this.model)],e),this},e.exports.renderPowerUpEffects=function(){var e=this.model.getBoard();this.$el.removeClass(this.model.getAllAgingClasses());var t=this.model.getPluginDataByKey(h,"shared","evergreen",!1);if(e.isPowerUpEnabled("cardAging")&&!this.model.get("closed")&&!t&&!this.model.get("isTemplate")){var r=this.model.getAgingData();return this.$el.addClass(r.agingClassesToAdd)}},e.exports.moveToCalendarDay=function(e,t,r){r.getCardView(this.model).delegateEvents();var i=new Date(r.data.day),a="";return o.get("dataeng.vitalstats-edit-card",!1)&&(a=n.startTask({taskName:"edit-card",subTask:"due",source:"calendarViewScreen"})),this.model.changeDueDateMaintainTime(i,a,(function(e,t){e?o.get("dataeng.vitalstats-edit-card",!1)&&n.taskFailed({taskName:"edit-card",subTask:"due",traceId:a,source:"calendarViewScreen"}):(n.sendUpdatedCardFieldEvent({field:"due",source:"calendarViewScreen",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:a}}),o.get("dataeng.vitalstats-edit-card",!1)&&n.taskSucceeded({taskName:"edit-card",subTask:"due",traceId:a,source:"calendarViewScreen"}))})),r.updateHeader(),r.renderCardsAndListHeaders()},e.exports.moveInCalendarDay=function(e,t,r){return r.getCardView(this.model).delegateEvents(),r.renderCardsAndListHeaders()},e.exports.renderDueComplete=function(){return this.$el.toggleClass("is-due-complete",this.model.get("dueComplete")),this.updateDueDate()}},"./app/scripts/views/card/card-view-templates.js":function(e,t){e.exports.isOnBoardTemplate=function(){return this.model.isOnBoardTemplate()}},"./app/scripts/views/card/card-view.js":function(e,t,r){function n(e,t,r){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=r("./packages/jquery/index.js"),p=r("./app/scripts/db/auth.js"),m=r("./packages/browser/index.ts"),f=r("./app/scripts/views/label/card-label-select-view.js"),h=r("./app/scripts/views/card/card-member-select-view.js"),v=r("./app/scripts/views/card/card-view-helpers.js"),b=r("./app/scripts/views/card/card-view-mixins.js"),g=r("./app/scripts/controller/index.js"),y=r("./app/scripts/views/card/date-picker-view.js"),k=r("./app/scripts/lib/dates.js");r("./app/scripts/views/internal/data-transfer/drag-drop-events.js");var w=r("./app/scripts/views/lib/drag-sort.js"),j=r("./packages/keybindings/index.ts"),x=j.getKey,C=j.Key,_=j.registerShortcutHandler,O=j.Scope,E=j.unregisterShortcutHandler,S=r("./packages/feature-flag-client/index.ts").featureFlagClient,P=r("./app/scripts/views/label/label-key-helper.js"),A=r("./app/scripts/views/internal/paste-input.js"),T=r("./app/scripts/views/lib/pop-over.js"),D=r("./app/scripts/views/lib/post-render.js"),B=r("./node_modules/bluebird/js/browser/bluebird.js"),M=r("./app/scripts/lib/last-action/index.ts"),I=M.repeatAction,L=M.isRepeatEnabled,N=r("./node_modules/promise-queue/lib/index.js"),R=r("./packages/storage/index.ts").TrelloStorage,F=r("./app/scripts/lib/util/index.js"),V=r("./app/scripts/views/internal/view.js"),H=r("./node_modules/underscore/underscore.js"),z=r("./packages/atlassian-analytics/index.ts"),$=z.Analytics,U=z.Apdex,q=z.tracingCallback,K=r("./app/scripts/debug/log.js"),G=r("./packages/analytics/index.ts").track,W=r("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),X=r("./app/scripts/views/templates/card_in_list.js"),Y=r("./app/scripts/controller/currentModelManager.ts").currentModelManager,J=r("./app/scripts/views/card/card-view-name-edit.js"),Z=J.renderName,Q=J.openQuickCardEditor,ee=J.handleLinkInCardNameClick,te=J.showTooltipForLinkInCardName,re=J.hideTooltipForLinkInCardName,ne=r("./app/scripts/views/card/card-view-cover.js").showCover,oe=r("./app/scripts/views/card/card-view-label.js"),ie=oe.labelClick,ae=oe.labelMouseEnter,se=oe.labelMouseLeave,ce=r("./app/scripts/views/card/card-view-attachment.js"),le=ce.dragenter,ue=ce.dragleave,de=ce.dropFiles,pe=ce.dropUrl,me=r("./app/scripts/views/card/card-view-lists.js"),fe=me.moveTo,he=me.moveIn,ve=r("./app/scripts/views/card/card-view-templates.js").isOnBoardTemplate,be=r("./app/scripts/views/card/card-view-plugins.js"),ge=be.addNewStickerToList,ye=be.showStickers,ke=be.renderStickers,we=be.renderCustomFieldItems,je=be.renderPluginBadges,xe=be.renderPowerUpEffects,Ce=be.moveToCalendarDay,_e=be.moveInCalendarDay,Oe=be.renderDueComplete,Ee=new N(1),Se=function(e){Ee.add((function(){return new B((function(t){e.hookDroppable(),H.defer(t)}))}))},Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(o,e);var t,r=(t=o,function(){var e,r=u(t);if(l()){var n=u(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return s(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onShortcut=t.onShortcut.bind(c(t)),t.throttledJoin=t.throttle(t.onJoin,500),t}return i(o,null,[{key:"initClass",value:function(){H.extend(this.prototype,v,b),this.prototype.tagName="a",this.prototype.filterDeactivated=!0,this.prototype.applyBoardCardFilter=!0,this.prototype.trackApdex=!0,this.prototype.events={moveto:"moveTo",movein:"moveIn",moveToCalendarDay:"moveToCalendarDay",moveInCalendarDay:"moveInCalendarDay","click .js-open-quick-card-editor":"openQuickCardEditor","click .js-member-on-card-menu":"openMemberOnCardMenu","click .card-label.mod-card-front":"labelClick","click .js-due-date-badge":"toggleDueDateComplete",click:"showDetail","click a":"handleLinkInCardNameClick","mouseenter a":"showTooltipForLinkInCardName","mouseleave a":"hideTooltipForLinkInCardName",contextmenu(e){if(!(e.ctrlKey||e.metaKey||e.shiftKey||R.get("nocontext")))return this.openQuickCardEditor(e)},mouseenter(){return this.trigger("mouseEnterCardView")},mousemove(){return this.trigger("mouseMoveCardView")},mouseleave(){return this.trigger("mouseLeaveCardView")},"mouseenter .card-label.mod-card-front":"labelMouseEnter","mouseleave .card-label.mod-card-front":"labelMouseLeave","dd-enter:files":"dragenter","dd-leave:files":"dragleave","dd-drop:files":"dropFiles","dd-enter:url":"dragenter","dd-leave:url":"dragleave","dd-drop:url":"dropUrl","pasteinput:files":"dropFiles","pasteinput:url":"dropUrl"},this.prototype.isOnBoardTemplate=ve,this.prototype.addNewStickerToList=ge,this.prototype.showStickers=ye,this.prototype.renderStickers=ke,this.prototype.renderName=Z,this.prototype.renderCustomFieldItems=we,this.prototype.renderPluginBadges=je,this.prototype.showCover=ne,this.prototype.renderDueComplete=Oe,this.prototype.renderPowerUpEffects=xe,this.prototype.openQuickCardEditor=Q,this.prototype.labelClick=ie,this.prototype.labelMouseEnter=ae,this.prototype.labelMouseLeave=se,this.prototype.moveToCalendarDay=Ce,this.prototype.moveInCalendarDay=_e,this.prototype.moveTo=fe,this.prototype.moveIn=he,this.prototype.dragenter=le,this.prototype.dragleave=ue,this.prototype.dropFiles=de,this.prototype.dropUrl=pe,this.prototype.handleLinkInCardNameClick=ee,this.prototype.showTooltipForLinkInCardName=te,this.prototype.hideTooltipForLinkInCardName=re}}]),i(o,[{key:"className",value:function(){if(Ae(this.model.getBoard(),(function(e){return e.getPref("cardCovers")}))&&null!=this.model.get("cover")){var e=this.model.get("cover"),t=e.size,r=e.brightness,n=e.color,o=e.idAttachment,i=e.idUploadedBackground;if((o||i||n)&&"full"===t&&this.shouldRenderFullCover()){var a="dark"===r?"full-cover-list-card-dark":"",s=n?"color-card-cover color-card-cover-".concat(n):"";return"".concat("list-card js-member-droppable"," full-cover-list-card ").concat(a," ").concat(s)}}return"list-card js-member-droppable"}},{key:"attributes",value:function(){if(Ae(this.model.getBoard(),(function(e){return e.getPref("cardCovers")}))&&null!=this.model.get("cover")){var e=this.model.get("cover"),t=e.size,r=e.idAttachment,n=e.idUploadedBackground,o=e.color;if((r||n||o)&&"full"===t&&this.shouldRenderFullCover()){var i=this.getFullCoverStylesForInitialRender();if(null!=i)return{style:i}}}return{}}},{key:"initialize",value:function(){for(var e=this,t=0,r=["filterDeactivated","applyBoardCardFilter","trackApdex"];t<r.length;t++){var n=r[t];null!=this.options[n]&&(this[n]=this.options[n])}D.enqueue("initialize_cardview_".concat(this.cid),(function(){e.render(),e.makeDebouncedMethods("render","renderName","renderLabels","renderCover","renderFiltered","renderPowerUpEffects","renderStickers","renderBadges","renderDueComplete","renderCustomFieldItems","updateDateBadges"),e.listenTo(e.model,{"change:name":e.renderNameDebounced,"change:labels":e.renderLabelsDebounced,"change:idAttachmentCover change:cover":e.renderCoverDebounced,"change:name change:labels change:idLabels change:due change:start change:dueComplete":e.renderFilteredDebounced,"change:due change:start change:badges":e.updateRenderIntervalSubscription,"change:dueComplete":e.renderDueComplete,"change:dateLastActivity":function(){return e.renderCoverDebounced(),e.renderPowerUpEffectsDebounced()},"change:badges change:due change:start change:subscribed change:isTemplate":e.renderBadgesDebounced,keyboardMove:e.scrollIntoView}),e.listenTo(e.model.customFieldItemList,"add remove reset change",e.frameDebounce((function(){return this.renderCustomFieldItems(),this.renderFiltered()}))),e.listenTo(e.modelCache,"add:Notification remove:Notification change:Notification",e.renderBadgesDebounced),e.listenTo(e.model.memberList,"change:initials change:avatarUrl change:avatarSource change:fullName change:username",e.renderMembers),e.listenTo(e.model.memberList,"add remove reset",e.frameDebounce((function(){return this.renderMembers(),this.renderFiltered()}))),e.listenTo(e.model.labelList,"add remove reset change",e.renderLabelsDebounced),e.listenTo(e.model.stickerList,{"add remove reset change sort":e.renderStickersDebounced});var t=e.model.getBoard();return e.listenTo(t,"change:powerUps change:prefs.cardAging",e.renderPowerUpEffectsDebounced),e.subscribe(W(t,e.model),(function(){return e.renderCoverDebounced(),e.renderPowerUpEffectsDebounced()})),e.listenTo(t.filter,"change",e.renderFilteredDebounced),e.listenTo(t,"change:labels",e.renderLabelsDebounced),e.listenTo(t,"change:memberships",e.renderMembers),e.listenTo(t,"change:prefs.hideVotes",e.renderBadgesDebounced),e.listenTo(t,"change:prefs.cardCovers",e.renderCoverDebounced),e.listenTo(t.customFieldList,"add remove reset change",e.renderCustomFieldItemsDebounced),e.listenTo(t.boardPluginList,"add remove reset change",(function(){return e.renderCustomFieldItemsDebounced(),e.renderBadgesDebounced()})),e.listenTo(t.viewState,"active-card-changed",e.renderActiveState),e.listenTo(t,"permChange",e.render),e.listenTo(e,"mouseEnterCardView",(function(){return Se(this)})),e.updateRenderIntervalSubscription()}))}},{key:"shouldRenderFullCover",value:function(){return!0}},{key:"renderActiveState",value:function(){var e=this;if(null!=this.$el){var t=Ae(this.model.getBoard(),(function(t){return t.viewState.isCardSelected(e.model)}));this.$el.toggleClass("active-card",t),t?(A.addHandler(this,{scope:"card"}),_(this.onShortcut,{scope:O.Card})):(A.removeHandler(this),E(this.onShortcut,{scope:O.Card}))}}},{key:"remove",value:function(){return E(this.onShortcut),n(u(o.prototype),"remove",this).apply(this,arguments)}},{key:"onJoin",value:function(e,t,r){var n=this,o=this.model.getBoard();if(ve=this.isOnBoardTemplate(),r&&!ve&&(o.hasActiveMembership(p.me())||o.isEditableByTeamMemberAndIsNotABoardMember())){var i=S.get("dataeng.vitalstats-edit-card.idMembers",!1)?function(){var e=$.startTask({taskName:"edit-card",subTask:"idMembers",source:"cardView"});n.model.toggleMemberWithTracing(p.myId(),{traceId:e},q({taskName:"edit-card",subTask:"idMembers",traceId:e,source:"cardView"},(function(){$.sendUpdatedCardFieldEvent({field:"idMembers",source:"cardView",containers:{card:{id:n.model.id},board:{id:n.model.get("idBoard")},list:{id:n.model.get("idList")}},attributes:{taskId:e}})})))}:function(){return n.model.toggleMember(p.myId())};o.requestJoinBoard(i),e.preventDefault(),t("assignSelfShortcut",{shortcutKey:"Space",toggleValue:this.model.hasMember(p.myId())?"add":"remove"})}}},{key:"onShortcut",value:function(e){var t=this,r=p.isLoggedIn(),n=this.model.editable(),o=!!this.model.get("isTemplate"),i=this.onCalendar,a=x(e),s=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.shortcutKey,o=void 0===n?a:n,i=r.toggleValue;$.sendPressedShortcutEvent({shortcutName:e,source:"cardView",keyValue:o,containers:t.model.getAnalyticsContainers(),attributes:{toggleValue:void 0!==i?i.toLowerCase():void 0}})};switch(a){case C.Enter:return this.showDetail(),e.preventDefault(),void s("openCardShortcut");case C.e:return this.openQuickCardEditor(),e.preventDefault(),void s("quickCardEditorShortcut");case C.t:return g.showCardDetail(this.model,{runMethod:"editTitle",method:"via the T shortcut from card front"}),e.preventDefault(),void s("openCardAndEditTitleShortcut");case C.Dash:return g.showCardDetail(this.model,{runMethod:"onChecklistShortcut",method:"via the dash shortcut from card front"}),e.preventDefault(),void s("addChecklistShortcut");case C.d:return void(n&&!o&&(this.showPopOver(y,{trackingCategory:"keyboard shortcut"}),e.preventDefault(),s("dueDatesShortcut")));case C.l:return void(n&&(this.showPopOver(f,{hideOnSelect:!1}),e.preventDefault(),s("editLabelsShortcut")));case C.Zero:case C.One:case C.Two:case C.Three:case C.Four:case C.Five:case C.Six:case C.Seven:case C.Eight:case C.Nine:if(n){var c=!0;P.setLabelFromKey(a,this.model,(function(e){return c=!1,t.showPopOver(f,{searchInit:e,hideOnSelect:!0})})),e.preventDefault();var l="showLabelsPopover";if(c){var u=P.colorForKey(a);l=this.model.hasLabel(u)?"add":"remove"}s("toggleLabelShortcut",{toggleValue:l})}return;case C.a:case C.m:return void(n&&!this.isOnBoardTemplate()&&(this.showPopOver(h),e.preventDefault(),s("assignMembersShortcut")));case C.Space:return void this.throttledJoin(e,s,n);case C.c:if(n){var d="";S.get("dataeng.vitalstats-edit-card",!1)&&(d=$.startTask({taskName:"edit-card",subTask:"closed",source:"cardView"})),this.model.close(d,(function(e,t){if(e)throw S.get("dataeng.vitalstats-edit-card",!1)&&$.taskFailed({taskName:"edit-card",subTask:"closed",traceId:d,source:"cardView"}),e;$.sendUpdatedCardFieldEvent({field:"closed",source:"cardView",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:d}}),S.get("dataeng.vitalstats-edit-card",!1)&&$.taskSucceeded({taskName:"edit-card",subTask:"closed",traceId:d,source:"cardView"})})),e.preventDefault(),s("archiveCardShortcut")}return;case C.AngleRight:case C.Period:return void(n&&!i&&(this.model.moveToNextList(a===C.AngleRight?"top":"bottom"),e.preventDefault(),s("moveToNextListShortcut")));case C.AngleLeft:case C.Comma:return void(n&&!i&&(this.model.moveToPrevList(a===C.AngleLeft?"top":"bottom"),e.preventDefault(),s("moveToPreviousListShortcut")));case C.v:return void(r&&!o&&this.model.getBoard().canVote(p.me())&&(this.model.toggleVote(),e.preventDefault(),s("voteShortcut",{toggleValue:this.model.voted()?"vote":"unvote"})));case C.s:if(r&&!this.isOnBoardTemplate()){var m=this.model.get("subscribed");this.model.subscribe(!m),e.preventDefault(),s("subscribeShortcut",{toggleValue:m?"unsubscribe":"subscribe"})}return;case C.r:return L&&n?(e.preventDefault(),this.waitForId(this.model,(function(){I({source:"cardView",idBoard:t.model.getBoard().id,idCard:t.model.id}),s("repeatActionShortcut")}))):void 0;default:return}}},{key:"showPopOver",value:function(e,t){return null==t&&(t={}),T.toggle({elem:this.$(".js-card-menu"),view:e,options:H.extend({model:this.model,modelCache:this.modelCache,hideOnSelect:!0},t)})}},{key:"render",value:function(){var e=this;K("render","rendering card ".concat(this.model.get("name")));var t=this.model.toJSON();t.showCover=this.showCover(),t.showEditor=this.model.editable()&&!this.options.hideMenu,this.model.hasStickers()&&(t.hasStickers=!0),t.labels=this.labelsData();var r=this.model.getBoard();t.members=[];for(var n=this.model.memberList.models.length-1;n>=0;n--){var o=this.model.memberList.models[n],i=o.toJSON();i.isVirtual=Ae(r.getOrganization(),(function(e){return e.isVirtual(o)}))||r.isVirtual(o),i.isDeactivated=r.isDeactivated(o),t.members.push(i)}return t.cover=this.model.get("cover"),this.model.get("idAttachmentCover")&&(t.attachmentCoverUrl=Ae(this.model.attachmentList.get(this.model.get("idAttachmentCover")),(function(e){return e.get("url")}))),t.hideCover=!this.model.getBoard().getPref("cardCovers")||this.onCalendar,t.hasCover=this.model.hasCover(),this.$el.toggleClass("js-archive-card",this.model.get("closed")),this.showCover()&&this.model.hasCover()&&this.$el.addClass("is-covered"),this.model.hasStickers()&&this.$el.addClass("is-stickered"),this.$el.html(X(t)),this.renderName(),this.renderFiltered(),this.renderBadges(),this.renderCustomFieldItems(),this.renderDueComplete(),D.enqueue("render_".concat(this.cid),(function(){return e.renderPluginBadges(),e.renderActiveState(),e.renderCover(),e.renderStickers(),e.renderPowerUpEffects(),e.waitForId(e.model,(function(){return e.renderLink()})),e._droppableHookedSinceRender=!1,Se(e)})),this}},{key:"hookDroppable",value:function(){var e=this;if(!m.isTouch()&&null!=this.$el&&!this._droppableHookedSinceRender&&(this._droppableHookedSinceRender=!0,!m.isTouch())){var t=this.throttle((function(){return d(".board-canvas")[0].getBoundingClientRect()}),100,{trailing:!1});this.$el.droppable({refreshPositions:!0,inBounds(e){var r=t();return r.left<=e.pageX&&e.pageX<r.right&&r.top<=e.pageY&&e.pageY<r.bottom},accept:function(t){return!!t.is(".js-list-draggable-board-members .member")||!!t.is(".js-draggable-sticker")&&(r=e.model,n="isOverLimit",o=function(e){return e.isOverLimit("stickers","perCard")},!(null!=r&&"function"==typeof r[n]?o(r,n):void 0));var r,n,o},hoverClass:"active-card",drop:function(t,r){if(r.draggable.hasClass("member")){var n=r.draggable.data("id");if(!e.model.memberList.detect((function(e){return e.id===n}))){if(S.get("dataeng.vitalstats-edit-card.idMembers",!1)){var o=$.startTask({taskName:"edit-card",subTask:"idMembers",source:"cardView"});e.model.addMemberWithTracing(n,o,q({taskName:"edit-card",subTask:"idMembers",traceId:o,source:"cardView"},(function(){$.sendUpdatedCardFieldEvent({field:"idMembers",source:"cardView",containers:{card:{id:e.model.id},board:{id:e.model.get("idBoard")},list:{id:e.model.get("idList")}},attributes:{taskId:o}})})))}else e.model.addMember(n);G("Card","Add Member by Board Sidebar",void 0,e.model.trackProperty())}}else if(r.draggable.hasClass("js-draggable-sticker")){var i,a,s,c=r.draggable.data("sticker"),l=i=1,u=r.helper.offset(),d={top:e.$el.offset().top+l,left:e.$el.offset().left+i},p=e.$el.outerWidth()-i-1,m=u.left-d.left,f=u.top-d.top,h=m/p*100,v=e.$(".js-card-stickers").height();(s=e.$el.hasClass("is-stickered")||e.$el.hasClass("is-covered")?f/v*100:0)>v&&(s=v);var b=F.getElemTransformMatrix(r.helper.find(".sticker-select-fixed"));a=null!=b?F.getMatrixDegrees(b)%360:0,e.addNewStickerToList(c,h,s,a)}}})}}},{key:"renderLink",value:function(){var e=g.getCardUrl(this.model);return this.$el.attr("href",e),this}},{key:"renderFiltered",value:function(e){if(null==this.options.dontFilter){null==this._visible&&(this._visible=!0);var t=this.model.getBoard(),r=null==t||!Y.onBoardView(t.id)||!this.applyBoardCardFilter||t.filter.satisfiesFilter(this.model);return this._visible!==r&&(this.$el.toggleClass("hide",!r).height(r?"":0),this._visible=r),this}}},{key:"showDetail",value:function(e){if(!(e&&(e.ctrlKey||e.metaKey||e.shiftKey)||(F.stop(e),w.sorting)))return this.options.trackEvent&&this.options.trackEvent(),this.trackApdex&&U.start({task:"cardFromBoard",taskId:this.model.id}),g.showCardDetail(this.model,{runMethod:this.model.shouldSuggestDescription()?"expandDesc":void 0,method:"from card front"}),this.trackApdex?U.stop({task:"cardFromBoard",taskId:this.model.id}):void 0}},{key:"scrollIntoView",value:function(){var e=this.$el.closest("#board"),t=this.$el.closest(".js-list"),r=t[0].getBoundingClientRect(),n=r.left+r.width-window.innerWidth;return this.$el.closest(".js-list-cards").scrollTop(this.$el.position().top),r.left<0?e.animate({scrollLeft:t.position().left},150):n>0?e.animate({scrollLeft:e.scrollLeft()+n},150):void 0}},{key:"updateRenderIntervalSubscription",value:function(){if(!(this.model.get("due")||this.advancedChecklistsV2Enabled&&Ae(this.model.get("badges"),(function(e){return e.checkItemsEarliestDue}))))return this.stopListening(k,"renderInterval",this.updateDateBadgesDebounced);this.listenTo(k,"renderInterval",this.updateDateBadgesDebounced)}}]),o}(V);function Ae(e,t){return null!=e?t(e):void 0}Pe.initClass(),e.exports=Pe},"./app/scripts/views/card/member-cards-card-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r("./app/scripts/views/card/card-view.js"),u=r("./app/scripts/views/internal/view.js"),d=r("./app/scripts/views/internal/templates.js"),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(h,e);var t,u,p,m,f=(t=h,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function h(){return n(this,h),f.apply(this,arguments)}return u=h,m=[{key:"initClass",value:function(){this.prototype.className="card-grid-container"}}],(p=[{key:"initialize",value:function(e){var t=e.showBoard;return this.showBoard=t,this.cardView=this.subview(l,this.model,{filterDeactivated:!1,trackApdex:!1})}},{key:"render",value:function(){var e={listName:this.model.getList().get("name"),boardName:this.model.getBoard().get("name"),showBoard:this.showBoard};return this.$el.html(d.fill(r("./app/scripts/views/templates/member_cards_card.js"),e)),this.appendSubview(this.cardView,this.$(".js-card")),this}}])&&o(u.prototype,p),m&&o(u,m),h}(u);p.initClass(),e.exports=p},"./app/scripts/views/card/quick-card-editor-view.js":function(e,t,r){function n(e,t,r){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=r("./packages/jquery/index.js"),p=r("./packages/atlassian-analytics/index.ts"),m=p.Analytics,f=p.getScreenFromUrl,h=r("./app/scripts/views/card/card-copy-view.js"),v=r("./app/scripts/views/label/card-label-select-view.js"),b=r("./app/scripts/views/card/card-member-select-view.js"),g=r("./app/scripts/views/card/card-move-view.js"),y=r("./app/scripts/views/card/card-view-helpers.js"),k=r("./app/scripts/views/card/card-view-mixins.js"),w=r("./app/scripts/controller/index.js"),j=r("./app/scripts/views/card/date-picker-view.js"),x=r("./packages/keybindings/index.ts"),C=x.getKey,_=x.Key,O=x.registerShortcutHandler,E=x.Scope,S=x.unregisterShortcutHandler,P=r("./app/common/router/index.ts").defaultRouter,A=r("./app/scripts/views/lib/pop-over.js"),T=r("./app/scripts/views/stickers/sticker-edit-view.js"),D=r("./app/scripts/lib/util/index.js"),B=r("./app/scripts/views/internal/view.js"),M=r("./node_modules/underscore/underscore.js"),I=r("./app/scripts/views/internal/templates.js"),L=r("./packages/analytics/index.ts").track,N=r("./packages/feature-flag-client/index.ts").featureFlagClient,R=r("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts").trackSeparator;function F(e){var t=e.traceId,r=e.subTask,n=e.field;return function(e,o){if(e)throw N.get("dataeng.vitalstats-edit-card",!1)&&m.taskFailed({taskName:"edit-card",subTask:r,traceId:t,source:"quickCardEditorInlineDialog"}),e;m.sendUpdatedCardFieldEvent({field:n,source:"quickCardEditorInlineDialog",containers:{card:{id:o.id},board:{id:o.idBoard},list:{id:o.idList}},attributes:{taskId:t}}),N.get("dataeng.vitalstats-edit-card",!1)&&m.taskSucceeded({taskName:"edit-card",subTask:r,traceId:t,source:"quickCardEditorInlineDialog"})}}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,o=(t=p,function(){var e,r=u(t);if(l()){var n=u(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return s(this,e)});function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=o.call(this,e)).onShortcut=t.onShortcut.bind(c(t)),O(t.onShortcut,{scope:E.Overlay}),t}return i(p,null,[{key:"initClass",value:function(){this.prototype.className="quick-card-editor",this.prototype.isMouseDownOnOverlay=!1,this.prototype.events={"keydown .js-edit-card-title":"quickCardEditKeydown","click .js-save-edits":"saveEdits","click .js-stop":"stopCard","click .js-edit-labels":"editLabels","click .js-edit-members":"editMembers","click .js-move-card":"moveCard","click .js-copy-card":"copyCard","click .js-edit-due-date":"editDueDate","click .js-archive":"archive","click .js-due-date-badge":"toggleDueDateComplete",click:"checkCloseEditor","click .js-close-editor":"closeEditor",mousedown:"mousedownOnOverlay"}}}]),i(p,[{key:"initialize",value:function(){var e=this;return this.makeDebouncedMethods("render","renderStickers","renderLabels","renderCover","renderBadges"),this.unsubscribeFromRouter=P.subscribe(this.onRouteChanged.bind(this)),this.routeWhenOpened=P.getRoute().routePath,this.listenTo(this.model,{"change:labels":this.renderLabelsDebounced,"change:idLabels":this.renderLabelsDebounced,"change:idAttachmentCover":this.renderCoverDebounced,"change:cover":this.renderCoverDebounced,"change:badges change:due change:subscribed change:isTemplate":this.renderBadgesDebounced}),this.listenTo(this.model.labelList,"add remove reset change",(function(){return e.renderLabelsDebounced()})),this.listenTo(this.model.memberList,"add remove reset",this.frameDebounce(this.renderMembers)),this.listenTo(this.model.stickerList,"add remove reset change sort",(function(){return this.renderStickersDebounced()}))}},{key:"shouldRenderFullCover",value:function(){return!1}},{key:"onRouteChanged",value:function(e){if(e.routePath!==this.routeWhenOpened)return this.closeEditor()}},{key:"remove",value:function(){return this.unsubscribeFromRouter(),S(this.onShortcut),n(u(p.prototype),"remove",this).apply(this,arguments)}},{key:"showCover",value:function(){return this.model.getBoard().getPref("cardCovers")&&this.model.hasCover()}},{key:"showStickers",value:function(){return!0}},{key:"onShortcut",value:function(e){switch(C(e)){case _.Escape:return this.closeEditor(),L("Keyboard Shortcuts","Esc - Close Quick Card Editor","Quick Card Editor"),e.preventDefault();case _.Enter:return this.saveEdits(),L("Keyboard Shortcuts","Enter - Save Quick Card Edits","Quick Card Editor"),e.preventDefault()}}},{key:"render",value:function(e){var t=this,n=this.model.toJSON();n.labels=this.model.getLabels(),n.showCover=this.showCover(),n.hasStickers=this.model.hasStickers(),n.quickEdit=!0,n.members=[],n.isTemplate=this.model.isOnBoardTemplate(),n.isCardTemplate=!!this.model.get("isTemplate"),n.left=this.cLeft=e.left,n.top=this.cTop=e.top,n.width=this.cWidth=e.width;var o=this.cWidth+this.cLeft+160,i=d(window).width();return e.onMap&&(n.top=n.top-20),o>i&&(n.leftButtons=!0,this._usingLeftButtons=!0),this.$el.html(I.fill(r("./app/scripts/views/templates/quick_card_editor.js"),n,{})),this.renderStickers().renderCover().renderLabels().renderBadges().renderMembers().checkShowCover(),d("#chrome-container").append(this.$el),this.calcHeight(),this.focusInput(),this.defer((function(){return t.$(".quick-card-editor-buttons").addClass("fade-in")})),this.$(".js-edit-card-title").autosize(),this}},{key:"calcHeight",value:function(){var e,t=d(window).height(),r=this.$(".quick-card-editor-card").outerHeight();this.cTop+r>t&&(e=t-r-8,this.$(".quick-card-editor-card").css({top:e}));var n=this.$(".quick-card-editor-buttons"),o=n.outerHeight();o+n.offset().top>t&&n.css({top:r-o})}},{key:"renderStickers",value:function(){var e=this;if(this.$(".sticker.moving, .sticker.rotating").length>0)return this;var t=this.$(".js-card-stickers").empty(),r=Array.from(this.model.stickerList.models).map((function(t){return e.subview(T,t)}));return this.appendSubviews(r,t),this.$(".list-card").toggleClass("is-stickered",this.model.hasStickers()),this}},{key:"checkShowCover",value:function(){return this.$(".list-card").toggleClass("is-covered",this.showCover()).toggleClass("is-stickered",this.model.hasStickers()),this}},{key:"focusInput",value:function(){return this.$(".js-edit-card-title").focus().select()}},{key:"showPopOver",value:function(e,t,r,n){null==n&&(n={}),D.stop(e),A.toggle({elem:d(e.target).closest("a"),view:new t(M.extend({model:this.model,modelCache:this.modelCache},n)),alignRight:this._usingLeftButtons}),L("Quick Card Editor",r,void 0,this.model.trackProperty())}},{key:"editLabels",value:function(e){return this.showPopOver(e,v,"Open Label Edit")}},{key:"editMembers",value:function(e){return this.showPopOver(e,b,"Open Member Edit")}},{key:"copyCard",value:function(e){return this.showPopOver(e,h,"Open Copy Card",{onCopy:this.closeEditor.bind(this)})}},{key:"editDueDate",value:function(e){return this.showPopOver(e,j,"Open Due Date Edit",{trackingCategory:"quick card editor"}),this.openedDatePicker=!0}},{key:"moveCard",value:function(e){var t=this.closeEditor.bind(this);return this.showPopOver(e,g,"Open Move Card",{onCommit:t})}},{key:"archive",value:function(e){D.stop(e);var t="";N.get("dataeng.vitalstats-edit-card",!1)&&(t=m.startTask({taskName:"edit-card",subTask:"closed",source:"quickCardEditorInlineDialog"})),this.model.close(t,F({traceId:t,subTask:"closed",field:"closed"})),this.closeEditor(),L("Quick Card Editor","Archive",void 0,this.model.trackProperty())}},{key:"quickCardEditKeydown",value:function(e){if(C(e)===_.Enter)return this.saveEdits(e)}},{key:"saveEdits",value:function(e){D.stop(e);var t=this.$(".js-edit-card-title").val().trim(),r=this.model.get("name");if(t===r)this.closeEditor();else if(""!==t){var n="";N.get("dataeng.vitalstats-edit-card",!1)&&(n=m.startTask({taskName:"edit-card",subTask:"name",source:"quickCardEditorInlineDialog"})),this.model.recordAction({type:"rename",name:t,previousName:r}),this.model.update({name:t,traceId:n},F({traceId:n,subTask:"name",field:"name"})),this.closeEditor(),L("Quick Card Editor","Save Name",void 0,this.model.trackProperty()),R(t,{category:"quick card editor",method:"by editing name"})}else this.$(".js-edit-card-title").focus().select()}},{key:"mousedownOnOverlay",value:function(e){this.isMouseDownOnOverlay=e.target===this.$el[0]}},{key:"checkCloseEditor",value:function(e){this.isMouseDownOnOverlay&&(this.isMouseDownOnOverlay=!1,A.isVisible?A.hide():this.$(".sticker.editing").length>0?this.stopEditingStickers():this.closeEditor(e))}},{key:"closeEditor",value:function(e){this.remove(),A.hide(),L("Quick Card Editor","Close",void 0,this.model.trackProperty());var t="onBoardView"===N.get("ecosystem.auto-enable-calendar-popover","none");H(this.model.getBoard(),(function(e){return e.shouldRenderAutoEnableCalendarPopover()}))&&this.openedDatePicker&&t&&H(w.getCurrentBoardView(),(function(e){return e.renderAutoEnableCalendarPopover()})),this.openedDatePicker=!1}},{key:"stopEditingStickers",value:function(){for(var e=0,t=Array.from(M.clone(this.model.stickerList.models));e<t.length;e++){t[e].trigger("stopEditing")}}},{key:"stopCard",value:function(e){D.stopPropagation(e),A.hide()}}],[{key:"open",value:function(e){this.close();var t=e.$el,r=t.offset(),n={width:t.width(),left:r.left,top:r.top,onMap:e.onMap};return m.sendScreenEvent({name:"quickCardEditorInlineDialog",attributes:{view:f()}}),this.current=new p({model:e.model,modelCache:e.modelCache}).render(n)}},{key:"close",value:function(){return null!=this.current&&this.current.closeEditor(),this.current=null}}]),p}(B);function H(e,t){return null!=e?t(e):void 0}V.initClass(),M.extend(V.prototype,k,y),e.exports=V},"./app/scripts/views/card/select-card-position.js":function(e,t,r){var n=r("./packages/jquery/index.js"),o=r("./app/scripts/db/model-loader.js"),i=r("./app/scripts/network/payloads.js"),a=r("./node_modules/underscore/underscore.js"),s=r("./app/scripts/lib/localize.js"),c={renderValues(){var e=this.$(".js-select-board option:selected").val(),t=this.$(".js-select-list option:selected").val(),r=parseInt(this.$(".js-select-position option:selected").prop("index"),10)+1,o=this.modelCache.get("Board",e),i=o.get("name"),c=a.find(o.listList.models,(function(e){return e.id===t}));if(this.$(".js-board-value").text(i),null!=c){var l=c.get("name");r=r.toString(),this.$(".js-list-value").text(l),this.$(".js-pos-value").text(r),this.$(".js-select-list,.js-select-position,.js-commit-position,.js-submit").removeAttr("disabled")}else this.$(".js-list-value").empty().append(n("<i></i>").text(s("no lists"))),this.$(".js-pos-value").empty().append(n("<i></i>").text(s("n/a"))),this.$(".js-select-list,.js-select-position,.js-commit-position,.js-submit").attr("disabled","disabled")},updateBoardData(){var e=this,t=this.$(".js-select-board").find("option:selected").val();if(t===this.model.getBoard().id){this._boardData=this.model.getBoard();for(var r=0,n=Array.from(this._boardData.listList.models);r<n.length;r++){var a=n[r];a.cardCount=this._boardData.listList.get(a.id).openCards().length}this.updateListList()}else null!=t&&(this.$(".js-submit").attr("disabled","disabled"),o.loadBoardData(t,i.cardsAndListsMinimal).then((function(){return e._boardData=e.modelCache.get("Board",t),e.updateListList()})).done())},updateListList(){var e,t,r,o=this.$(".js-select-board"),i=this.$(".js-select-list").empty(),a=o.find("option:selected").val(),s=this.model.getList().id;a===this.model.getBoard().id?e=s:(t=this._boardData.listList.at(0),r=function(e){return e.id},e=null!=t?r(t):void 0);for(var c=0,l=Array.from(this._boardData.listList.models);c<l.length;c++){var u=l[c],d=n("<option>").val(u.id).appendTo(i);u.id===s?d.format("current list",{listName:u.get("name")}):d.text(u.get("name")),u.id===e&&d.attr("selected","selected")}return this.updatePositionList()},updatePositionList(){var e,t,r,o=this.$(".js-select-list"),i=this.$(".js-select-position").empty(),a=o.find("option:selected").val();if(null!=a){var c=null!=(t=this._boardData.listList.get(a))?t:this._boardData.listList.at(0),l=(null!=c?c.id:void 0)===this.model.getList().id,u=this._boardData.listList.get(a).cardList.length;l?(r=e=this.model.getList().openCards().indexOf(this.model),this.showCurrentPosition||(u-=1)):(e=-1,r=u);for(var d=0,p=u,m=0<=p;m?d<=p:d>=p;m?d++:d--){var f=String(d+1),h=d===e?s("current position",{index:f}):f,v=0===d?"top":d===u?"bottom":c.calcPos(d),b=n("<option>").val(v).text(h).appendTo(i);d===r&&b.attr("selected","selected")}this.$(".js-pos-value").text(String(r)),this.renderValues()}else this.renderValues()}};e.exports=c},"./app/scripts/views/card/should-fire-confetti.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"shouldFireConfetti",(function(){return o}));var n=["ð","ð","ð","ð","ð","â¨"];function o(e){return n.some((function(t){return e.includes(t)}))}},"./app/scripts/views/custom-field/custom-field-badge-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r("./node_modules/underscore/underscore.js"),u=r("./app/scripts/views/internal/teacup-with-helpers.js")(),d=r("./app/scripts/views/internal/view.js"),p=r("./node_modules/xtend/immutable.js"),m=r("./packages/atlassian-analytics/index.ts").Analytics,f=u.renderable((function(e){var t=e.icon,r=e.name,n=e.text,o=e.type;return null!=t&&u.icon(t,{class:"mod-quiet"}),u.span(".badge-text",(function(){return r&&"checkbox"!==o?u.text("".concat(r,": ").concat(n)):u.text(n)}))})),h={black:"field-color-black",blue:"field-color-blue",green:"field-color-green",orange:"field-color-orange",red:"field-color-red",yellow:"field-color-yellow",purple:"field-color-purple",pink:"field-color-pink",sky:"field-color-sky",lime:"field-color-lime","light-gray":"field-color-light-gray"},v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(b,e);var t,r,u,d,v=(t=b,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function b(){return n(this,b),v.apply(this,arguments)}return r=b,d=[{key:"initClass",value:function(){this.prototype.tagName="div"}}],(u=[{key:"className",value:function(){var e=this.getColorClass();return e?"badge field-color ".concat(e):"badge"}},{key:"initialize",value:function(e){var t=e.customFieldItem,r=e.customField;this.customFieldItem=t,this.customField=r}},{key:"getColorClass",value:function(){return h[null!=this.options.customFieldItem?this.options.customFieldItem.getColor():void 0]}},{key:"trackCustomFieldValueUpdate",value:function(){m.sendTrackEvent({action:"updated",actionSubject:"customFieldValue",source:"cardDetailBadge",attributes:{type:this.customField.get("type"),isSuggestedField:!!this.customField.get("isSuggestedField")},containers:this.customField.getBoard().getAnalyticsContainers()})}},{key:"renderBadge",value:function(e){return this.$el.html(f(e)),this.$el}},{key:"render",value:function(){var e=this.customField.toJSON(),t=this.customFieldItem.toJSON(),r="checkbox"===this.customField.get("type")?this.customField.icon():void 0,n=this.customFieldItem.getFrontBadgeText();return this.renderBadge(p(t,l.pick(e,"name","type"),{icon:r,text:n})),this}}])&&o(r.prototype,u),d&&o(r,d),b}(d);v.initClass(),e.exports=v},"./app/scripts/views/custom-field/custom-field-badges-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r("./node_modules/underscore/underscore.js"),u=r("./app/scripts/views/custom-field/custom-field-badge-view.js"),d=r("./app/scripts/views/internal/plugins/plugin-runner.js"),p=r("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginViewedComponentEvent,m=r("./packages/analytics/index.ts").trackUe,f=r("./app/scripts/views/internal/view.js"),h=r("./packages/config/index.ts").customFieldsId,v=null,b=!1,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(k,e);var t,r,f,g,y=(t=k,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function k(){return n(this,k),y.apply(this,arguments)}return r=k,g=[{key:"initClass",value:function(){this.prototype.tagName="span",this.prototype.badgeView=u}}],(f=[{key:"idForBadge",value:function(e,t){var r=[e.id,e.name,JSON.stringify(e.options)];return t&&(r.push(t.id),t.idValue?r.push(t.idValue):r=r.concat([t.color,JSON.stringify(t.value)])),r.join(":")}},{key:"render",value:function(){var e=this,t=this.model.getBoard();t.id!==v&&(v=t.id,b=!1);var r=t.customFieldList.map((function(t){var r=e.model.getCustomFieldItem(t.id);if(!(null!=r?r.showFrontBadge():void 0))return null;var n=e.idForBadge(t.toJSON(),r.toJSON());return e.subview(e.badgeView,e.model,{customFieldItem:r,customField:t},n)})),n=l.compact(r);return this.ensureSubviews(n),n.length>0&&this.trackBadges(),this}},{key:"trackBadges",value:function(){var e=this;if(!b)return b=!0,m("board view","views","Power-Up","","","card-badges",h),d.getOrLoadPlugin(this.model.getBoard(),h).then((function(){return p({idPlugin:h,idBoard:e.model.getBoard().id,idCard:e.model.id,event:{componentType:"badge",componentName:"pupCardBadge",source:"boardScreen"}})}))}}])&&o(r.prototype,f),g&&o(r,g),k}(f);g.initClass(),e.exports=g},"./app/scripts/views/internal/board-display-helpers.js":function(e,t,r){var n=r("./app/scripts/lib/localize.js"),o={getPermLevelAltTextForBoard(e){var t=e.getPermLevel();return n(["board perms",t,"short summary"])},getPermLevelAltTextForTemplate(e){var t=e.getPermLevel();return n(["template perms",t,"short summary"])},getPermLevelIconClass:e=>"org"===e?"organization-visible":"enterprise"===e?"enterprise":e,getPermLevelIconClassForBoard:e=>o.getPermLevelIconClass(e.getPermLevel())};e.exports=o},"./app/scripts/views/internal/data-transfer/drag-drop-events.js":function(e,t,r){r("./node_modules/underscore/underscore.js");var n=r("./app/scripts/lib/util/array/count-while.js"),o=r("./app/scripts/lib/util/event/trigger.js"),i=r("./app/scripts/views/internal/data-transfer/normalize.js"),a=i.getTypes,s=i.getDropped,c=function(e,t){document.addEventListener(e,t)},l=function(e,t,r,n){for(var i=0,a=Array.from(r);i<a.length;i++){var s=a[i];o(e,"".concat(t,":").concat(s),n)}},u=[],d=null,p=function(e,t){var r;if(clearTimeout(d),!(u.length>0&&u[u.length-1]===e)){for(var o=function e(t){if(t){var r=e(t.parentElement);return r.push(t),r}return[]}(e),i=n(o,u,(function(e,t){return e===t})),a=0,s=Array.from(u.slice(i));a<s.length;a++)r=s[a],l(r,"dd-leave",t,{bubbles:!1});for(var c=0,p=Array.from(o.slice(i));c<p.length;c++)r=p[c],l(r,"dd-enter",t,{bubbles:!1});return u=o}};c("dragenter",(function(e){return p(e.target,a(e.dataTransfer)),e.preventDefault()})),c("dragover",(function(e){var t=a(e.dataTransfer);return t.length>0&&(e.dataTransfer.dropEffect="copy"),p(e.target,t),e.preventDefault()})),c("dragleave",(function(e){var t=a(e.dataTransfer);return d=setTimeout((function(){return p(null,t)}),200)})),c("dragend",(function(e){return p(null,[])})),c("drop",(function(e){var t=a(e.dataTransfer);s(e).then((function(r){for(var n in r){var i=r[n];o(e.target,"dd-drop:".concat(n),{detail:i})}return p(null,t)})),e.preventDefault()}))},"./app/scripts/views/internal/due-date-helpers.js":function(e,t,r){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r("./node_modules/moment/moment.js"),a=r("./node_modules/underscore/underscore.js"),s=r("./app/scripts/lib/localize.js"),c=function(e){var t=e.complete,r=e.incomplete,o=null;return function(e,s){return s?t():(null==o&&(o=r()),function(e,t){for(var r=0,o=Array.from(t);r<o.length;r++){var i=o[r];if(!a.isArray(i))return i;var s=n(Array.from(i),2),c=s[0],l=s[1];if(e<=c)return l}throw new Error("no matching dispatch value for ".concat(e,"!"))}(i(new Date(e)).diff(i(),"hours",!0),o))}};e.exports={classForDueDate:c({complete:()=>"is-due-complete",incomplete:()=>[[-36,"is-due-past"],[0,"is-due-now"],[24,"is-due-soon"],"is-due-future"]}),titleForDueDate:c({complete:()=>s("badge.due.complete"),incomplete:()=>[[-36,s("badge.due.overdue")],[0,s("badge.due.recently overdue")],[1,s("badge.due.less than an hour")],[24,s("badge.due.less than a day")],s("badge.due.later")]}),relativeInfoForDueDate:c({complete:()=>s("badge.due.complete short"),incomplete:()=>[[-36,s("badge.due.overdue short")],[0,s("badge.due.overdue short")],[24,s("badge.due.due soon short")],null]})}},"./app/scripts/views/internal/friendly-links.js":function(e,t,r){var n=r("./app/scripts/db/known-services.js"),o=r("./app/scripts/lib/make-error-enum.js"),i=r("./app/scripts/views/internal/plugins/plugin-runner.js"),a=r("./node_modules/bluebird/js/browser/bluebird.js"),s=r("./app/scripts/views/internal/teacup-with-helpers.js")(),c=r("./node_modules/underscore/underscore.js"),l=r("./app/scripts/db/model-cache.js"),u=r("./node_modules/url-parse/index.js"),d=r("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginTrackEvent,p=(o("FriendlyLink",["BoardRequired"]),new window.Map),m=new window.Map,f=s.renderable((function(e){var t=e.icon,r=e.text,n=e.idPlugin,o=e.monochrome;return s.img({class:s.classify({"known-service-icon":!0,"plugin-icon":null!=n,"mod-reset":!1===o}),src:t}),s.text(r)}));e.exports=function(e,t){var r=null!=e.tagName==="A"?[e]:c.toArray(e.querySelectorAll("a"));return a.map(r,(function(e){var r,o=u(e.href),s=e.textContent===o.origin?o.origin:o.href;if(r=e.textContent,[s,decodeURIComponent(s)].includes(r)){var c="".concat(null!=t?t.id:void 0,":").concat(s);return a.try((function(){if(!t)throw new i.Error.NotHandled("no board specified");if(p.get(c))return p.get(c);if(m.get(c))return m.get(c);var e=i.one({command:"format-url",board:t,options:{url:s}});return m.set(c,e),e})).catch(i.Error.NotHandled,(function(){return null})).then((function(r){return m.delete(c),null!=(null!=r?r.text:void 0)?(r.idPlugin&&d({idPlugin:r.idPlugin,idBoard:t.id,event:{action:"formatted",actionSubject:"url",source:"powerUpFormatUrl"}}),r):n.interpret(e.href,l,"friendly-links")})).then((function(t){if(null!=t)return p.set(c,t),e.classList.add("known-service-link"),e.innerHTML=f(t)}))}}))}},"./app/scripts/views/internal/paste-input.js":function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var i,a=r("./packages/jquery/index.js"),s=r("./app/scripts/lib/trello-clipboard.js"),c=(r("./app/scripts/lib/util/index.js"),r("./node_modules/underscore/underscore.js")),l=r("./app/scripts/debug/log.js"),u=r("./app/scripts/views/internal/data-transfer/normalize.js"),d=(u.getTypes,u.getPasted),p=r("./app/scripts/lib/util/event/trigger-list.js");e.exports=new((i=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.paste=this.paste.bind(this),this._handlers={},a(document).on("paste",this.paste),s.on("pasteImage",(function(e){return t.triggerPasted("files",[e])}))}return o(e,null,[{key:"initClass",value:function(){this.prototype.precedence={list:4,card:5,dialog:10}}}]),o(e,[{key:"addHandler",value:function(e,t){var r=t.scope,n=t.precedence;return null==n&&(n=this.precedence[r]),null==n&&(l("pasteinput","Missing precedence for ".concat(r)),n=this.precedence.default),null==this._handlers[r]&&(this._handlers[r]={}),this._handlers[r]={target:e,scope:r,precedence:n},l("pasteinput","Adding handler for ".concat(r))}},{key:"removeHandler",value:function(e){var t=this;return function(){var r=[];for(var n in t._handlers){var o=t._handlers[n].target;e===o&&(l("pasteinput","Removing handler for ".concat(n)),r.push(delete t._handlers[n]))}return r}()}},{key:"_sortedHandlers",value:function(){return c.sortBy(c.values(this._handlers),(function(e){return-e.precedence}))}},{key:"paste",value:function(e){var t=this;d(e.originalEvent).then((function(r){if(!c.isEmpty(r)&&(!r.text&&!r.url||!["INPUT","TEXTAREA"].includes(e.target.tagName)||s.isClipboard(e.target)))for(var n=0,o=["url","text","files"];n<o.length;n++){var i=o[n];if(r[i]){t.triggerPasted(i,r[i]);break}}}))}},{key:"triggerPasted",value:function(e,t){var r=c.compact(this._sortedHandlers().map((function(e){return null!=e.target?e.target.el:void 0})));return p(r,"pasteinput:".concat(e),{detail:t})}}]),e}()).initClass(),i)},"./app/scripts/views/internal/tabbed-pane-view.js":function(e,t,r){r("./packages/analytics/index.ts").track;var n=r("./packages/atlassian-analytics/index.ts"),o=n.Analytics,i=n.getScreenFromUrl,a={switchSection(e){"function"==typeof this.removeMainContent&&this.removeMainContent(),this.$(".js-content").addClass("hide").detach(),this.$(".js-loading-page").removeClass("hide"),this.$(".tabbed-pane-nav-item-button").removeClass("active"),this.$(e.target).addClass("active");var t={};return"Organization"===this.model.typeName&&this.model.id&&(t.organization={id:this.model.id}),this.model.idEnterprise&&(t.enterprise={id:this.model.idEnterprise}),o.sendUIEvent({action:"clicked",actionSubject:"tab",actionSubjectId:this.$(e.target)[0].getAttribute("data-tab")+"Tab",source:i(),containers:t})},toggleLoading(e){return this.$(".js-content").toggleClass("hide","boolean"==typeof e?e:null),this.$(".js-loading-page").toggleClass("hide","boolean"==typeof e?!e:null)}};e.exports=a},"./app/scripts/views/internal/warn-if-file-too-large.js":function(e,t,r){var n=r("./app/scripts/views/lib/alerts.js"),o=r("./app/scripts/db/auth.js"),i=r("./node_modules/underscore/underscore.js"),a=function(e){var t=o.me().isFeatureEnabled("largeAttachments"),r=e.getOrganization(),i=null!=r&&r.isFeatureEnabled("largeAttachments"),a=t||i?"file size exceeds 250mb":"file size exceeds 10mb";return n.show(a,"error","upload",5e3)};e.exports=function(e,t){i.isArray(t)||(t=[t]);for(var r=0,n=Array.from(t);r<n.length;r++){var s=n[r];if(!o.me().canUploadAttachment(s))return a(e),!0}return!1}},"./app/scripts/views/label/card-label-select-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r("./app/scripts/views/label/labels-view.js"),u=r("./app/scripts/views/lib/pop-over.js"),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(f,e);var t,r,d,p,m=(t=f,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function f(){return n(this,f),m.apply(this,arguments)}return r=f,p=[{key:"initClass",value:function(){this.prototype.viewTitleKey="labels"}}],(d=[{key:"el",value:function(){return this.labelsView=this.subview(l,this.model,{board:this.model.getBoard(),selectLabel:this.toggleLabel.bind(this),renderOn:[{source:this.model.labelList,events:"add remove reset change"},{source:this.model,events:"change:labels, change:idLabels"}],popOverMethod:"pushView",searchInit:this.options.searchInit}),this.labelsView.render().el}},{key:"toggleLabel",value:function(e,t){this.model.toggleLabel(this.modelCache.get("Label",e)),this.options.hideOnSelect&&u.popView()}}])&&o(r.prototype,d),p&&o(r,p),f}(r("./app/scripts/views/internal/view.js"));d.initClass(),e.exports=d},"./app/scripts/views/label/label-create-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r("./app/scripts/models/label.js"),u=r("./app/scripts/views/label/label-edit-component.js"),d=r("./app/scripts/views/label/label-limits-error-view.js"),p=r("./app/scripts/views/lib/pop-over.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(v,e);var t,r,m,f,h=(t=v,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function v(){return n(this,v),h.apply(this,arguments)}return r=v,f=[{key:"initClass",value:function(){this.prototype.viewTitleKey="create label"}}],(m=[{key:"el",value:function(){var e=this;if(this.options.board.isOverLimit("labels","perBoard"))return(new d).render().el;var t=this.options.color,r=this.options.name;return Array.from(l.colors).includes(r)&&(t=r,r=""),new u({model:{name:r},submitTextKey:"create",color:t,onSubmit:function(t,r){if(!e.options.board.isOverLimit("labels","perBoard"))return"function"==typeof e.options.onSubmit&&e.options.onSubmit(t,r),p.popView();p.pushView(new d)}}).render().el}}])&&o(r.prototype,m),f&&o(r,f),v}(r("./app/scripts/views/internal/view.js"));m.initClass(),e.exports=m},"./app/scripts/views/label/label-edit-component.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=r("./app/scripts/models/label.js"),d=r("./app/scripts/lib/util/index.js"),p=r("./app/scripts/views/internal/view.js"),m=r("./node_modules/underscore/underscore.js"),f=r("./app/scripts/views/internal/templates.js"),h=r("./app/scripts/lib/localize.js"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(y,e);var t,p,v,b,g=(t=y,function(){var e,r=l(t);if(c()){var n=l(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return s(this,e)});function y(){return n(this,y),g.apply(this,arguments)}return p=y,b=[{key:"initClass",value:function(){this.prototype.tagName="form",this.prototype.className="edit-label",this.prototype.events={"click .js-palette-color":"pickColor","click .js-submit":"submit",submit:"submit"}}}],(v=[{key:"initialize",value:function(e){var t=e.accessoryView,r=e.color,n=e.onSubmit,o=e.submitTextKey;return this.accessoryView=t,this.color=r,this.onSubmit=n,this.submitTextKey=o,i(l(y.prototype),"initialize",this).apply(this,arguments)}},{key:"renderOnce",value:function(){var e,t=this,n=function(){for(var r=[],n=0,o=Array.from(u.colors);n<o.length;n++)e=o[n],r.push({color:e,selected:e===t.color});return r}(),o={label:{name:this.model.name},colors:n};return o.submitText=h(this.submitTextKey),o.noColor=null===this.color,this.$el.html(f.fill(r("./app/scripts/views/templates/label_edit_component.js"),o)),null!=this.accessoryView&&this.$(".js-accessory-view-holder").append(this.accessoryView.render().el),this}},{key:"pickColor",value:function(e){d.stop(e),this.$(".js-palette-select").hide();var t=this.$(e.target).closest(".js-palette-color");return this.color=t.attr("data-color"),t.find(".js-palette-select").show()}},{key:"submit",value:function(e){d.stop(e);var t=this.$(".js-label-name").val().trim();return m.isEmpty(t)&&m.isEmpty(this.color)?void 0:this.onSubmit(t,m.isEmpty(this.color)?null:this.color)}}])&&o(p.prototype,v),b&&o(p,b),y}(p);v.initClass(),e.exports=v},"./app/scripts/views/label/label-edit-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return function(){var t,r=d(e);if(u()){var n=d(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return l(this,t)}}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p,m,f=r("./app/scripts/views/lib/confirm.js"),h=r("./app/scripts/views/label/label-edit-component.js"),v=r("./app/scripts/views/lib/pop-over.js"),b=r("./app/scripts/lib/util/index.js"),g=r("./app/scripts/views/internal/view.js"),y=r("./packages/analytics/index.ts").track,k=r("./app/scripts/lib/localize.js"),w=r("./packages/atlassian-analytics/index.ts").Analytics,j=r("./packages/feature-flag-client/index.ts").featureFlagClient;e.exports=(m=void 0,(p=function(e){a(r,e);var t=c(r);function r(){return n(this,r),t.apply(this,arguments)}return i(r,[{key:"initialize",value:function(){return this.sendGASEvent=j.get("dataeng.gasv3-event-tracking",!1)}},{key:"el",value:function(){var e=this;return new h({model:this.model.toJSON(),submitTextKey:"save",onSubmit:function(t,r){return e.model.update({color:r,name:t}),"function"==typeof e.options.onSubmit&&e.options.onSubmit(),v.popView()},color:this.model.get("color"),accessoryView:new m({onClick:this.confirmDeleteLabel.bind(this)})}).render().el}},{key:"confirmDeleteLabel",value:function(){var e=this;return f.pushView("delete label",{model:this.model,confirmBtnClass:"negate",popOnClick:!0,popDepth:2,fxConfirm:function(t){if(e.model.destroy(),"function"==typeof e.options.onSubmit&&e.options.onSubmit(),y("Label","Delete"),e.sendGASEvent)return w.sendTrackEvent({action:"deleted",actionSubject:"label",source:"labelEditScreen",containers:{board:{id:e.model.getBoard().id}}})}})}}],[{key:"initClass",value:function(){(m=function(e){a(r,e);var t=c(r);function r(){return n(this,r),t.apply(this,arguments)}return i(r,[{key:"attributes",value:function(){return{type:"submit",value:k("delete")}}}],[{key:"initClass",value:function(){this.prototype.tagName="input",this.prototype.className="negate",this.prototype.events={click(e){return b.stop(e),this.options.onClick()}}}}]),r}(g)).initClass(),this.prototype.viewTitleKey="change label"}}]),r}(g)).initClass(),p=p)},"./app/scripts/views/label/label-key-helper.js":function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o,i=r("./packages/keybindings/index.ts").Key,a=r("./app/scripts/models/label.js"),s=r("./node_modules/underscore/underscore.js");e.exports=((o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,o;return t=e,o=[{key:"initClass",value:function(){this.keyboardIndex=[s.last(a.colors)].concat(s.initial(a.colors))}},{key:"keyNumberForColor",value:function(e){var t=this.keyboardIndex.indexOf(e);return t>=0?"".concat(t):null}},{key:"colorForKey",value:function(e){var t=e-i.Zero;return this.keyboardIndex[t]}},{key:"setLabelFromKey",value:function(e,t,r){var n=this.colorForKey(e),o=t.getBoard().labelsForColors()[n];1===(null!=o?o.length:void 0)?t.toggleLabelColor(n):"function"==typeof r&&r(n)}}],(r=null)&&n(t.prototype,r),o&&n(t,o),e}()).initClass(),o)},"./app/scripts/views/label/label-limits-error-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r("./app/scripts/views/internal/templates.js"),u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(f,e);var t,u,d,p,m=(t=f,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function f(){return n(this,f),m.apply(this,arguments)}return u=f,p=[{key:"initClass",value:function(){this.prototype.tagName="span",this.prototype.className="error"}}],(d=[{key:"renderOnce",value:function(){return this.$el.html(l.fill(r("./app/scripts/views/templates/label_limit_exceeded.js")))}}])&&o(u.prototype,d),p&&o(u,p),f}(r("./app/scripts/views/internal/view.js"));u.initClass(),e.exports=u},"./app/scripts/views/label/labels-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=r("./packages/jquery/index.js"),d=r("./packages/action-history/index.ts").ActionHistory,p=r("./app/scripts/db/auth.js"),m=r("./app/scripts/models/card.js"),f=r("./packages/keybindings/index.ts"),h=f.getKey,v=f.Key,b=r("./app/scripts/models/label.js"),g=r("./app/scripts/views/label/label-create-view.js"),y=r("./app/scripts/views/label/label-edit-view.js"),k=r("./app/scripts/views/label/label-key-helper.js"),w=r("./app/scripts/views/lib/pop-over.js"),j=r("./app/scripts/lib/util/index.js"),x=r("./app/scripts/views/internal/view.js"),C=r("./node_modules/underscore/underscore.js"),_=r("./app/scripts/views/internal/templates.js"),O=r("./packages/analytics/index.ts"),E=O.track,S=O.trackDebounced,P=r("./app/scripts/lib/localize.js"),A=r("./packages/atlassian-analytics/index.ts").Analytics,T=void 0,D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(B,e);var t,f,x,O,D=(t=B,function(){var e,r=l(t);if(c()){var n=l(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return s(this,e)});function B(){return n(this,B),D.apply(this,arguments)}return f=B,O=[{key:"initClass",value:function(){T=12,this.prototype.labelsToShow=T,this.prototype.events={"click .js-select-label":"clickLabel","click .js-toggle-color-blind-mode":"toggleColorBlindMode","click .js-edit-label":"clickEditLabel","click .js-add-label":"clickAddLabel","click .js-show-more":"showMore","input .js-label-search":"renderLabels","keyup .js-label-search":"keyUp","mouseover .card-label":"hoverLabel"}}}],(x=[{key:"initialize",value:function(e){var t=e.selectLabel,r=e.board,n=e.modelCache,o=e.renderOn,a=e.popOverMethod,s=e.searchInit,c=e.onEditSubmit;this.selectLabel=t,this.board=r,this.modelCache=n,this.renderOn=o,this.popOverMethod=a,this.searchInit=s,this.onEditSubmit=c,this.makeDebouncedMethods("render","renderLabels"),this.listenTo(p.me(),{"change:prefs":this.renderDebounced}),this.listenTo(this.board.labelList,{"add remove reset change":this.renderLabelsDebounced});for(var u=0,d=Array.from(null!=this.renderOn?this.renderOn:[]);u<d.length;u++){var m=d[u];this.listenTo(m.source,m.events,this.renderLabelsDebounced)}return this._keepVisible={},i(l(B.prototype),"initialize",this).apply(this,arguments)}},{key:"render",value:function(){var e=this.board.labelColors(),t={editable:this.board.editable()},n={colors:e,isColorBlindEnabled:p.isLoggedIn()&&p.me().get("prefs").colorBlind,searchInit:null!=this.searchInit?this.searchInit:""};return this.searchInit=null,this.$el.html(_.fill(r("./app/scripts/views/templates/popover_change_labels.js"),n,t)),this.renderLabels()}},{key:"renderLabels",value:function(){var e=this,t=this._filteredLabels(),n=C.map(t,(function(t){return e.model.dataForLabel(t)})),o=function(t){return t.isActive||e._keepVisible[t.id]},i=function(){if(n.length>e.labelsToShow){var t=n.filter(o),r=e.labelsToShow-t.length;return C.chain(n).filter((function(e){return o(e)||r-- >0})).first(e.labelsToShow).value()}return n}();this.$(".js-show-more").toggleClass("hide",i.length===n.length);var a={labels:i},s={editable:this.board.editable()};this.$(".js-labels-list").empty().append(_.fill(r("./app/scripts/views/templates/select_labels.js"),a,s));var c=this._searchVal(),l=C.isEmpty(c)||t.length>0?P("create new label.unnamed"):P("create new label.named",{name:c},{raw:!0});this.$(".js-add-label").text(l),!C.isEmpty(c)&&t.length>0&&this.selectFirstLabelInList();var u=!this._searchVal()&&this.model instanceof m&&i.length<n.length?this.getSuggestedLabels():[];return this.$(".js-suggestions").toggleClass("hide",0===u.length),this.$(".js-suggested-labels-list").empty().append(_.fill(r("./app/scripts/views/templates/select_labels.js"),{labels:u},s)),u.length>0&&S.hour("Suggestions","Card Labels Menu","Displayed",u.length),this}},{key:"getSuggestedLabels",value:function(){var e=this,t=d.get(),r=this.model.getBoard(),n=this.model.get("idList"),o=new Set;return t.filter((function(e){var t=e.action,r=e.context;return"add-label"===t.type&&r.idList===n})).filter((function(e){var t=e.action;return!o.has(t.idLabel)&&(o.add(t.idLabel),!0)})).filter((function(t){var r=t.action;return e.model.isValidSuggestion(r)})).map((function(t){var n=t.action,o=r.labelList.get(n.idLabel);return e.model.dataForLabel(o)})).slice(0,5)}},{key:"highlightElement",value:function(e){return j.selectMenuItem(this.$(".js-labels-list,.js-suggested-labels-list"),".card-label",e)}},{key:"getHighlightedElement",value:function(){return this.$(".js-labels-list,.js-suggested-labels-list").find(".card-label.selected").first()}},{key:"selectFirstLabelInList",value:function(e){this.highlightElement(this.$(".js-labels-list,.js-suggested-labels-list").find(".card-label").first())}},{key:"toggleColorBlindMode",value:function(e){var t=p.me();t.toggleColorBlindMode(),E(this.model.typeName,"Labels Menu","Toggle Color Blind Friendly Mode."),A.sendTrackEvent({action:"toggled",actionSubject:"colorBlindFriendlyMode",source:"cardLabelsScreen",containers:{card:{id:this.model.id}},attributes:{value:t.get("prefs").colorBlind}})}},{key:"clickEditLabel",value:function(e){j.stop(e);var t=u(e.target).closest(".js-edit-label").attr("data-idLabel");return this.editLabel(t)}},{key:"selectLabelViaElem",value:function(e){var t=e.attr("data-idLabel"),r=e.closest(".js-suggestions").length>0;return this._keepVisible[t]=!0,this.selectLabel(t,r)}},{key:"clickLabel",value:function(e){j.stop(e);var t=u(e.target).closest(".js-select-label");return this.selectLabelViaElem(t)}},{key:"findElementForLabel",value:function(e){return this.$(".js-edit-label").filter((function(t,r){return u(r).attr("data-idLabel")===e}))}},{key:"editLabel",value:function(e){var t=this.findElementForLabel(e),r=this.modelCache.get("Label",e);return w[this.popOverMethod]({elem:t,view:y,options:{model:r,board:this.board,modelCache:this.modelCache,onSubmit:this.onEditSubmit}})}},{key:"clickAddLabel",value:function(e){var t=this;j.stop(e);var r=this._searchVal();w[this.popOverMethod]({elem:this.$(".js-add-label"),view:g,options:{board:this.board,name:r,color:this._nextColor(),onSubmit:function(e,r){return t.model.createLabel(e,r),t.clearSearch()}}})}},{key:"showMore",value:function(){return this.labelsToShow+=T,this.renderLabels()}},{key:"hoverLabel",value:function(e){this.highlightElement(u(e.target).closest(".card-label"))}},{key:"keyUp",value:function(e){var t=h(e);if([v.ArrowUp,v.ArrowDown].includes(t))return j.stop(e),void j.navMenuList(this.$(".js-labels-list,.js-suggested-labels-list"),".card-label",t);if(t===v.Enter){if(!(this._filteredLabels().length>0))return this.clickAddLabel();var r=this.getHighlightedElement();return r.length>0&&(this.selectLabelViaElem(r),this.clearSearch()),E(this.model.typeName,"Labels Menu","Add By Filter"),this.sendGASEevent?A.sendTrackEvent({action:"added",actionSubject:"label",source:"cardLabelFilter",containers:{card:{id:this.model.id}}}):void 0}}},{key:"clearSearch",value:function(){return this.$(".js-label-search").val(""),this.renderLabels()}},{key:"_nextColor",value:function(){var e,t=C.chain(this.board.getLabels()).map((function(e){return e.get("color")})).uniq().value();return null!=(e=C.difference(b.colors,t)[0])?e:""}},{key:"_searchVal",value:function(){var e=this.$(".js-label-search").val();return e?e.trim():""}},{key:"_filteredLabels",value:function(){var e=this._searchVal().toLowerCase(),t=C.chain(this.board.getLabels()).filter((function(t){return!!C.isEmpty(e)||t.has("name")&&t.get("name").toLowerCase().indexOf(e)>-1||t.has("color")&&0===t.get("color").toLowerCase().indexOf(e)})).value(),r=this.board.getLabels().filter((function(r){return r.has("color")&&r.get("color")===k.keyboardIndex[parseInt(e,10)]&&0===t.filter((function(e){return 0===b.compare(r,e)})).length}));return t.concat(r)}}])&&o(f.prototype,x),O&&o(f,O),B}(x);D.initClass(),e.exports=D},"./app/scripts/views/lib/drag-sort.js":function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var i,a=r("./packages/jquery/index.js"),s=r("./packages/browser/index.ts"),c=r("./app/scripts/controller/index.js"),l=r("./app/scripts/views/lib/pop-over.js"),u=r("./app/scripts/views/lib/post-render.js"),d=r("./app/scripts/view-models/sidebar-state.js"),p=r("./app/scripts/lib/util/index.js"),m=r("./node_modules/underscore/underscore.js"),f=r("./packages/atlassian-analytics/index.ts").Analytics,h=function(e,t,r){var n=e.top,o=e.left;return{top:n+r,bottom:e.bottom-r,left:o+t,right:e.right-t}},v=function(e){return{x:e.pageX,y:e.pageY}},b=function(e,t){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){for(var e=0,r=Array.from(t);e<r.length;e++){var n=r[e];null!=n&&n.apply(this,arguments)}}}(t,e)},g=function(){function e(t){var r=t.scrollBoard,n=t.scrollLists,o=t.scrollCard,i=t.commitEvent,a=t.cancelMethod;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scrollBoard=r,this.scrollLists=n,this.scrollCard=o,this.commitEvent=i,this.cancelMethod=a,this._queue=[]}return o(e,null,[{key:"initClass",value:function(){this.prototype.hasMousedLeft=!1,this.prototype.hasMousedRight=!1,this.prototype.stopped=!1,this.prototype.aborted=!1}}]),o(e,[{key:"start",value:function(e,t){this.$helper=t.helper,this.$target=a(e.target),this.initialMousePosition=v(e),this.lockModelCache(),d.hideSidebar(),this.startTrackingMouse(),this.hidePopoversForSomeReason(),this.boardElement=a("#board")[0],this.boardCanvasElement=a(".board-canvas")[0],this.windowOverlayElement=a(".window-overlay")[0],this.cachedHoveredList=this.getHoveredListForPoint(this.initialMousePosition),(this.scrollLists||this.scrollBoard||this.scrollCard)&&this.startAutoscrolling(),i.sorting=!0,this.onStop((function(){return m.defer((function(){return i.sorting=!1}))}))}},{key:"lockModelCache",value:function(){var e=c.getCurrentModelCache();if(null==e)throw new Error("Attempt to use DragInfo on a page with no modelCache!");var t=e.lock("DragSort.startSort");return this.onStop((function(){return e.unlock(t)}))}},{key:"hidePopoversForSomeReason",value:function(){0===this.$target.closest(".pop-over").length&&l.hide()}},{key:"startAutoscrolling",value:function(){var e=Math.floor(1e3/60),t=setInterval(this.autoscroll.bind(this),e);return this.onStop((function(){return clearInterval(t)}))}},{key:"getHoveredListForPoint",value:function(e){for(var t=0,r=Array.from(a(".js-list"));t<r.length;t++){var n=r[t];if(o=e,i=n.getBoundingClientRect(),s=void 0,c=void 0,l=void 0,s=o.x,c=i.left,l=i.right,c<=s&&s<l)return a(n).find(".list-cards")[0]}var o,i,s,c,l;return null}},{key:"startTrackingMouse",value:function(){var e=this,t=m.throttle((function(t){if(!e.stopped)return e.cachedHoveredList=e.getHoveredListForPoint(t)}),100);return a(document).on("mousemove.dragsort",(function(r){var n=v(r);n.x<e.initialMousePosition.x-20&&(e.hasMousedLeft=!0),n.x>e.initialMousePosition.x+20&&(e.hasMousedRight=!0),t(n)})),this.onStop((function(){return a(document).off("mousemove.dragsort")}))}},{key:"onStop",value:function(e){return this._queue.push(e)}},{key:"stop",value:function(e,t){this.stopped=!0;for(var r=0,n=Array.from(this._queue);r<n.length;r++){n[r].call(this)}delete this._queue,this.aborted||this.$target.trigger(this.commitEvent,t)}},{key:"scrollDeltaForOverhang",value:function(e){return.1*e}},{key:"autoscrollBoard",value:function(){var e=this.$helper[0].getBoundingClientRect(),t=e.left,r=e.right,n=h(this.boardCanvasElement.getBoundingClientRect(),100,0),o=n.left-t;o>0&&this.hasMousedLeft&&(this.boardElement.scrollLeft-=this.scrollDeltaForOverhang(o));var i=r-n.right;i>0&&this.hasMousedRight&&(this.boardElement.scrollLeft+=this.scrollDeltaForOverhang(i))}},{key:"autoscrollLists",value:function(){var e=this.$helper[0].getBoundingClientRect(),t=e.top,r=e.bottom,n=h(this.cachedHoveredList.getBoundingClientRect(),0,50),o=n.top-t;o>0&&(this.cachedHoveredList.scrollTop-=this.scrollDeltaForOverhang(o));var i=r-n.bottom;i>0&&(this.cachedHoveredList.scrollTop+=this.scrollDeltaForOverhang(i))}},{key:"autoscrollCard",value:function(){var e=this.$helper[0].getBoundingClientRect(),t=e.top,r=e.bottom;r-t>64&&(r=t+64);var n=h(this.windowOverlayElement.getBoundingClientRect(),0,100),o=n.top-t;o>0&&(this.windowOverlayElement.scrollTop-=this.scrollDeltaForOverhang(o));var i=r-n.bottom;i>0&&(this.windowOverlayElement.scrollTop+=this.scrollDeltaForOverhang(i))}},{key:"autoscroll",value:function(){this.scrollBoard&&this.autoscrollBoard(),this.scrollLists&&null!=this.cachedHoveredList&&this.autoscrollLists(),this.scrollCard&&this.autoscrollCard()}},{key:"abort",value:function(){var e;return this.aborted=!0,null!=(e=a.ui.ddmanager.current)&&(e.currentContainer=e),this.$target[this.cancelMethod]("cancel")}}]),e}();g.initClass();var y=null,k=function(e,t){return t=m.defaults({},t,{distance:7,scroll:!1}),e.scrollLists&&(t.custom={refreshContainers(){var e=this;this.containers=function(){for(var t=[],r=0,n=Array.from(e.containers);r<n.length;r++){var o=n[r];if(a.contains(document,o.element[0])){for(var i=o.element.closest(".js-list")[0].getBoundingClientRect(),s=0,c=["left","top","width","height"];s<c.length;s++){var l=c[s];o.containerCache[l]=i[l]}t.push(o)}}return t}()}}),t.start=b(t.start,(function(t,r){if(null!=y)throw new Error("Attempt to start a drag event while another is in progress!");(y=new g(e)).start(t,r)})),t.stop=b(t.stop,(function(e,t){p.stopPropagation(e),y.stop(e,t),y=null})),t},w=function(e){return{width:e.outerWidth(),height:e.outerHeight()}},j=function(e,t,r){if(!s.isTouch()){var n=null,o=!("helper"in r)||"original"===r.helper;r.start=b(r.start,(function(e,i){o&&"appendTo"in r&&(i.helper.appendTo(r.appendTo),n.sortable("refreshPositions",!0));var a=(null!=t.calcSize?t.calcSize:w)(i.item),s=a.width,c=a.height;i.placeholder.width(s),i.placeholder.height(c)})),t=m.extend({commitEvent:"sortcommit",cancelMethod:"sortable"},t),r=k(t,r),u.enqueue((function(){return(n=a(e)).sortable(r)}))}},x=function(e,t,r){s.isTouch()||(t=m.extend({commitEvent:"dragcommit",cancelMethod:"draggable"},t),r=k(t,r),u.enqueue((function(){return a(e).draggable(r)})))};e.exports=i={refreshListSortable:()=>j(".js-list-sortable",{scrollBoard:!0,scrollLists:!1,calcSize(e){var t=e.children(".list");return{width:t.outerWidth(),height:t.outerHeight()}}},{handle:".list-header",tolerance:"pointer",placeholder:"list-wrapper placeholder",items:".js-list",appendTo:"#trello-root"}),refreshCalendarCardSortable:()=>j(".js-calendar-sortable",{scrollBoard:!1,scrollLists:!1},{connectWith:".js-calendar-sortable",placeholder:"list-card placeholder-none",items:".list-card:not(.placeholder-none, .hide, .js-composer), .js-draggable-calendar-check-item",helper:"clone",appendTo:"#trello-root",over:(e,t)=>a(e.target).closest(".calendar-day").addClass("drop"),out:(e,t)=>a(e.target).closest(".calendar-day").removeClass("drop")}),refreshListCardSortable:()=>j(".js-sortable",{scrollBoard:!0,scrollLists:!0},{connectWith:".js-sortable:not(.card-limits-full)",placeholder:"list-card placeholder",items:".list-card:not(.placeholder, .hide, .js-composer)",appendTo:"#trello-root"}),refreshDraggableSidebarMembers:()=>x(".js-list-draggable-board-members .member:not(.js-member-deactivated)",{scrollBoard:!0,scrollLists:!0},{revert:"invalid",revertDuration:150,appendTo:"#trello-root",zIndex:100,helper:"clone",start(e,t){f.sendUIEvent({action:"dragged",actionSubject:"member",source:"boardScreen",containers:{board:{id:c.getCurrentBoardView().model.id}}}),a(".list-card.active-card").removeClass("active-card")}}),refreshDraggableStickers:()=>x(".js-draggable-sticker:not(.disabled)",{scrollBoard:!0,scrollLists:!0},{revert:"invalid",revertDuration:150,appendTo:"#trello-root",zIndex:100,helper:"clone",start(e,t){f.sendUIEvent({action:"dragged",actionSubject:"sticker",source:"boardScreen",containers:{board:{id:c.getCurrentBoardView().model.id}}});var r=20*Math.random()-10;t.helper.find(".sticker-select-fixed").css({transform:"rotate(".concat(r,"deg)"),"-webkit-transform":"rotate(".concat(r,"deg)")})}}),refreshCardSortable:(e,t)=>j(e,{scrollCard:!0},t),abort(){if(null==y)throw new Error("Abort called while not dragging!");return y.abort()},refreshIfInitialized(e){if(null!=e?e.hasClass("ui-sortable"):void 0)return e.sortable("refresh")}}},"./app/scripts/views/member-menu-profile/card-member-menu-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,d=r("./packages/atlassian-analytics/index.ts"),p=d.Analytics,m=d.tracingCallback,f=r("./packages/feature-flag-client/index.ts").featureFlagClient,h=r("./app/scripts/views/member-menu-profile/member-mini-profile-view.js"),v=r("./app/scripts/views/lib/pop-over.js"),b=r("./app/scripts/views/internal/templates.js");e.exports=((u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(y,e);var t,u,d,h,g=(t=y,function(){var e,r=l(t);if(c()){var n=l(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return s(this,e)});function y(){return n(this,y),g.apply(this,arguments)}return u=y,h=[{key:"initClass",value:function(){this.prototype.events={"click .js-remove-member":"removeMember"}}}],(d=[{key:"initialize",value:function(){i(l(y.prototype),"initialize",this).apply(this,arguments),this.card=this.options.card}},{key:"renderMenu",value:function(){return this.$el.append(b.fillMenu(r("./app/scripts/views/templates/member_on_card_menu.js"),this.model.toJSON(),{editable:this.card.editable()})),this}},{key:"removeMember",value:function(e){var t=this;v.hide();var r=this.model.id;if(f.get("dataeng.vitalstats-edit-card.idMembers",!1)){var n="cardMemberMenuInlineDialog",o=p.startTask({taskName:"edit-card",subTask:"idMembers",source:n});this.card.removeMemberWithTracing(r,o,m({taskName:"edit-card",subTask:"idMembers",traceId:o,source:n},(function(){p.sendUpdatedCardFieldEvent({field:"idMembers",source:n,containers:{card:{id:t.card.id},board:{id:t.card.get("idBoard")},list:{id:t.card.get("idList")}},attributes:{taskId:o}})})))}else this.card.removeMember(r)}}])&&o(u.prototype,d),h&&o(u,h),y}(h)).initClass(),u=u)},"./app/scripts/views/member-menu-profile/large-avatar-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r("./app/scripts/views/lib/pop-over.js");var l=r("./app/scripts/views/internal/view.js"),u=r("./app/scripts/views/templates/member_large_avatar.js"),d=(r("./packages/analytics/index.ts").track,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(m,e);var t,r,l,d,p=(t=m,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function m(){return n(this,m),p.apply(this,arguments)}return r=m,d=[{key:"initClass",value:function(){this.prototype.displayType="mod-avdetail"}}],(l=[{key:"getViewTitle",value:function(){return this.model.get("fullName")}},{key:"render",value:function(){var e=this.model.toJSON();return this.$el.html(u(e)),this}}])&&o(r.prototype,l),d&&o(r,d),m}(l));d.initClass(),e.exports=d},"./app/scripts/views/member-menu-profile/member-mini-profile-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=r("./app/scripts/db/auth.js"),d=r("./app/scripts/views/member-menu-profile/large-avatar-view.js"),p=r("./app/scripts/db/model-loader.js"),m=r("./app/scripts/views/lib/pop-over.js"),f=r("./app/scripts/lib/util/index.js"),h=r("./app/scripts/views/internal/view.js"),v=r("./node_modules/underscore/underscore.js"),b=r("./app/scripts/views/templates/mini_profile.js"),g=r("./packages/analytics/index.ts").track,y=r("./packages/atlassian-analytics/index.ts").Analytics,k=r("./packages/feature-flag-client/index.ts").featureFlagClient,w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(x,e);var t,r,h,w,j=(t=x,function(){var e,r=l(t);if(c()){var n=l(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return s(this,e)});function x(){return n(this,x),j.apply(this,arguments)}return r=x,w=[{key:"initClass",value:function(){this.prototype.viewTitleKey="member",this.prototype.displayType="mod-mini-profile"}}],(h=[{key:"initialize",value:function(){return i(l(x.prototype),"initialize",this).apply(this,arguments),this.listenTo(this.model,"change change:avatarUrl change:avatarSource",this.frameDebounce(this.render)),this.sendGASEvent=k.get("dataeng.gasv3-event-tracking",!1)}},{key:"delegateEvents",value:function(e){return i(l(x.prototype),"delegateEvents",this).call(this,v.extend({"click .js-profile":"showProfile","click .js-view-large":"viewLarge"},e||this.events))}},{key:"render",value:function(){var e,t,r=this,n=this.model.toJSON();return n.isMe=u.isMe(this.model),n.showEmail=null!=n.email&&!n.isMe,n.isDeactivated=(e=null!=this.options?this.options.board:void 0,t=function(e){return e.isDeactivated(r.model)},null!=e?t(e):void 0),null!=n.email||"ghost"!==this.model.get("memberType")||this.loaded||this.loadEmail(),this.$el.html(b(n)),this.renderMenu(),this}},{key:"renderMenu",value:function(){}},{key:"loadEmail",value:function(){var e=this;return p.loadMemberEmail(this.model.id).then((function(){return e.loaded=!0})).done()}},{key:"showProfile",value:function(){g("Mini Profile","Click Profile"),this.sendGASEvent&&y.sendClickedLinkEvent({linkName:"fullNameProfileLink",source:"miniProfileInlineDialog"})}},{key:"viewLarge",value:function(e){f.stop(e),g("Mini Profile","View Large Avatar"),this.sendGASEvent&&y.sendUIEvent({action:"clicked",actionSubject:"avatar",actionSubjectId:"miniProfileAvatar",source:"miniProfileInlineDialog"}),m.pushView({elem:this.$(e.target),view:new d({model:this.model,modelCache:this.modelCache})})}}])&&o(r.prototype,h),w&&o(r,w),x}(h);w.initClass(),e.exports=w},"./app/scripts/views/member/change-avatar-popover-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r("./packages/jquery/index.js"),u=r("./app/scripts/network/api-ajax.js"),d=r("./app/scripts/db/auth.js"),p=r("./app/common/lib/util/camera.ts").Camera,m=r("./app/scripts/lib/localize-server-error.js"),f=r("./app/scripts/views/lib/pop-over.js"),h=r("./app/scripts/views/camera/take-photo-view.js"),v=r("./app/scripts/lib/util/index.js"),b=r("./app/scripts/views/internal/view.js"),g=r("./app/scripts/views/internal/templates.js"),y=r("./packages/analytics/index.ts").track,k=r("./app/scripts/lib/localize.js"),w=r("./app/scripts/lib/util/url/data-uri-to-blob.js"),j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(_,e);var t,b,j,x,C=(t=_,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function _(){return n(this,_),C.apply(this,arguments)}return b=_,x=[{key:"initClass",value:function(){this.prototype.viewTitleKey="change avatar",this.prototype.events={"click .fakefile":e=>(v.preventDefault(e),l(".js-upload-avatar").click()),"change .js-upload-avatar":"startUpload","click .js-use-gravatar":"useGravatar","click .js-use-uploaded-avatar":"useUploadedAvatar","click .js-take-photo":"takePhoto","click .js-no-avatar":"clearAvatar"}}}],(j=[{key:"initialize",value:function(){return this.listenTo(this.model,"change:avatarSource change:uploadedAvatarUrl",this.frameDebounce(this.render))}},{key:"render",value:function(){var e=this.model.toJSON({prefs:!0});e["avatarSource_".concat(e.avatarSource)]=!0,e.canTakePhoto=p.supportsGetUserMedia(),this.$el.html(g.fill(r("./app/scripts/views/templates/avatar_change.js"),e));var t=this.$(".js-grav"),n=(t.find("img"),"https://secure.gravatar.com/avatar/"+"".concat(this.model.get("gravatarHash"),".png?s=50&r=PG&d=404")+"&_=".concat(Math.random()));return v.waitForImageLoad(n).then((function(){return t.show()})).catch((function(){})).done(),this}},{key:"startUpload",value:function(e){var t,r,n=this,o=(this.model,l(e.target)),i=(t=null!=o[0]?o[0].files:void 0,r=function(e){return e[0]},null!=t?r(t):void 0),a=this.$(".js-error").hide();if(null!=i&&!v.validFileSize(i))return a.text(k("images can not be larger than 10mb")).show(),void y("Member","Avatar","Upload Error - File Too Large");if(y("Member","Avatar","Use Uploaded - New"),!i&&o.val())return v.uploadFile(d.myToken(),o,this.uploadResult.bind(this));if(null!=i){var s=new FormData;return s.append("token",d.myToken()),s.append("file",i),u({url:o.closest("form").attr("action"),data:s,type:"post",processData:!1,contentType:!1,error:function(e){return n.uploadResult(new Error(m(e)))},success:function(){return this.uploadResult.apply(this,[null].concat(Array.prototype.slice.call(arguments)))}.bind(this),timeout:12e4})}}},{key:"uploadResult",value:function(e){var t=this.$(".js-error").hide();if(e)return t.show().text(e)}},{key:"useUploadedAvatar",value:function(e){return y("Member","Avatar","Use Uploaded - Existing"),this.model.update("avatarSource","upload"),f.popView()}},{key:"useGravatar",value:function(e){return y("Member","Avatar","Use Gravatar"),this.model.update("avatarSource","gravatar"),f.popView()}},{key:"clearAvatar",value:function(e){return y("Member","Avatar","Use Initials"),this.model.update("avatarSource","none"),f.popView()}},{key:"takePhoto",value:function(e){var t=this;return f.pushView({view:new h({model:this.model,modelCache:this.modelCache,savePhoto:function(e){var r=w(e),n=new FormData;return n.append("token",d.myToken()),n.append("file",r,"avatar.png"),u({url:"/1/member/".concat(t.model.id,"/avatar"),data:n,type:"post",processData:!1,contentType:!1,error:function(e,t,r,n){var o=e.status;if(e.responseText,413!==o)return n()},timeout:6e4})}})}),y("Member","Avatar","Take Photo")}}])&&o(b.prototype,j),x&&o(b,x),_}(b);j.initClass(),e.exports=j},"./app/scripts/views/member/member-cards-boards-section-view.js":function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=r("./node_modules/underscore/underscore.js"),m=r("./app/scripts/lib/assert/index.js"),f=r("./app/scripts/data/backgrounds.js"),h=r("./app/scripts/views/internal/board-display-helpers.js"),v=r("./app/src/components/BoardTemplateBadge/index.ts").BoardTemplateBadge,b=r("./app/scripts/views/card/card-view.js"),g=r("./app/scripts/controller/index.js"),y=(r("./packages/feature-flag-client/index.ts").featureFlagClient,r("./app/scripts/lib/localize.js")),k=r("./app/scripts/views/templates/board_header_permissions.js"),w=r("./node_modules/react/index.js"),j=r("./packages/react-dom-wrapper/index.ts"),x=r("./app/scripts/views/templates/member_cards_board.js"),C=r("./packages/analytics/index.ts").trackUe,_=r("./app/scripts/lib/util/index.js"),O=r("./app/scripts/views/internal/view.js"),E=r("./app/scripts/controller/navigate.js").navigate,S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(i,e);var t,r=(t=i,function(){var e,r=d(t);if(u()){var n=d(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return c(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,e)).trackEvent=t.trackEvent.bind(l(t)),t}return a(i,null,[{key:"initClass",value:function(){this.prototype.className="window-module"}}]),a(i,[{key:"initialize",value:function(e){var t=e.cards,r=e.noBottomMargin;return this.cards=t,this.noBottomMargin=r,m(this.cards.length>0),this.noBottomMargin&&this.$el.addClass("noBottomMargin"),this.makeDebouncedMethods("renderBoardTemplateBadge")}},{key:"events",value:function(){return{click(e){if(!this.$(e.target).closest("a").length)return E(g.getBoardUrl(this.model),{trigger:!0})}}}},{key:"trackEvent",value:function(e){var t=this.options.trackObj,r=t.category,i=t.method,a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t.context,{boardId:null!=e?e.get("idBoard"):void 0,cardId:null!=e?e.get("id"):void 0});return C(r,"opens","card","","",i,a)}},{key:"renderBoardTemplateBadge",value:function(){var e=this;if(this.model.isTemplate())return p.defer((function(){return e.boardTemplateBadgeComponent=w.createElement(v,null),e.boardTemplateBadgeDiv=document.createElement("div"),$(".js-board-template-badge-".concat(e.model.id)).append(e.boardTemplateBadgeDiv),j.render(e.boardTemplateBadgeComponent,e.boardTemplateBadgeDiv)}));this.boardTemplateBadgeDiv&&(j.unmountComponentAtNode(this.boardTemplateBadgeDiv),this.boardTemplateBadgeDiv=null,this.boardTemplateBadgeComponent=null)}},{key:"render",value:function(){var e,t=this,r=null!=(e=this.model.getOrganization())?{url:e.get("url"),name:e.get("displayName")}:void 0,n=p.groupBy(this.cards,(function(e){return e.get("idList")}));this.$el.html(x({id:this.model.id,name:this.model.get("name"),url:this.model.get("url"),permissionLevel:this.model.get("prefs").permissionLevel,starred:this.model.isStarred(),org:r,lists:this.model.listList.chain().filter((function(e){return n[e.id]})).map((function(e){return{id:e.id,name:e.get("name")}})).value(),isTemplate:this.model.isTemplate()}));var o=this.$(".js-permission-level"),i={permIconClass:h.getPermLevelIconClassForBoard(this.model),permText:y(["board perms",this.model.getPermLevel(),"name"])};o.html(k(i));var a=this.model.get("prefs"),s=this.$(".js-board");if(null!=a.backgroundColor){var c=this.model.getClientBackgroundColor(a.background);s.css({"background-color":c})}else{var l,u,d;if(f.hasOwnProperty(a.background))l=null!=(u=P(_.smallestPreviewBiggerThan(a.backgroundImageScaled,640,480),(function(e){return e.url})))?u:a.backgroundImage;else l=a.backgroundImage;if(a.backgroundTile)l;else null!=(d=P(_.smallestPreviewBiggerThan(a.backgroundImageScaled,64,64),(function(e){return e.url})))?d:a.backgroundImage;switch(s.addClass("body-custom-board-background"),a.backgroundTile&&s.addClass("body-custom-board-background-tiled"),a.backgroundBrightness){case"light":s.addClass("body-light-board-background");break;case"dark":s.addClass("body-dark-board-background")}s.css({"background-image":'url("'.concat(l,'")')})}return p.each(this.$(".js-list"),(function(e){var r=t.$(e),o=r.attr("data-idList"),i=p.chain(n[o]).sortBy((function(e){return e.get("pos")})).map((function(e){return t.subview(b,e,{trackApdex:!1,trackEvent:t.trackEvent.bind(t,e),quickEditHidden:!0})})).value();return t.appendSubviews(i,r)})),this.renderBoardTemplateBadgeDebounced(),this}}]),i}(O);function P(e,t){return null!=e?t(e):void 0}S.initClass(),e.exports=S},"./app/scripts/views/member/member-cards-date-section-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r("./app/scripts/lib/dates.js");var l=r("./app/scripts/views/card/member-cards-card-view.js"),u=(r("./app/scripts/lib/util/index.js"),r("./app/scripts/views/internal/view.js")),d=r("./node_modules/underscore/underscore.js"),p=r("./app/scripts/views/internal/templates.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(v,e);var t,u,m,f,h=(t=v,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function v(){return n(this,v),h.apply(this,arguments)}return u=v,f=[{key:"initClass",value:function(){this.prototype.className="window-module"}}],(m=[{key:"initialize",value:function(e){var t=e.templateData;this.templateData=t}},{key:"render",value:function(){var e={iconType:"clock",isOverdue:!1,isDueSoon:!1};return d.extend(e,this.templateData),this.groupedCards.length>0?(this.$el.html(p.fill(r("./app/scripts/views/templates/member_cards_date.js"),e)),this.renderCards()):this.$el.empty(),this}},{key:"renderCards",value:function(){var e=this,t=this.groupedCards.map((function(t){return e.subview(l,t,{showBoard:!0})}));return this.appendSubviews(t,this.$(".js-list"))}}])&&o(u.prototype,m),f&&o(u,f),v}(u);m.initClass(),e.exports=m},"./app/scripts/views/member/member-cards-filter-pop-over-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r("./app/scripts/view-models/member-state.js"),u=r("./app/scripts/views/lib/pop-over.js"),d=r("./app/scripts/lib/util/index.js"),p=r("./app/scripts/views/internal/view.js"),m=r("./app/scripts/views/templates/member_cards_filter.js"),f=r("./packages/analytics/index.ts").track,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(b,e);var t,r,p,h,v=(t=b,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function b(){return n(this,b),v.apply(this,arguments)}return r=b,h=[{key:"initClass",value:function(){this.prototype.viewTitleKey="filter cards",this.prototype.events={"click .js-set-filter":"setFilter"}}}],(p=[{key:"initialize",value:function(){return this.listenTo(l,"change:cardsPageFilter",(function(){return this.render()}))}},{key:"render",value:function(){return this.$el.html(m({filter:l.getCardsPageFilter()})),this}},{key:"setFilter",value:function(e){var t=this.$(e.currentTarget).attr("data-filter");d.stop(e),l.setCardsPageFilter(t),u.hide(),f("Member View","Cards Page","Filter",t)}}])&&o(r.prototype,p),h&&o(r,h),b}(p);h.initClass(),e.exports=h},"./app/scripts/views/member/member-cards-group-pop-over-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r("./app/scripts/db/auth.js"),u=r("./app/scripts/view-models/member-state.js"),d=r("./app/scripts/views/lib/pop-over.js"),p=r("./app/scripts/lib/util/index.js"),m=r("./app/scripts/views/internal/view.js"),f=r("./app/scripts/views/templates/member_cards_group.js"),h=r("./packages/analytics/index.ts").track,v=r("./node_modules/underscore/underscore.js"),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(y,e);var t,r,m,b,g=(t=y,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function y(){return n(this,y),g.apply(this,arguments)}return r=y,b=[{key:"initClass",value:function(){this.prototype.viewTitleKey="filter cards",this.prototype.events={"click .js-set-group":"setGroup"}}}],(m=[{key:"initialize",value:function(){return this.listenTo(u,"change:cardsPageGroup",(function(){return this.render()}))}},{key:"render",value:function(){var e=this,t=l.isMe(this.model)?this.model.organizationList.models:this.modelCache.find("Organization",(function(t){return null!=t.getMembershipFor(e.model)}));return this.$el.html(f({group:u.getCardsPageGroup(),organizations:v.chain(t).map((function(e){return{id:e.id,name:e.get("displayName")}})).sortBy((function(e){return e.name.toLowerCase()})).value()})),this}},{key:"setGroup",value:function(e){var t=this.$(e.currentTarget).attr("data-group");p.stop(e),u.setCardsPageGroup(t),d.hide(),h("Member View","Cards Page","Group",t)}}])&&o(r.prototype,m),b&&o(r,b),y}(m);b.initClass(),e.exports=b},"./app/scripts/views/member/member-cards-sort-pop-over-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r("./app/scripts/view-models/member-state.js"),u=r("./app/scripts/views/lib/pop-over.js"),d=r("./app/scripts/lib/util/index.js"),p=r("./app/scripts/views/internal/view.js"),m=r("./app/scripts/views/templates/member_cards_sort.js"),f=r("./packages/analytics/index.ts").track,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(b,e);var t,r,p,h,v=(t=b,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function b(){return n(this,b),v.apply(this,arguments)}return r=b,h=[{key:"initClass",value:function(){this.prototype.viewTitleKey="sort cards",this.prototype.events={"click .js-sort-by-board":"sortByBoard","click .js-sort-by-due-date":"sortByDueDate"}}}],(p=[{key:"initialize",value:function(){return this.listenTo(l,"change:cardsPageSortType",(function(){return this.render()}))}},{key:"render",value:function(){return this.$el.html(m({sort:l.getCardsPageSortType()})),this}},{key:"sortByBoard",value:function(e){d.stop(e),l.sortCardsPageByBoard(),u.hide(),f("Member View","Cards Page","Sort by Board")}},{key:"sortByDueDate",value:function(e){d.stop(e),l.sortCardsPageByDate(),u.hide(),f("Member View","Cards Page","Sort by Due Date")}}])&&o(r.prototype,p),h&&o(r,h),b}(p);h.initClass(),e.exports=h},"./app/scripts/views/member/member-cards-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,d=r("./app/scripts/network/api-error.js"),p=r("./app/scripts/db/auth.js"),m=r("./app/scripts/controller/index.js"),f=r("./app/scripts/lib/dates.js"),h=r("./app/scripts/views/templates/empty_list.js"),v=r("./app/scripts/views/member/member-cards-boards-section-view.js"),b=r("./app/scripts/views/member/member-cards-filter-pop-over-view.js"),g=r("./app/scripts/views/member/member-cards-group-pop-over-view.js"),y=r("./app/scripts/views/member/member-cards-date-section-view.js"),k=r("./app/scripts/views/member/member-cards-sort-pop-over-view.js"),w=r("./app/scripts/view-models/member-state.js"),j=r("./app/scripts/views/member/member-view.js"),x=r("./app/scripts/db/model-loader.js"),C=r("./app/scripts/views/lib/pop-over.js"),_=r("./node_modules/bluebird/js/browser/bluebird.js"),O=r("./app/scripts/lib/util/index.js"),E=r("./node_modules/underscore/underscore.js"),S=r("./app/scripts/views/internal/teacup-with-helpers.js")(),P=r("./app/scripts/views/templates/member_cards_base.js"),A=r("./packages/analytics/index.ts").track,T=r("./node_modules/moment/moment.js"),D=r("./app/scripts/lib/localize.js"),B=r("./app/scripts/controller/navigate.js").navigate,M=function(e){return Date.now()-O.getMs({days:e})},I=function(e){return function(t){return f.parse(t.get("dateLastActivity"))>M(e)}},L={"active-day":I(1),"active-week":I(7),"active-month":I(30),"active-year":I(365),all:e=>!0},N=S.renderable((function(){return S.div(".spinner.loading")}));function R(e,t){return null!=e?t(e):void 0}e.exports=((u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(I,e);var t,r,u,j,S=(t=I,function(){var e,r=l(t);if(c()){var n=l(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return s(this,e)});function I(){return n(this,I),S.apply(this,arguments)}return r=I,j=[{key:"initClass",value:function(){this.prototype.events={"click .js-toggle-sort":"toggleSort","click .js-set-filter":"toggleFilter","click .js-set-group":"toggleGroup"}}}],(u=[{key:"initialize",value:function(){var e=this;return i(l(I.prototype),"initialize",this).apply(this,arguments),this._oldestLoaded=null,this._loadedUnknown={},this.listenTo(this.model.boardList,"add remove reset",this.frameDebounce(this.renderMainContent)),this.listenTo(this.model.organizationList,"add remove reset change:memberships",this.frameDebounce(this.renderMainContent)),this.listenTo(w,"change:cardsPageSortType change:cardsPageGroup",(function(){return this.renderCardsSection()})),this.listenTo(w,"change:cardsPageGroup",(function(){return this._updateUrl()})),this.listenTo(w,"change:cardsPageFilter",(function(){return this.getData()})),_.try((function(){var t=e.options.orgname?R(e.modelCache.findOne("Organization","name",e.options.orgname),(function(e){return e.id})):void 0;null==t&&(t=e.getSelectedGroup());var r=function(t){var r;if(["personal","all"].includes(t))return!0;var n=e.modelCache.get("Organization",t);return null!=(null!=n?n.getMembershipFor(e.model):void 0)||(r=t,Array.from(e.model.get("idOrganizations")).includes(r))};return r(t)?t:x.loadOrganizationMembersMinimal(t).then((function(e){return r(t)?t:"all"}))})).then((function(t){if(e.getSelectedGroup()!==t&&w.setCardsPageGroup(t),t!==e.options.orgname)return e._updateUrl()})).done()}},{key:"_updateUrl",value:function(){var e,t=this.getSelectedGroup(),r=(e=this.modelCache.get("Organization",t))?m.getMemberCardsUrl(this.model.get("username"),e.get("name")):"personal"===t?m.getMemberCardsUrl(this.model.get("username"),"personal"):m.getMemberCardsUrl(this.model.get("username"));return B(r,{replace:!0})}},{key:"renderMainContent",value:function(){return this.setActiveView(".js-member-cards"),this.$(".js-content").html(P({showGroup:"all"!==this.getSelectedGroup()||this.model.organizationList.length>0})),this.renderCardsSection(),this}},{key:"getData",value:function(){var e=this,t=this.getFilterType(),r=this.getSelectedGroup(),n=function(){switch(t){case"active-day":return M(1);case"active-week":return M(7);case"active-month":return M(30);case"active-year":return M(365);default:return}}(),o=M(14600),i=null!=n?n:o,a=function(){return e.loading=!0,e.renderCardsSection()};return _.try((function(){if(!p.isMe(e.model)&&!e._loadedMemberships){e._loadedMemberships=!0,a();var t=p.me();return x.loadMyOrganizations().then((function(){var n=t.organizationList.filter((function(e){return e.isFeatureEnabled("deactivated")}));if(0!==n.length)return x.loadMemberOrganizationsDeactivatedMembers().then((function(){if("all"===r){var t=n.filter((function(t){return t.isDeactivated(e.model)}));return _.map(t,(function(t){return x.loadOrgMemberCardData(t.id,e.model.id).then((function(){return e._loadedUnknown[t.id]=!0}))}),{concurrency:3})}}))}))}})).then((function(){if(O.checkId(r)){if(e._loadedUnknown[r])return;var t=e.modelCache.get("Organization",r);if(null==t||t.isDeactivated(e.model)||null==t.getMembershipFor(e.model))return a(),x.loadOrgMemberCardData(t.id,e.model.id).then((function(){return e._loadedUnknown[t.id]=!0,e._oldestLoaded=o}))}if(null==e._oldestLoaded||e._oldestLoaded>i)return a(),x.loadMemberCards(e.model.id,n).then((function(){return e._oldestLoaded=i}))})).catch(d,(function(){})).then((function(){return e.loading=!1,e.renderCardsSection()})).done()}},{key:"getCards",value:function(){var e=this,t=this.getFilterType(),r=this.getSelectedGroup();return this.modelCache.find("Card",(function(n){var o=n.getBoard();return n.isOpen()&&n.hasMember(e.model)&&(null!=o?o.isOpen():void 0)&&function(){switch(r){case"all":return!0;case"personal":return null==(null!=o?o.getOrganization():void 0);default:return(null!=o?o.get("idOrganization"):void 0)===r}}()&&(!L.hasOwnProperty(t)||L[t](n))}))}},{key:"getSortType",value:function(){return w.getCardsPageSortType()}},{key:"getFilterType",value:function(){return w.getCardsPageFilter()}},{key:"getSelectedGroup",value:function(){var e=w.getCardsPageGroup();return["personal","all"].includes(e)||null!=this.modelCache.get("Organization",e)?e:"all"}},{key:"renderSortText",value:function(){var e;this.$(".js-sort-text").html(D(["sorting cards by",this.getSortType()])),this.$(".js-filter-text").html(D(["filtering cards by",this.getFilterType()]));var t=this.getSelectedGroup();return this.$(".js-group-text").html("personal"===t?D(["showing cards in group","personal"]):null!=t&&null!=(e=this.modelCache.get("Organization",t))?D(["showing cards in group","organization"],{name:e.get("displayName")}):D(["showing cards in group","all"]))}},{key:"toggleSort",value:function(e){O.stop(e),A("Member View","Cards Page","Open Sorting Options"),C.toggle({elem:this.$(".js-toggle-sort"),view:new k({model:this.model,modelCache:this.modelCache})})}},{key:"toggleFilter",value:function(e){O.stop(e),A("Member View","Cards Page","Open Filtering Options"),C.toggle({elem:this.$(".js-set-filter"),view:new b({model:this.model,modelCache:this.modelCache})})}},{key:"toggleGroup",value:function(e){return O.stop(e),A("Member View","Cards Page","Open Group Options"),C.toggle({elem:this.$(".js-set-group"),view:new g({model:this.model,modelCache:this.modelCache})})}},{key:"clearContent",value:function(){return this.$(".js-cards-content").empty()}},{key:"renderCardsSection",value:function(){if(this.clearContent(),this.renderSortText(),this.loading)this.renderLoading();else switch(this.getSortType()){case"board":this.renderBoardSort();break;case"date":this.renderDateSort()}}},{key:"_appendNoVisibleCards",value:function(){var e={message:p.isMe(this.model)?D("no assigned cards.at all"):D("no assigned cards.that you can see"),classes:"gutter",style:"padding: 60px 10px;"};this.$(".js-cards-content").html(h(e))}},{key:"renderLoading",value:function(){return this.$(".js-cards-content").html(N())}},{key:"renderBoardSort",value:function(){for(var e=this.getCards(),t=!1,r=E.chain(e).map((function(e){return e.getBoard()})).uniq().compact().filter((function(e){return null!=e?e.isOpen():void 0})).sortBy((function(e){return e.get("name").toLowerCase()})).sortBy((function(e){return e.isStarred()?0:1})).value(),n={category:"cards",method:"by clicking card on cards page"},o=0,i=Array.from(r);o<i.length;o++){var a=i[o],s=E.filter(e,(function(e){return e.get("idBoard")===a.id})),c=E.chain(s).pluck("id").sort().value().join(",");if(!E.isEmpty(s)){t=!0;var l=this.subview(v,a,{cards:s,trackObj:n},c);this.appendSubview(l,this.$(".js-cards-content"))}}return t||this._appendNoVisibleCards(),this}},{key:"renderDateSort",value:function(){var e,t=function(e,t){var r=T().add(e,"days"),n=T().add(t,"days");return function(e,t){return!t&&T(e).isBetween(r,n)}},r=function(e){var t=e.get("due");return null!=t?f.parse(t):null},n={"overdue cards":{fxTest:(e,t)=>!t&&T(e).isBefore(T()),data:{isOverdue:!0}},"due in the next day":{fxTest:t(0,1),data:{isDueSoon:!0}},"due in the next 7 days":{fxTest:t(1,7)},"due in the next month":{fxTest:t(7,28)},"due later":{fxTest:(e,t)=>!t&&T(e).isAfter(T().add(28,"days"))},"due date met":{fxTest:(e,t)=>t},"cards with no due date":{fxTest:e=>null==e,data:{iconType:"card"}}},o=E.sortBy(this.getCards(),(function(t){return null!=(e=t.get("due"))?e:""})),i=!1;for(var a in n){var s=n[a],c=s.fxTest,l=s.data,u=o.filter((function(e){return c(r(e),e.get("dueComplete"))}));if(!E.isEmpty(u)){i=!0;var d=E.extend({header:D(["card group headers",a])},l),m=this.subview(y,p.me(),{templateData:d},"datesectionview-".concat(a));m.groupedCards=u,this.appendSubview(m,this.$(".js-cards-content"))}}return i||this._appendNoVisibleCards(),this}}])&&o(r.prototype,u),j&&o(r,j),I}(j)).initClass(),u=u)},"./app/scripts/views/member/member-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=r("./node_modules/underscore/underscore.js"),d=r("./packages/paid-account/index.ts").isProblem,p=r("./packages/config/index.ts").dontUpsell,m=r("./packages/members/index.ts").avatarsFromAvatarUrl,f=r("./app/scripts/db/auth.js"),h=r("./packages/browser/index.ts"),v=r("./app/scripts/views/member/change-avatar-popover-view.js"),b=(r("./packages/feature-flag-client/index.ts").featureFlagClient,r("./app/scripts/lib/markdown/format.js")),g=r("./app/scripts/lib/localize-server-error.js"),y=r("./app/scripts/views/lib/pop-over.js"),k=r("./app/scripts/views/internal/tabbed-pane-view.js"),w=r("./app/scripts/lib/util/index.js"),j=r("./app/scripts/views/internal/view.js"),x=r("./app/common/components/MemberHome/index.ts").MemberHomeHeader,C=r("./node_modules/react/index.js"),_=r("./packages/react-dom-wrapper/index.ts"),O=r("./app/src/components/ComponentWrapper/index.ts").renderComponent,E=r("./app/scripts/views/internal/templates.js"),S=r("./packages/analytics/index.ts").track,P=r("./node_modules/xtend/immutable.js"),A=r("./app/scripts/views/templates/member_detail.js"),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(D,e);var t,u,k,j,T=(t=D,function(){var e,r=l(t);if(c()){var n=l(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return s(this,e)});function D(){return n(this,D),T.apply(this,arguments)}return u=D,j=[{key:"initClass",value:function(){this.mountedReactComponents=[],this.prototype.events={"click .js-change-avatar-profile":"changeAvInProfile","click .js-edit-profile":"editProfile","click .js-submit-profile":"submitProfile","submit .js-profile-form":"submitProfile","click .js-cancel-edit-profile":"cancelEditProfile","click .tabbed-pane-nav-item-button:not(.active)":"switchSection"}}}],(k=[{key:"initialize",value:function(){var e=this;return this.listenTo(this.model,"change:initials change:avatarUrl change:avatarSource change:fullName change:username change:bio change:prefs change:paidAccount",this.renderHeader),this.listenTo(this.model,"change:username",(function(){var t=location.pathname.replace(/[^\/]+/,e.model.get("username"));return history.replaceState(null,null,t),e.replaceNavLinks()}))}},{key:"delegateEvents",value:function(e){return i(l(D.prototype),"delegateEvents",this).call(this,P(D.prototype.events,e||this.events))}},{key:"remove",value:function(){return this.tabHeaderEl&&(_.unmountComponentAtNode(this.tabHeaderEl),this.tabHeaderEl=null),i(l(D.prototype),"remove",this).call(this)}},{key:"render",value:function(){var e=f.isMe(this.model),t=this.model.toJSON();if(e){var r=null!=t.paidAccount?t.paidAccount.standing:void 0;t.hasAccount=this.model.hasMemberOrOrgAccount(),t.accountProblem=d(r),t.isMe=!0,t.upsellEnabled=!p}return this.$el.html(A(t)),this.renderHeader(),this.renderMainContent(),this.updateTabbedScrollPosition(),this}},{key:"renderHeader",value:function(){var e;if(f.isMe(this.model)){this.tabHeaderEl=this.$(".js-header-wrapper")[0];var t=(e=this.model.get("avatarUrl"))?m(e):void 0;O(C.createElement(x,{id:this.model.get("id"),name:this.model.get("fullName"),username:this.model.get("username"),initials:this.model.get("initials"),avatarSource:this.model.get("avatarSource"),avatars:t,gold:this.model.isFeatureEnabled("crown")}),this.tabHeaderEl)}else{var n=this.model.toJSON();n.bioHtml=b.markdownAsHtml(n.bio,{textData:n.bioData}),n.hasCrown=this.model.isFeatureEnabled("crown"),n.avatarUrl&&(n.avatarUrl=[n.avatarUrl,"170.png"].join("/")),this.$(".js-header-wrapper").empty().append(E.fill(r("./app/scripts/views/templates/member_detail_profile_info.js"),n,{editable:f.isMe(this.model)}))}return this}},{key:"replaceNavLinks",value:function(){var e=this;return this.$el.find(".js-nav a").each((function(t,r){return $(r).attr("href",$(r).attr("href").replace(/[^\/]+/,e.model.get("username")))}))}},{key:"setActiveView",value:function(e){this.$(".tabbed-pane-nav-item-button").removeClass("active"),this.$(e).addClass("active")}},{key:"changeAvInProfile",value:function(e){w.stop(e),S("Member View","Header","Change Avatar Menu"),y.toggle({elem:this.$(".js-change-avatar-profile"),view:new v({model:this.model,modelCache:this.modelCache})})}},{key:"editProfile",value:function(e){w.stop(e),this.$(".js-current-details").addClass("hide"),this.$(".js-profile-form").removeClass("hide"),S("Member View","Click Edit Profile")}},{key:"cancelEditProfile",value:function(e){w.stop(e),this.$(".js-current-details").removeClass("hide"),this.$(".js-profile-form").addClass("hide"),this.$(".js-profile-form")[0].reset()}},{key:"submitProfile",value:function(e){var t=this;if(w.stop(e),!this.disabled){for(var r={},n=0,o=["fullName","username","bio","initials"];n<o.length;n++){var i=o[n];r[i]=this.$(".js-profile-form [name=".concat(i,"]")).val()}r.initials=r.initials.toUpperCase(),this.disableSubmit(),this.model.update(r,{waitForServer:!0},(function(e){if(t.disabled=!1,t.$(".js-submit-profile").removeAttr("disabled"),e){var r=e.message.trim().toLowerCase();t.$(".js-profile-form-error").removeClass("hide").text(g(r))}else t.$(".js-profile-form-error").addClass("hide"),t.cancelEditProfile(),S("Member","Successfully Change User Info")}))}}},{key:"disableSubmit",value:function(){this.disabled=!0,this.$(".js-submit-profile").attr("disabled","disabled")}},{key:"updateTabbedScrollPosition",value:function(){return setTimeout((function(){if(h.isTouch()){var e=this.$(".tabbed-pane-nav-item-button.active");return e.parents("ul").scrollLeft(e.offset().left-32)}}))}}])&&o(u.prototype,k),j&&o(u,j),D}(j);T.initClass(),u.extend(T.prototype,k),e.exports=T},"./app/scripts/views/plugin/plugin-badge-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r("./app/scripts/views/internal/plugins/plugin-runner.js");var l,u=r("./app/scripts/views/plugin/plugin-view.js"),d=(r("./node_modules/bluebird/js/browser/bluebird.js"),r("./node_modules/underscore/underscore.js")),p=r("./app/scripts/views/internal/teacup-with-helpers.js")(),m=r("./node_modules/xtend/immutable.js"),f=r("./packages/nachos/tokens.ts").IconQuietColor,h=p.renderable((function(e){var t=e.icon,r=e.text,n=e.iconColor,o=e.iconColorClass;if(null!=t&&p.span(".badge-icon.icon-sm.plugin-icon".concat(o),{style:p.stylify({"background-image":p.urlify(p.addRecolorParam(t,"?color=".concat(n)))})}),r)return p.span(".badge-text",(function(){return p.text(r)}))})),v={blue:"plugin-color-blue",green:"plugin-color-green",orange:"plugin-color-orange",red:"plugin-color-red",yellow:"plugin-color-yellow",purple:"plugin-color-purple",pink:"plugin-color-pink",sky:"plugin-color-sky",lime:"plugin-color-lime","light-gray":"plugin-color-light-gray"},b=d.values(v).join(" ");e.exports=((l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(g,e);var t,r,l,u,p=(t=g,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function g(){return n(this,g),p.apply(this,arguments)}return r=g,u=[{key:"initClass",value:function(){this.prototype.tagName="div",this.prototype.className="badge"}}],(l=[{key:"initialize",value:function(e){var t=e.pluginBadge;this.pluginBadge=t}},{key:"renderBadge",value:function(e){return this.$el.html(h(e)),this.$el}},{key:"render",value:function(){var e,t=this.pluginBadge,r=(e=t.color,v[e]),n=null!=r&&"light-gray"!==t.color,o=n?"fff":f.substr(1).toLowerCase(),i=n?".mod-invert":".mod-quiet";!1===t.monochrome&&(i=".mod-reset");var a=this.renderBadge(m(t,{iconColor:o,iconColorClass:i}));return a.removeClass(b),null!=r&&a.addClass(r),this}},{key:"updateBadge",value:function(e){if(!d.isEqual(this.pluginBadge,e))return this.pluginBadge=e,this.render(e)}}])&&o(r.prototype,l),u&&o(r,u),g}(u)).initClass(),l=l)},"./app/scripts/views/plugin/plugin-badges-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l,u=r("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),d=r("./app/scripts/lib/plugins/plugin-validators.js"),p=r("./app/scripts/views/plugin/plugin-badge-view.js"),m=r("./app/scripts/views/internal/plugins/plugin-model-serializer.js"),f=r("./app/scripts/views/internal/plugins/plugin-runner.js"),h=r("./app/scripts/views/plugin/plugin-view.js"),v=r("./app/scripts/views/lib/post-render.js"),b=r("./node_modules/bluebird/js/browser/bluebird.js"),g=r("./app/scripts/data/dropbox.js"),y=g.DropboxPluginId,k=g.DropboxClaimedHosts,w=r("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginViewedComponentEvent,j=r("./packages/analytics/index.ts").trackUe,x=r("./node_modules/underscore/underscore.js"),C=r("./resources/images/dropbox-mark.svg");C.startsWith("https://")||(C=window.location.origin+C);var _={},O=null,E={};function S(e,t){return null!=e?t(e):void 0}e.exports=((l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(P,e);var t,r,l,h,g=(t=P,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function P(){return n(this,P),g.apply(this,arguments)}return r=P,h=[{key:"initClass",value:function(){this.prototype.tagName="span",this.prototype.badgeView=p,this.prototype.vigor=this.VIGOR.NONE}}],(l=[{key:"isDetailView",value:function(){return!1}},{key:"runnerOptions",value:function(){var e,t;return{command:"card-badges",board:this.model.getBoard(),card:this.model,timeout:1e4,options:{attachments:m.attachments(null===(e=this.model)||void 0===e||null===(t=e.attachmentList)||void 0===t?void 0:t.models,["id","name","url"])}}}},{key:"_cacheKey",value:function(){var e=this.runnerOptions(),t=e.command,r=e.board,n=e.card;return[t,null!=r?r.id:void 0,null!=n?n.id:void 0].join(":")}},{key:"requestBadges",value:function(){var e=this;return f.all(this.runnerOptions()).then((function(t){var r=x.filter(t,d.isValidBadge);if(!e.isDetailView()&&!S(e.model.getBoard(),(function(e){return e.isPluginEnabled(y)}))){var n,o,i=null===(n=e.model)||void 0===n||null===(o=n.attachmentList)||void 0===o?void 0:o.filter((function(e){return k.includes(function(e){try{return new URL(e).host}catch(t){return e}}(e.get("url")))})).length;i>0&&r.push({icon:C,text:i,idPlugin:y})}var a=(e.latestRun||0)+1;e.latestRun=a;var s=[],c=function(){return e.latestRun===a},l=function(){if(c())return e.renderResolvedBadges(s),_[e._cacheKey()]=s.map((function(e){return x.omit(e,"callback")}))};return e.cancelOnRemove(b.map(r,(function(t,r){return e.retain(t),null!=t.dynamic?function n(){var o=t.dynamic().cancellable().then((function(t){if(!d.isValidBadge(t))return s[r]=void 0,void l();if(s[r]=t,l(),t.refresh&&c()){var o=Math.max(10,t.refresh);return o+=2*Math.random()-1,e.setTimeout(n,1e3*o)}})).catch(f.Error.NotHandled,(function(){return null}));return e.cancelOnRemove(o),o}():s[r]=t}))).cancellable().then((function(){return l()})).catch(b.CancellationError,(function(){}))}))}},{key:"renderOnce",value:function(){var e,t=this;null!=(e=_[this._cacheKey()])&&this.renderResolvedBadges(e);var r=S(this.model.getBoard(),(function(e){return e.id}));return r&&r!==O&&(O=r,E={}),v.enqueue("plugin_badges_render_".concat(this.cid),(function(){var e,r=t.runnerOptions();t.latestRun=0;var n=x.debounce((function(){return t.requestBadges()}),500);t.listenTo(t.model,"change:dateLastActivity",n),t.listenTo(null===(e=t.model)||void 0===e?void 0:e.attachmentList,"add remove reset change",n);var o=u(r.board,r.card);return t.subscribe(o,x.after(2,(function(e){return n()}))),t.waitForId(t.model,(function(){return t.requestBadges()}))})),this}},{key:"trackBadges",value:function(e){if(!E[e])return E[e]=!0,j("board view","views","Power-Up","","","card-badges",e),w({idPlugin:e,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{componentType:"badge",componentName:"pupCardBadge",source:"boardScreen"}})}},{key:"renderResolvedBadges",value:function(e){var t=this,r=this.isDetailView(),n=x.filter(e,(function(e){return d.isRenderableBadge(e,r)})).map((function(e,r){t.trackBadges(e.idPlugin);var n=t.subview(t.badgeView,t.model,{pluginBadge:e},r);return n.updateBadge(e),n}));return this.ensureSubviews(n)}}])&&o(r.prototype,l),h&&o(r,h),P}(h)).initClass(),l=l)},"./app/scripts/views/stickers/sticker-edit-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l,u=r("./packages/jquery/index.js"),d=r("./app/scripts/views/lib/pop-over.js"),p=r("./app/scripts/views/stickers/sticker-view.js"),m=r("./app/scripts/lib/util/index.js"),f=r("./node_modules/underscore/underscore.js"),h=r("./packages/analytics/index.ts").track,v=r("./packages/atlassian-analytics/index.ts").Analytics,b=r("./packages/feature-flag-client/index.ts").featureFlagClient;e.exports=((l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(y,e);var t,r,l,p,g=(t=y,function(){var e,r=c(t);if(s()){var n=c(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return a(this,e)});function y(){return n(this,y),g.apply(this,arguments)}return r=y,p=[{key:"initClass",value:function(){this.prototype.events={mouseenter:"mouseenter",mouseleave:"mouseleave",mousedown:"editSticker","mousedown .js-remove-sticker":"removeSticker","mousedown .js-rotate-sticker":"startRotate","mousedown .js-move-sticker":"startMove"}}}],(l=[{key:"initialize",value:function(){return this.listenTo(this.model,"stopEditing",this.stopEditing),this.listenTo(this.model,"startEditing",this.editSticker),this.listenTo(this.model,"disableEditing",this.disableEditing),this.listenTo(this.model,"enableEditing",this.enableEditing)}},{key:"showEditControls",value:function(){return!0}},{key:"disableEditing",value:function(){return this.$el.addClass("editing-disabled")}},{key:"enableEditing",value:function(){return this.$el.removeClass("editing-disabled")}},{key:"endCurrentEdit",value:function(){return u(document).off(".stickerrotate .stickermove .stickerautomove"),this.$el.removeClass("moving rotating"),u(".quick-card-editor").removeClass("invalid dragging")}},{key:"stopEditing",value:function(e){if(m.stop(e),this.isEditing())return this.endCurrentEdit(),this.$el.removeClass("editing"),u(".quick-card-editor").removeClass("quick-card-editor-editing-stickers"),Array.from(this.model.collection.models).map((function(e){return e.trigger("enableEditing")}))}},{key:"isEditing",value:function(){return this.$el.is(".moving, .rotating, .editing")}},{key:"isEditingDisabled",value:function(){return this.$el.is(".editing-disabled")}},{key:"isMovingOrRotating",value:function(){return this.$el.is(".moving, .rotating")}},{key:"saveStickerAttrs",value:function(e){var t=e.position,r=e.rotation,n=function(e){return Math.round(100*e)/100},o={zIndex:this.model.collection.nextZIndex(this.model)};if(t){var i=this.$el.closest(".list-card").find(".js-card-stickers"),a=i.width(),s=i.height();o.left=n(parseFloat(this.$el.css("left"))/a*100),o.top=n(parseFloat(this.$el.css("top"))/s*100)}if(r){var c=m.getElemTransformMatrix(this.$el.find(".sticker-image"));o.rotate=n(m.getMatrixDegrees(c)%360)}this.model.update(o)}},{key:"mouseenter",value:function(e){this.isEditingDisabled()||this.isEditing()||this.isMovingOrRotating()||this.$el.addClass("hover")}},{key:"mouseleave",value:function(e){this.$el.removeClass("hover")}},{key:"editSticker",value:function(e){var t=this;if(null==e||1===e.which){if(m.stop(e),null!=e&&"mousedown"===e.type){var r=e.pageX,n=e.pageY,o=function(){return u(document).off(".stickerautomove"),clearTimeout(i)};u(document).on("mousemove.stickerautomove",(function(e){if(Math.pow(e.pageX-r,2)+Math.pow(e.pageY-n,2)>25)return o(),t.startMove(e)})),u(document).on("mouseup.stickerautomove",o);var i=this.setTimeout(o,1e3)}for(var a=f.clone(this.model.collection.models),s=0,c=Array.from(a);s<c.length;s++){var l=c[s];l!==this.model&&(l.trigger("stopEditing"),l.trigger("disableEditing"))}this.defer((function(){return d.hide(),t.$el.addClass("editing"),u(".quick-card-editor").addClass("quick-card-editor-editing-stickers")}))}}},{key:"startRotate",value:function(e){var t=this;if(this.isEditing()){m.preventDefault(e);var r=this.$el.offset().left+this.$el.width()/2,n=this.$el.offset().top+this.$el.height()/2,o=e.pageX,i=e.pageY,a=0,s=m.getElemTransformMatrix(this.$el.find(".sticker-image"));null!=s&&(a=m.getMatrixDegrees(s));var c=!1;return u(document).on("mousemove.stickerrotate",(function(e){c||(t.$el.removeClass("hover").addClass("rotating"),u(".quick-card-editor").addClass("dragging"),c=!0);var s=e.pageX,l=e.pageY,d=s-r,p=l-n,f=m.getDegrees(i-n,o-r),h=m.getDegrees(p,d),v=a+(h-f);t.$el.find(".sticker-image").css({transform:"rotate(".concat(v,"deg)"),"-webkit-transform":"rotate(".concat(v,"deg)")})})),u(document).on("mouseup.stickerrotate",(function(){return c?(t.saveStickerAttrs({rotation:!0}),t.endCurrentEdit()):u(document).off(".stickerrotate")})),!1}}},{key:"startMove",value:function(e){var t,r,n=this;if(this.isEditing()){m.stop(e);var o=this.$el.closest(".list-card").find(".js-card-stickers"),i=o.offset(),a=i.left,s=i.top,c=this.$el.width(),l=this.$el.height(),d={left:-40,right:o.width()-10,top:-40,bottom:o.height()-10};null!=e?(t=this.$el.offset().left+this.$el.width()/2-e.pageX,r=this.$el.offset().top+this.$el.height()/2-e.pageY):(t=0,r=0);var p=!1;return u(document).on("mousemove.stickermove",(function(e){p||(n.$el.removeClass("hover").addClass("moving"),u(".quick-card-editor").addClass("dragging"),p=!0);var o=e.pageX-a-c/2+t,i=e.pageY-s-l/2+r,m=!0;return o>d.right&&(o=d.right,m=!1),o<d.left&&(o=d.left,m=!1),i>d.bottom&&(i=d.bottom,m=!1),i<d.top&&(i=d.top,m=!1),u(".quick-card-editor").toggleClass("invalid",!m),n.$el.css({left:o,top:i})})),u(document).on("mouseup.stickermove",(function(){return p?(n.saveStickerAttrs({position:!0}),n.endCurrentEdit()):u(document).off(".stickermove")})),!1}}},{key:"removeSticker",value:function(e){var t=this;if(this.isEditing()){var r=f.once((function(){h("Card","Sticker","Remove via Edit"),b.get("dataeng.gasv3-event-tracking",!1)&&v.sendTrackEvent({action:"removed",actionSubject:"sticker",source:"stickerEditView"}),t.stopEditing(),t.model.destroy(),t.$el.remove()}));this.$el.one("transitionEnd webkitTransitionEnd",r),this.setTimeout(r,100),this.$el.addClass("fade-out")}}}])&&o(r.prototype,l),p&&o(r,p),y}(p)).initClass(),l)},"./app/scripts/views/stickers/sticker-view.js":function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=r("./packages/browser/index.ts"),m=r("./app/scripts/lib/util/index.js"),f=r("./app/scripts/views/internal/view.js"),h=r("./app/scripts/data/sticker-size.js"),v=r("./app/scripts/lib/util/sticker-clip.js"),b=r("./app/scripts/views/internal/teacup-with-helpers.js")("sticker_on_card"),g=r("./node_modules/bluebird/js/browser/bluebird.js"),y=r("./packages/analytics/index.ts").track,k=r("./packages/atlassian-analytics/index.ts").Analytics,w=r("./packages/feature-flag-client/index.ts").featureFlagClient,j=p.supportsFancyPeel(),x=b.renderable((function(e){var t=e.url,n=e.rotate,o=e.image,i=e.showEditControls,a=e.showRemoveUI,s=e.isGiphySticker;return a?(b.div({class:b.classify({"sticker-removing":!0,"giphy-sticker":s})},(function(){return b.div(".sticker-removing-highlight",{style:"transform: rotate(".concat(n,"deg)")}),j?(b.img(".sticker-remove-image.sticker-removing-residue",{src:r("./resources/images/stickers/residue.png"),style:"--sticker-rotation: ".concat(n,"deg; mask-image: ").concat(b.urlify(t),"; -webkit-mask-image: ").concat(b.urlify(t),";")}),b.img(".sticker-remove-image.sticker-removing-shadow",{src:t,style:"--sticker-rotation: ".concat(n,"deg")}),b.img(".sticker-remove-image.sticker-removing-fixed",{src:t,style:"--sticker-rotation: ".concat(n,"deg;")}),b.img(".sticker-remove-image.sticker-removing-peel",{src:t,style:"--sticker-rotation: ".concat(n,"deg")})):b.img(".sticker-remove-image.sticker-removing-fixed",{src:t,style:"transform: rotate(".concat(n,"deg)")})})),b.span(".sticker-control-btn.remove-btn.js-remove-sticker",{style:"display: none"},(function(){return b.format("remove")}))):(b.img({class:b.classify({"sticker-image":!0,"giphy-sticker":s}),src:t,style:"-webkit-transform: rotate(".concat(n,"deg);transform: rotate(").concat(n,"deg);"),alt:o}),i?b.div(".sticker-controls",(function(){return b.span(".sticker-control-btn.rotate-btn.js-rotate-sticker",(function(){return b.format("rotate")})),b.span(".sticker-control-btn.move-btn.js-move-sticker",(function(){return b.format("move")})),b.span(".sticker-control-btn.remove-btn.js-remove-sticker",(function(){return b.format("remove")}))})):void 0)})),C=function(e,t){null==t&&(t={});var r=e.getBoundingClientRect(),n=r.left,o=r.top,i=t.fixedWidth?n+t.fixedWidth():r.right,a=t.fixedHeight?o+t.fixedHeight():r.bottom;return{left:n,top:o,bottom:a,right:i,width:i-n,height:a-o,x:n+(i-n)/2,y:o+(a-o)/2}},_=function(e){var t=e.rect,r=e.containerRect,n=e.controlRect,o=(e.currentX,e.currentY,e.deltaX),i=e.deltaY,a=(e.interval,m.getPositiveDegrees(-i,o)),s=function(e){return e-45<a&&a<e+45},c=8-n.height,l=(t.height-n.height)/2,p=t.height-8,f=8-n.width,h=(t.width-n.width)/2,v=t.width-8,b=[{left:h,top:p,avoid:s(270)},{left:h,top:c,avoid:s(90)},{left:v,top:l,avoid:s(0)||s(360)},{left:f,top:l,avoid:s(180)},{left:f,top:p,avoid:s(225)},{left:v,top:p,avoid:s(315)},{left:f,top:c,avoid:s(135)},{left:v,top:c,avoid:s(45)}].map((function(e){var o=e.left+(t.left-r.left),i=e.top+(t.top-r.top),a=o+n.width,s=i+n.height;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{visibleArea:(Math.min(a,r.width)-Math.max(0,o))*(Math.min(s,r.height)-Math.max(0,i))})})).sort((function(e,t){return t.visibleArea-e.visibleArea}));return b.filter((function(e){return!e.avoid}))[0]||b.filter((function(e){return e.avoid}))[0]||b[0]},O=null,E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(f,e);var t,r,u,d,p=(t=f,function(){var e,r=l(t);if(c()){var n=l(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return s(this,e)});function f(){return n(this,f),p.apply(this,arguments)}return r=f,d=[{key:"initClass",value:function(){this.prototype.className="sticker"}}],(u=[{key:"initialize",value:function(){return i(l(f.prototype),"initialize",this).apply(this,arguments),this.listenTo(this.model,"change",this.render)}},{key:"showEditControls",value:function(){return!1}},{key:"events",value:function(){return this.options.canRemove?{mouseenter(e){if(!this.showRemoveUI)return this.showRemoveUI=!0,this.render()},mouseleave:"mouseLeave",mousemove:"mouseMove",mousedown(e){if(!this.$(e.target).closest(".js-remove-sticker").length)return this.removeRemove()},"left-sticker":"removeRemove","mousemove .js-remove-sticker":e=>m.stop(e),"mouseenter .js-remove-sticker"(e){return this.$el.addClass("peeling")},"mouseleave .js-remove-sticker"(e){return this.$el.removeClass("peeling")},"click .js-remove-sticker"(e){return m.stop(e),this.removeSticker()}}:{}}},{key:"render",value:function(){var e,t,r,n=this.model.toJSON();return n.url=null!=(t=m.smallestPreviewBiggerThan(n.imageScaled,h),r=function(e){return e.url},e=null!=t?r(t):void 0)?e:n.imageUrl,n.showEditControls=this.showEditControls(),n.showRemoveUI=this.showRemoveUI,this.$el.html(x(n)).css({left:"".concat(v(n.left),"%"),top:"".concat(v(n.top),"%")}),this}},{key:"mouseMove",value:function(e){var t=this;return e.buttons?this.removeRemove():this.showingRemove?this.clearTimeouts():this.hoverTimeout?(this.currentX=e.offsetX,this.currentY=e.offsetY):(this.$el.siblings().trigger("left-sticker"),this.currentX=this.startX=e.offsetX,this.currentY=this.startY=e.offsetY,this.hoverTimeout=this.setTimeout((function(){return t.showRemove()}),350))}},{key:"showRemove",value:function(){var e=this;if(!this.showingRemove){this.showingRemove=!0;var t=this.currentX-this.startX,r=this.currentY-this.startY;this.$el.addClass("hover");var n=this.$(".js-remove-sticker");return g.try((function(){return O||(n.css({display:"inline-block"}),new g((function(t){return e.requestAnimationFrame((function(){return O=C(n.get(0)),n.css({display:"none"}),t(O)}))})))})).then((function(o){var i=_({rect:C(e.el),containerRect:C(e.$el.closest(".js-stickers-area").get(0),{fixedWidth:e.options.fixedWidth,fixedHeight:e.options.fixedHeight}),controlRect:o,currentX:e.currentX,currentY:e.currentY,deltaX:t,deltaY:r,interval:350}),a=i.left,s=i.top;return n.css({display:"inline-block",top:s,left:a})})).done()}}},{key:"removeRemove",value:function(e){if(this.showingRemove)return this.showingRemove=!1,this.clearTimeouts(),this.$(".js-remove-sticker").css({display:"none"}),this.$el.removeClass("hover peeling")}},{key:"mouseLeave",value:function(e){var t=this;return this.clearTimeouts(),this.removeTimeout=this.setTimeout((function(){return t.removeRemove()}),200)}},{key:"clearTimeouts",value:function(){return clearTimeout(this.hoverTimeout),this.hoverTimeout=null,clearTimeout(this.removeTimeout),this.removeTimeout=null}},{key:"removeSticker",value:function(){return y("Card","Sticker","Remove via Hover"),w.get("dataeng.gasv3-event-tracking",!1)&&k.sendTrackEvent({action:"removed",actionSubject:"sticker",source:"stickerHoverView"}),this.clearTimeouts(),this.$el.remove(),this.model.destroy()}}])&&o(r.prototype,u),d&&o(r,d),f}(f);E.initClass(),e.exports=E},"./app/scripts/views/templates/avatar_change.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("avatar_change");e.exports=function(){return n.mustacheBlock("uploadedAvatarUrl",(function(){return n.a({class:"avatar-option js-use-uploaded-avatar ".concat(n.mustacheBlock("avatarSource_upload",(function(){return"active"}))),href:"#"},(function(){return n.img(".pic",{src:"/".concat(n.mustacheVar("uploadedAvatarUrl"),"/50.png")}),n.span(".text",(function(){return n.format("uploaded-picture"),n.icon("check")}))})),n.hr()})),n.div(".js-grav.hide",(function(){return n.a({class:"avatar-option js-use-gravatar ".concat(n.mustacheBlock("avatarSource_gravatar",(function(){return"active"}))),href:"#"},(function(){return n.img(".pic",{src:"https://secure.gravatar.com/avatar/".concat(n.mustacheVar("gravatarHash"),".png?s=50&r=PG&d=404")}),n.span(".text",(function(){return n.format("gravatar"),n.icon("check")}))})),n.hr()})),n.a({class:"avatar-option js-no-avatar ".concat(n.mustacheBlock("avatarSource_none",(function(){return"active"}))),href:"#"},(function(){return n.span(".pic.member",(function(){return n.span(".member-initials",(function(){return n.text(n.mustacheVar("initials"))}))})),n.span(".text",(function(){return n.format("initials-no-avatar"),n.icon("check")}))})),n.hr(),n.mustacheBlock("canTakePhoto",(function(){return n.a(".button-link.js-take-photo",{href:"#"},(function(){return n.icon("camera","take-photo-with-camera")})),n.hr()})),n.p(".error.hide.js-error"),n.div(".uploader",(function(){return n.form(".realfile",{action:"/1/member/".concat(n.mustacheVar("id"),"/avatar"),method:"post",enctype:"multipart/form-data"},(function(){return n.input({type:"hidden",name:"token",value:""}),n.input({type:"hidden",name:"format",value:"http"}),n.input(".js-upload-avatar",{type:"file",name:"file",style:"margin-bottom: 0;",tabindex:"-1",accept:"image/*;capture=camera"})})),n.a(".button-link.fakefile",(function(){return n.mustacheBlock("uploadedAvatarUrl",(function(){return n.icon("attachment","upload-a-new-picture")})),n.mustacheBlockInverted("uploadedAvatarUrl",(function(){return n.icon("attachment","upload-a-picture")}))}))}))}},"./app/scripts/views/templates/board_header_permissions.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("board_header_permissions");e.exports=n.renderable((function(e){var t=e.permIconClass,r=e.permText;return n.span({class:n.classify({"board-header-btn-icon":!0,"icon-sm":!0,["icon-".concat(t)]:!0})}),n.span(".board-header-btn-text",(function(){return n.text(r)}))}))},"./app/scripts/views/templates/card_copy.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("card_copy");e.exports=function(){return n.mustacheBlock("loading",(function(){return n.div(".spinner.loading.js-loading-card-actions")})),n.mustacheBlockInverted("loading",(function(){return n.form((function(){return n.label((function(){return n.format("title")})),n.textarea(".js-autofocus",{name:"name"},(function(){return n.text(n.mustacheVar("name"))})),n.mustacheBlock("hasStuff",(function(){return n.label((function(){return n.format("keep-ellipsis")})),n.mustacheBlock("hasChecklists",(function(){return n.div(".check-div.u-clearfix",(function(){return n.input({id:"idKeepChecklists",type:"checkbox",name:"checklists",checked:!0}),n.label({for:"idKeepChecklists"},(function(){return n.format("checklists-numchecklists",{numChecklists:n.mustacheVar("numChecklists")})}))}))})),n.mustacheBlock("hasLabels",(function(){return n.div(".check-div.u-clearfix",(function(){return n.input({id:"idKeepLabels",type:"checkbox",name:"labels",checked:!0}),n.label({for:"idKeepLabels"},(function(){return n.format("labels-numlabels",{numLabels:n.mustacheVar("numLabels")})}))}))})),n.mustacheBlock("hasMembers",(function(){return n.div(".check-div.u-clearfix",(function(){return n.input({id:"idKeepMembers",type:"checkbox",name:"members",checked:!0}),n.label({for:"idKeepMembers"},(function(){return n.format("members-nummembers",{numMembers:n.mustacheVar("numMembers")})}))}))})),n.mustacheBlock("hasAttachments",(function(){return n.div(".check-div.u-clearfix",(function(){return n.input({id:"idKeepAttachments",type:"checkbox",name:"attachments",checked:!0}),n.label({for:"idKeepAttachments"},(function(){return n.format("attachments-numattachments",{numAttachments:n.mustacheVar("numAttachments")})}))}))})),n.mustacheBlock("hasComments",(function(){return n.div(".check-div.u-clearfix",(function(){return n.input({id:"idKeepComments",type:"checkbox",name:"comments",checked:!0}),n.label({for:"idKeepComments"},(function(){return n.format("comments-numcomments",{numComments:n.mustacheVar("numComments")})}))}))})),n.mustacheBlock("hasStickers",(function(){return n.div(".check-div.u-clearfix",(function(){return n.input({id:"idKeepStickers",type:"checkbox",name:"stickers",checked:!0}),n.label({for:"idKeepStickers"},(function(){return n.format("stickers-numstickers",{numStickers:n.mustacheVar("numStickers")})}))}))}))})),n.label((function(){return n.format("copy-to-ellipsis")})),n.mustachePartial(r("./app/scripts/views/templates/move_card_controls.js")),n.input(".primary.wide.js-submit",{type:"submit",value:n.l("create-card")})}))}))}},"./app/scripts/views/templates/card_in_list.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("card_in_list"),o=r("./app/scripts/views/templates/label.js"),i=r("./app/scripts/views/templates/member_on_card.js"),a=r("./app/scripts/views/templates/card_in_list_cover.js");e.exports=n.renderable((function(e){var t=e.hasStickers,r=e.labels,s=e.quickEdit,c=e.name,l=e.members,u=e.showEditor,d=e.badgesHTML,p=e.hasCover,m=e.cover,f=e.hideCover,h=e.attachmentCoverUrl;return a({cover:m,hasCover:p,hideCover:f,hasStickers:t,attachmentCoverUrl:h}),u&&n.icon("edit",{class:"list-card-operation dark-hover js-open-quick-card-editor js-card-menu"}),n.div(".list-card-stickers-area.js-stickers-area",{class:n.classify({hide:!t})},(function(){return n.div(".stickers.js-card-stickers")})),n.div(".list-card-details.js-card-details",(function(){return n.div(".list-card-labels.js-card-labels",(function(){return Array.from(r).map((function(e){return o({name:e.name,color:e.color,extraClasses:["mod-card-front"]})}))})),s?n.textarea(".list-card-edit-title.js-edit-card-title",{dir:"auto"},(function(){return n.text(c)})):n.span(".list-card-title.js-card-name",{dir:"auto"}),n.div(".badges",(function(){return n.span(".js-badges",(function(){return n.raw(d)})),n.span(".custom-field-front-badges.js-custom-field-badges"),n.span(".js-plugin-badges")})),n.div(".list-card-members.js-list-card-members",(function(){return Array.from(l).map((function(e){return i(e)}))}))})),n.p(".list-card-dropzone",(function(){return n.format("drop-files-to-upload")})),n.p(".list-card-dropzone-limited",(function(){return n.format("too-many-attachments")})),n.p(".list-card-dropzone-restricted",(function(){return n.format("attachments-restricted")}))}))},"./app/scripts/views/templates/card_in_list_cover.js":function(e,t,r){var n=r("./packages/browser/index.ts"),o=r("./app/scripts/views/internal/teacup-with-helpers.js")("card_in_list"),i=r("./app/scripts/lib/util/index.js"),a=r("./app/common/lib/util/preview.ts").makePreviewCachable;e.exports=o.renderable((function(e){var t,r=e.cover,s=e.hasCover,c=e.hideCover,l=e.hasStickers,u=e.attachmentCoverUrl;if(null==r||c||!s)return o.div(".list-card-cover.js-card-cover");var d=r.idAttachment,p=r.idUploadedBackground,m=r.color,f=r.scaled,h=r.edgeColor;if("full"===r.size)return o.div(".list-card-cover.js-card-cover");if(m)return t=l?64:32,o.div(".list-card-cover.js-card-cover.color-card-cover.color-card-cover-".concat(m,".is-covered"),{style:o.stylify({height:"".concat(t,"px")})});if(d||p){var v,b=n.isHighDPI()?600:300,g=null!=(v=i.smallestPreviewBiggerThan(f,b))?v:i.biggestPreview(f);null==g&&d&&(g={url:u});var y=Math.min(g.height,260);return t=245*g.height/g.width,o.div(".list-card-cover.js-card-cover.is-covered",{style:o.stylify({height:"".concat(t,"px"),"background-color":null!=h?h:"transparent","background-image":'url("'.concat(a(g.url),'")'),"background-size":t<=y?"cover":"contain"})})}}))},"./app/scripts/views/templates/card_title_on_card_front.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("card_title_on_card_front");e.exports=n.renderable((function(e){var t=e.idShort,r=e.name,o=e.separatorClassName;return t&&n.span(".card-short-id.hide",(function(){return n.format("idshort",{idShort:t})})),o?n.div(".".concat(o)):n.text(r)}))},"./app/scripts/views/templates/crop_photo.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("crop_photo");e.exports=function(){return n.img(".crop-image"),n.button(".primary.js-done",(function(){return n.format("looks-good")})),n.button(".js-back",(function(){return n.format("try-again-ellipsis")}))}},"./app/scripts/views/templates/empty_list.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("empty_list");e.exports=n.renderable((function(e){var t=e.classes,r=e.style,o=e.message;return n.p({class:"empty-list ".concat(t),style:r},(function(){return n.text(o)}))}))},"./app/scripts/views/templates/label.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("label");e.exports=n.renderable((function(e){var t=e.color,r=e.name,o=e.extraClasses,i={"card-label":!0};if(t&&(i["card-label-".concat(t)]=!0),o)for(var a=0,s=Array.from(o);a<s.length;a++){i[s[a]]=!0}return n.span({class:n.classify(i),title:null!=r?r:"".concat(t," label (default)")},(function(){return n.span({class:"label-text"},(function(){return r?n.text(r):n.raw("&nbsp;")}))}))}))},"./app/scripts/views/templates/label_edit_component.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("label_edit_component");e.exports=function(){return n.label({for:"labelName"},(function(){return n.format("name")})),n.input(".js-autofocus.js-label-name",{id:"labelName",type:"text",name:"name",value:n.mustacheVar("label.name")}),n.label((function(){return n.format("select-a-color")})),n.div(".u-clearfix",(function(){return n.mustacheBlock("colors",(function(){return n.span({class:"card-label mod-edit-label mod-clickable card-label-".concat(n.mustacheVar("color")," palette-color js-palette-color"),"data-color":n.mustacheVar("color")},(function(){return n.span({class:"card-label-color-select-icon icon-sm icon-check light ".concat(n.mustacheBlockInverted("selected",(function(){return"hide"}))," js-palette-select")})}))}))})),n.div(".edit-labels-no-color-section.u-clearfix",(function(){return n.div(".edit-labels-no-color-section-color",(function(){return n.span({class:"card-label mod-edit-label mod-clickable card-label-null palette-color js-palette-color","data-color":null},(function(){return n.span({class:"card-label-color-select-icon icon-sm icon-check light ".concat(n.mustacheBlockInverted("noColor",(function(){return"hide"}))," js-palette-select")})}))})),n.div(".edit-labels-no-color-section-text",(function(){return n.p(".u-bottom",(function(){return n.format("no-color")})),n.p(".u-bottom.quiet",(function(){return n.format("this-wont-show-up-on-the-front-of-cards")}))}))})),n.div(".u-clearfix",(function(){return n.input(".primary.wide.js-submit",{type:"submit",value:n.mustacheVar("submitText")}),n.div(".u-float-right.js-accessory-view-holder")}))}},"./app/scripts/views/templates/label_limit_exceeded.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("label_limit_exceeded");e.exports=function(){return n.span({class:"error"},(function(){return n.format("board-label-limit-exceeded")}))}},"./app/scripts/views/templates/member_cards_base.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("member_cards_base");e.exports=n.renderable((function(e){var t=e.showGroup;return n.div(".window-module.u-gutter.member-cards-options",(function(){return n.a(".quiet-button.mod-with-image.js-toggle-sort",{href:"#"},(function(){return n.icon("overflow-menu-horizontal",{class:"quiet-button-icon"}),n.span(".js-sort-text")})),t&&n.a(".quiet-button.mod-with-image.js-set-group",{href:"#"},(function(){return n.icon("filter",{class:"quiet-button-icon"}),n.span(".js-group-text")})),n.a(".quiet-button.mod-with-image.js-set-filter",{href:"#"},(function(){return n.icon("filter",{class:"quiet-button-icon"}),n.span(".js-filter-text")}))})),n.div(".js-cards-content")}))},"./app/scripts/views/templates/member_cards_board.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("member_cards_board");e.exports=n.renderable((function(e){var t=e.id,r=e.url,o=e.name,i=e.org,a=e.permissionLevel,s=e.starred,c=e.lists,l=e.isTemplate;return n.div(".member-cards-board.js-board",(function(){return n.div(".board-header",(function(){return n.a(".board-header-btn.mod-board-name.no-edit",{href:r},(function(){return n.span(".board-header-btn-text",(function(){return n.text(o)}))})),l&&n.div(".board-header-btn-template-badge.js-board-template-badge-".concat(t)),s&&n.a(".board-header-btn.no-edit",(function(){return n.span(".icon-sm.icon-star.board-header-btn-icon")})),null!=i&&n.a(".board-header-btn.board-header-btn-org-name.board-header-btn-without-icon",{href:i.url},(function(){return n.span(".board-header-btn-text",(function(){return n.text(i.name)}))})),n.span(".board-header-btn.perms-btn.no-edit.js-permission-level",(function(){return n.span(".icon-sm",{class:n.classify({"icon-organization-visible":"org"===a,"icon-public":"public"===a,"icon-private":"private"===a})})}))})),n.div(".member-cards-board-lists.u-fancy-scrollbar",(function(){return Array.from(c).map((function(e){return n.div(".list-wrapper",(function(){return n.div(".list",(function(){return n.div(".list-header.u-clearfix",(function(){return n.div(".list-header-name.mod-list-name",(function(){return n.text(e.name)}))})),n.div(".js-list.list-cards.u-fancy-scrollbar",{"data-idList":e.id})}))}))}))}))}))}))},"./app/scripts/views/templates/member_cards_card.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("member_cards_card");e.exports=function(){return n.div(".js-card"),n.p(".list-card-position.quiet",(function(){return n.mustacheBlock("showBoard",(function(){return n.format("in-listname-on-boardname",{listName:n.mustacheVar("listName"),boardName:n.mustacheVar("boardName")})})),n.mustacheBlockInverted("showBoard",(function(){return n.format("in-listname",{listName:n.mustacheVar("listName")})}))}))}},"./app/scripts/views/templates/member_cards_date.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("member_cards_date");e.exports=function(){return n.div(".window-module-title",(function(){return n.span({class:"window-module-title-icon icon-lg icon-".concat(n.mustacheVar("iconType"))}),n.h3((function(){return n.text(n.mustacheVar("header"))}))})),n.div(".card-grid.u-gutter.u-clearfix.js-list")}},"./app/scripts/views/templates/member_cards_filter.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("member_cards_filter"),o=["active-day","active-week","active-month","active-year","all"];e.exports=n.renderable((function(e){var t=e.filter;return n.ul(".pop-over-list.checkable",(function(){return o.forEach((function(e){return n.li({class:n.classify({active:e===t})},(function(){return n.a(".highlight-icon.js-set-filter",{href:"#","data-filter":e},(function(){return n.check(e===t,["filter-description",e])}))}))}))}))}))},"./app/scripts/views/templates/member_cards_group.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("member_cards_group");e.exports=n.renderable((function(e){var t=e.group,r=e.organizations,o=function(e,r){return n.li({class:n.classify({active:t===e})},(function(){return n.a(".highlight-icon.js-set-group",{href:"#","data-group":e},(function(){if(n.text(r),n.text(" "),t===e)return n.icon("check"),n.text(" ")}))}))};return n.ul(".pop-over-list.checkable",(function(){return o("all",n.l("all-boards")),o("personal",n.l("personal-boards")),r.forEach((function(e){return o(e.id,e.name)}))}))}))},"./app/scripts/views/templates/member_cards_sort.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("member_cards_sort");e.exports=n.renderable((function(e){var t=e.sort;return n.ul(".pop-over-list.checkable",(function(){return n.li({class:n.classify({active:"board"===t})},(function(){return n.a(".highlight-icon.js-sort-by-board",{href:"#"},(function(){return n.check("board"===t,"sort-by-board")}))})),n.li({class:n.classify({active:"date"===t})},(function(){return n.a(".highlight-icon.js-sort-by-due-date",{href:"#"},(function(){return n.check("date"===t,"sort-by-due-date")}))}))}))}))},"./app/scripts/views/templates/member_detail.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("member_detail");r("./packages/feature-flag-client/index.ts").featureFlagClient;e.exports=n.renderable((function(e){var t=e.upsellEnabled,r=e.username,o=e.isMe,i=e.hasAccount,a=e.accountProblem;return n.div(".tabbed-pane-header",(function(){return n.div(".tabbed-pane-header-wrapper.u-clearfix.js-header-wrapper")})),n.div(".tabbed-pane-nav.u-clearfix.js-nav",(function(){return n.ul((function(){if(o&&n.li(".tabbed-pane-nav-item",(function(){return n.a(".tabbed-pane-nav-item-button.js-member-profile",{"data-tab":"profile",href:["",r].join("/")},(function(){return n.format("profile-and-visibility")}))})),n.li(".tabbed-pane-nav-item",(function(){return n.a(".tabbed-pane-nav-item-button.js-member-activity",{"data-tab":"activity",href:["",r,"activity"].join("/")},(function(){return n.format("activity")}))})),n.li(".tabbed-pane-nav-item",(function(){return n.a(".tabbed-pane-nav-item-button.js-member-cards",{"data-tab":"cards",href:["",r,"cards"].join("/")},(function(){return n.format("cards")}))})),o&&(n.li(".tabbed-pane-nav-item",(function(){return n.a(".tabbed-pane-nav-item-button.js-member-account",{"data-tab":"settings",href:["",r,"account"].join("/")},(function(){return n.format("settings")}))})),t))return a?n.li(".tabbed-pane-nav-item",(function(){return n.a(".tabbed-pane-nav-item-button.js-billing",{"data-tab":"billingIssue",href:["",r,"billing"].join("/")},(function(){return n.format("billing-issue")}))})):i?n.li(".tabbed-pane-nav-item",(function(){return n.a(".tabbed-pane-nav-item-button.js-billing",{"data-tab":"billing",href:["",r,"billing"].join("/")},(function(){return n.format("billing")}))})):n.li(".tabbed-pane-nav-item",(function(){return n.a(".tabbed-pane-nav-item-button.js-billing",{"data-tab":"trelloGold",href:["",r,"billing"].join("/")},(function(){return n.span(".icon-sm.icon-trello-gold.mod-inline.icon-trello-gold-color"),n.text(" "),n.format("trello-gold")}))}))}))})),n.div(".tabbed-pane-main-col.u-clearfix.mod-wider",(function(){return n.div(".tabbed-pane-main-col-loading.hide.js-loading-page",(function(){return n.span(".tabbed-pane-main-col-loading-spinner.spinner")})),n.div(".tabbed-pane-main-col-wrapper.js-content")}))}))},"./app/scripts/views/templates/member_detail_profile_info.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("member_detail_profile_info");e.exports=function(){return n.div(".tabbed-pane-header-content",(function(){return n.a({class:n.classify({"tabbed-pane-header-image":!0,"profile-image":!0,"member-deactivated":n.mustacheVar("activityBlocked")}),href:"#"},(function(){return n.mustacheVar("avatarUrl")?n.img(".profile-image-image",{src:n.mustacheVar("avatarUrl"),alt:n.mustacheVar("fullName")}):n.mustacheVar("initials")?n.span(".profile-image-initials",(function(){return n.text(n.mustacheVar("initials"))})):n.div(".member-icon-container",(function(){return n.icon("member")}))})),n.div(".tabbed-pane-header-details",(function(){return n.div(".tabbed-pane-header-details-name",(function(){return n.h1(".u-inline",(function(){return n.text(n.mustacheVar("fullName"))})),n.p(".window-title-extra.quiet",(function(){return n.format("at-username",{username:n.mustacheVar("username")})})),n.mustacheBlock("hasCrown",(function(){return n.span(".member-profile-gold-badge",(function(){return n.icon("trello-gold",{class:"member-profile-gold-badge-icon"}),n.mustacheBlock("__ed",(function(){return n.format("you-ve-got-trello-gold")})),n.mustacheBlockInverted("__ed",(function(){return n.format("has-trello-gold")}))}))}))})),n.div(".markeddown",{dir:"auto"},(function(){return n.mustacheBlock("bioHtml",(function(){return n.raw(n.mustacheVar("bioHtml"))}))}))}))}))}},"./app/scripts/views/templates/member_large_avatar.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("member_large_avatar");e.exports=n.renderable((function(e){var t=e.avatarUrl,r=e.viewTitle,o="";return"atlassianAccount"===e.avatarSource&&(o="pop-over-atlassian-account-avatar"),n.img({src:[t,"original.png"].join("/"),class:o,alt:r,title:r})}))},"./app/scripts/views/templates/member_on_card.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("member_on_card"),o=r("./app/scripts/views/templates/member.js");e.exports=n.renderable((function(e){var t=e.avatarUrl,r=e.fullName,i=e.id,a=e.initials,s=e.isDeactivated,c=e.isBoardAdmin,l=e.isOrganizationAdmin,u=e.isVirtual,d=e.username,p=e.viewTitle,m=e.activityBlocked;return n.div(".member.js-member-on-card-menu",{class:n.classify({"member-deactivated":s||m,"member-virtual":u,"long-initials":(null!=a?a.length:void 0)>2}),"data-idmem":i},(function(){return o({avatarUrl:t,fullName:r,initials:a,isDeactivated:s,isBoardAdmin:c,isOrganizationAdmin:l,username:d,viewTitle:p})}))}))},"./app/scripts/views/templates/member_on_card_menu.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("member_on_card_menu");e.exports=function(){return n.mustacheBlock("__ed",(function(){return n.li((function(){return n.a(".js-remove-member",(function(){return n.format("remove-from-card")}))}))}))}},"./app/scripts/views/templates/mini_profile.js":function(e,t,r){r("./packages/feature-flag-client/index.ts").featureFlagClient;var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("mini_profile");e.exports=n.renderable((function(e){var t=e.avatarUrl,r=e.viewTitle,o=e.fullName,i=e.username,a=e.initials,s=e.bio,c=e.email,l=e.showEmail,u=e.isMe,d=e.isDeactivated,p=e.activityBlocked;return n.div(".mini-profile",(function(){return n.div(".mini-profile-member.member-large",{class:n.classify({"member-deactivated":d||p})},(function(){t&&n.a(".av-btn.js-view-large",{href:"#"});var e=r;return t?n.img(".member-avatar",{height:"50",width:"50",src:[t,"50.png"].join("/"),alt:e,title:e}):a?n.span(".member-initials",{title:e},(function(){return n.text(a)})):n.div(".member-icon-container",(function(){return n.icon("member")}))})),n.div(".mini-profile-info",(function(){if(n.h3(".mini-profile-info-title",(function(){return n.a(".mini-profile-info-title-link.js-profile",{href:"/".concat(i)},(function(){return n.text(o)}))})),n.p(".quiet.u-bottom",(function(){return n.format("at-username",{username:i})})),s&&n.p(".mini-profile-info-bio.quiet",(function(){return n.text(s)})),l&&n.p(".u-bottom.quiet",(function(){return n.text(c)})),u)return n.p(".u-bottom",(function(){var e="/".concat(i,"/profile");return n.a(".quiet",{href:e},(function(){return n.format("edit-profile-info")}))}))}))}))}))},"./app/scripts/views/templates/move_card_controls.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("move_card_controls"),o=r("./packages/test-ids/index.ts").SelectTestIds;e.exports=function(){return n.mustacheBlockInverted("hideBoard",(function(){return n.div(".form-grid",(function(){return n.div(".form-grid-child.form-grid-child-full",{class:n.classify({hide:!n.mustacheVar("restrictToCurrentBoard")})},(function(){return n.label((function(){return n.format("board")})),n.p((function(){return n.mustacheBlock("organizations",(function(){return n.mustacheBlock("boards",(function(){return n.text(n.mustacheVar("name"))}))}))}))})),n.div(".button-link.setting.form-grid-child.form-grid-child-full",{class:n.classify({hide:n.mustacheVar("restrictToCurrentBoard")})},(function(){return n.span(".label",(function(){return n.format("board")})),n.span(".value.js-board-value"),n.label((function(){return n.format("board")})),n.select(".js-select-board",{"data-test-id":o.MoveBoardSelect},(function(){return n.mustacheBlock("organizations",(function(){return n.optgroup({label:n.mustacheVar("displayName")},(function(){return n.mustacheBlock("boards",(function(){return n.optionSelected(n.mustacheVar("selected"),{value:n.mustacheVar("id")},(function(){return n.text(n.mustacheVar("name")),n.mustacheBlock("selected",(function(){return n.text(" "),n.format("current")}))}))}))}))}))}))}))})),n.mustacheBlock("hasEnterprise",(function(){return n.mustacheBlock("enterpriseName",(function(){return n.mustacheBlock("isMove",(function(){return n.p(".quiet",(function(){return n.format("card-can-only-be-moved-to-teams-within-org",{enterpriseName:n.mustacheVar("enterpriseName")})}))})),n.mustacheBlock("isCopy",(function(){return n.p(".quiet",(function(){return n.format("card-can-only-be-copied-to-teams-within-org",{enterpriseName:n.mustacheVar("enterpriseName")})}))}))}))}))})),n.div(".form-grid",(function(){return n.div(".button-link.setting.form-grid-child.form-grid-child-threequarters",(function(){return n.span(".label",(function(){return n.format("list")})),n.span(".value.js-list-value"),n.label((function(){return n.format("list")})),n.select(".js-select-list")})),n.div(".button-link.setting.form-grid-child",(function(){return n.span(".label",(function(){return n.format("position")})),n.span(".value.js-pos-value"),n.label((function(){return n.format("position")})),n.select(".js-select-position")}))}))}},"./app/scripts/views/templates/popover_change_labels.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("popover_change_labels");e.exports=function(){return n.input(".js-autofocus.js-label-search",{type:"text",placeholder:n.l("search-labels-ellipsis"),value:n.mustacheVar("searchInit"),autocomplete:"off"}),n.div(".pop-over-section.js-suggestions",(function(){n.h4((function(){return n.icon("sparkle"),n.format("suggested")})),n.ul(".edit-labels-pop-over.js-suggested-labels-list",(function(){}))})),n.div(".pop-over-section",(function(){return n.h4((function(){return n.format("labels")})),n.ul(".edit-labels-pop-over.js-labels-list"),n.mustacheBlock("__ed",(function(){return n.div((function(){return n.button(".button.full.js-add-label",(function(){return n.format("create-a-new-label")})),n.button(".button.full.hide.js-show-more",(function(){return n.format("show-more-labels")})),n.hr(),n.button(".button.full.js-toggle-color-blind-mode",(function(){return n.mustacheBlock("isColorBlindEnabled",(function(){return n.format("disable-color-blind-friendly-mode-no-punc")})),n.mustacheBlockInverted("isColorBlindEnabled",(function(){return n.format("enable-color-blind-friendly-mode-no-punc")}))}))}))}))}))}},"./app/scripts/views/templates/popover_move_card.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("popover_move_card");e.exports=function(){var e=n.mustacheVar("suggestions");return e.length>0&&n.div(".pop-over-section.js-suggestions",(function(){n.h4((function(){return n.icon("sparkle"),n.format("suggested")}));for(var t=0,r=Array.from(e);t<r.length;t++){var o=r[t];n.a(".button-link.js-suggested-move",{class:n.classify({"flip-icon":"left"===o.direction}),"data-id":o.id,"data-position":o.position,href:"#"},(function(){return n.icon("move"),n.text(o.name)}))}})),n.div(".pop-over-section",(function(){return n.h4((function(){return n.format("select-destination")})),n.mustachePartial(r("./app/scripts/views/templates/move_card_controls.js")),n.input(".primary.wide.js-submit",{type:"submit",value:n.l("move")})}))}},"./app/scripts/views/templates/quick_card_editor.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("quick_card_editor"),o=r("./app/scripts/views/templates/card_in_list.js");e.exports=function(){var e=n.mustacheVar("isTemplate"),t=n.mustacheVar("isCardTemplate");return n.span(".icon-lg.icon-close.quick-card-editor-close-icon.js-close-editor"),n.div(".quick-card-editor-card",{style:"top: ".concat(n.mustacheVar("top"),"px; left: ").concat(n.mustacheVar("left"),"px; width: ").concat(n.mustacheVar("width"),"px;")},(function(){return n.div(".list-card.list-card-quick-edit.js-stop",{style:"width: ".concat(n.mustacheVar("width"),"px;")},(function(){return o(n.mustacheVar("."))})),n.input(".primary.wide.js-save-edits",{type:"submit",value:n.l("save")}),n.div({class:"quick-card-editor-buttons".concat(n.mustacheBlock("leftButtons",(function(){return" quick-card-editor-buttons-left"})))},(function(){return n.a(".quick-card-editor-buttons-item.js-edit-labels",{href:"#"},(function(){return n.icon("label",{class:"light"}),n.span(".quick-card-editor-buttons-item-text",(function(){return n.format("edit-labels")}))})),e||n.a(".quick-card-editor-buttons-item.js-edit-members",{href:"#"},(function(){return n.icon("member",{class:"light"}),n.span(".quick-card-editor-buttons-item-text",(function(){return n.format("change-members")}))})),n.a(".quick-card-editor-buttons-item.js-move-card",{href:"#"},(function(){return n.icon("move",{class:"light"}),n.span(".quick-card-editor-buttons-item-text",(function(){return n.format("move")}))})),n.a(".quick-card-editor-buttons-item.js-copy-card",{href:"#"},(function(){return n.icon("card",{class:"light"}),n.span(".quick-card-editor-buttons-item-text",(function(){return n.format("copy")}))})),t||n.a(".quick-card-editor-buttons-item.js-edit-due-date",{href:"#"},(function(){return n.icon("clock",{class:"light"}),n.span(".quick-card-editor-buttons-item-text",(function(){return n.format("change-due-date")}))})),n.mustacheBlockInverted("closed",(function(){return n.a(".quick-card-editor-buttons-item.js-archive",{href:"#"},(function(){return n.icon("archive",{class:"light"}),n.span(".quick-card-editor-buttons-item-text",(function(){return t?n.format("hide-from-list"):n.format("archive")}))}))}))}))}))}},"./app/scripts/views/templates/select_labels.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("select_labels");e.exports=function(){return n.mustacheBlock("labels",(function(){return n.li((function(){return n.mustacheBlock("__ed",(function(){return n.a(".card-label-edit-button.icon-sm.icon-edit.js-edit-label",{href:"#","data-idlabel":n.mustacheVar("id")})})),n.span({class:"card-label mod-selectable card-label-".concat(n.mustacheVar("color")," ").concat(n.mustacheBlock("isActive",(function(){return"active"}))," js-select-label"),"data-idlabel":n.mustacheVar("id"),"data-color":n.mustacheVar("color")},(function(){return n.mustacheBlock("name",(function(){return n.text(n.mustacheVar("name"))})),n.icon("check",{class:"card-label-selectable-icon light"})}))}))}))}},"./app/scripts/views/templates/take_photo.js":function(e,t,r){var n=r("./app/scripts/views/internal/teacup-with-helpers.js")("take_photo");e.exports=function(){return n.video({class:"video".concat(n.mustacheBlockInverted("connected",(function(){return" hide"}))),autoplay:!0,style:"width:100%"}),n.mustacheBlock("error",(function(){return n.p(".error",(function(){return n.text(n.mustacheVar("error"))}))})),n.mustacheBlock("connected",(function(){return n.button(".primary.wide.js-snap",(function(){return n.format("snap-photo")}))})),n.mustacheBlockInverted("connected",(function(){return n.mustacheBlock("error",(function(){return n.p((function(){return n.format("couldnt-find-a-camera-to-connect-to-ellipsis")}))})),n.mustacheBlockInverted("error",(function(){return n.p((function(){return n.format("trying-to-access-your-computers-camera-ellipsis-check-the-banner-at-the-top-of-the-page")}))})),n.p(".u-bottom",(function(){return n.a(".quiet-button.js-connect-camera",{href:"#"},(function(){return n.format("try-again")}))}))}))}},"./app/src/components/MemberAvatar/MemberAvatar.less":function(e,t,r){var n=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=r("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MemberAvatar/MemberAvatar.less");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};n(o,i);e.exports=o.locals||{}},"./app/src/components/MemberAvatar/index.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return g}));var n=r("./node_modules/classnames/index.js"),o=r.n(n),i=r("./packages/trello-canonical-components/index.ts"),a=r("./app/common/lib/util/i18n/index.ts"),s=r("./packages/members/index.ts"),c=r("./node_modules/react/index.js"),l=r.n(c),u=r("./app/src/components/MemberAvatar/MemberAvatar.less"),d=r.n(u),p=r("./packages/product-features/index.ts"),m=r("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MemberAvatar"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarSource"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonPublic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}}]}}]}}]};var h=r("./packages/nachos/icons/member.tsx"),v=Object(a.forTemplate)("member"),b=[30,50,170],g=function(e){var t=e.avatarSource,r=e.className,n=e.avatarClassName,a=e.fullName,s=e.username,c=e.avatars,u=e.initials,p=e.size,m=void 0===p?30:p,f=e.onClick,g=e.gold,y=e.hoverable,k=e.deactivated,w=y||!!f,j=b.find((function(e){return e>=m})),x=b.find((function(e){return e>=2*m}))||j;if(void 0===j||void 0===x)throw new Error("Invalid member avatar size");var C=!(u||c);return l.a.createElement("div",{className:o()(r,d.a.memberAvatar,u&&u.length>2&&d.a.longInitials),title:s?"".concat(a," (").concat(s,")"):a,onClick:f,role:f&&"button"},l.a.createElement(i.CanonicalAvatar,{avatarSource:t,className:o()(w&&d.a.hoverable,c?d.a.withImage:null,n),img:c&&c[j],img2x:c&&c[x],initials:u,size:m,deactivated:k},C&&l.a.createElement(h.MemberIcon,{size:m>20?"large":void 0,color:"quiet"})),g&&l.a.createElement("span",{className:d.a.gold,title:v("this-member-has-trello-gold")}))},y=function(e){var t,r=e.avatarSource,n=e.className,o=void 0===n?"":n,i=e.size,a=void 0===i?30:i,c=e.avatarClassName,u=e.idMember,d=e.onClick,h=e.hoverable,v=e.memberData,b=(t={variables:{memberId:u},skip:!u||!!v},m.c(f,t)).data,y=v||b&&b.member,k=y&&y.username||void 0,w=y&&y.nonPublic&&y.nonPublic.fullName||y&&y.fullName||void 0,j=y&&y.nonPublic&&y.nonPublic.avatarUrl||y&&y.avatarUrl||void 0,x=y&&y.nonPublic&&y.nonPublic.initials||y&&y.initials||void 0,C=j&&Object(s.avatarsFromAvatarUrl)(j)||void 0,_=!(!y||!y.products)&&p.MemberFeatures.isFeatureEnabled(p.MemberFeature.Crown,y.products[0]);return l.a.createElement(g,{className:o,avatarSource:r,avatarClassName:c,onClick:d,hoverable:h,username:k,fullName:w,initials:x,avatars:C,gold:_,size:a})}},"./app/src/components/MoveCardPopover/index.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"MoveCardPopover",(function(){return j}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/classnames/index.js"),a=r.n(i),s=r("./packages/nachos/select.ts"),c=r("./packages/colors/index.ts"),l=r("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoveCardPopover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"visible"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idList"},arguments:[],directives:[]}]}}]}}]}}]};var d=r("./app/common/lib/util/i18n/index.ts"),p=r("./app/scripts/lib/localize.js"),m=r.n(p),f=r("./app/scripts/lib/util/index.js"),h=r("./packages/test-ids/index.ts");function v(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k=Object(d.forTemplate)("popover_move_card"),w=Object(d.forTemplate)("move_card_controls"),j=function(e){var t,r=e.hasEnterprise,i=void 0!==r&&r,d=e.hideBoardSelect,p=void 0!==d&&d,g=e.isMove,y=void 0===g||g,j=e.isCopy,x=void 0!==j&&j,C=e.currentIndex,_=e.defaultBoardId,O=e.defaultBoardName,E=e.defaultListId,S=e.defaultListName,P=e.enterpriseName,A=void 0===P?"":P,T=e.cardList,D=e.organizations,B=e.onSubmit,M=e.restrictToCurrentBoard,I=void 0!==M&&M,L=e.suggestions,N=void 0===L?[]:L,R=b(Object(n.useState)(_),2),F=R[0],V=R[1],H=b(Object(n.useState)(E),2),z=H[0],$=H[1],U=b(Object(n.useState)("bottom"),2),q=U[0],K=U[1],G=b(Object(n.useState)(C),2),W=G[0],X=G[1],Y=(t={fetchPolicy:"network-only",variables:{boardId:F}},l.c(u,t)),J=Y.data,Z=Y.loading,Q=z===E,ee=D.map((function(e){return{label:e.displayName,options:e.boards.map((function(e){return{label:e.name,value:e.id}}))}})),te=J&&J.board?J.board.lists.map((function(e){return{label:e.name,value:e.id}})):[{label:S,value:E}],re=te&&te.find((function(e){return e.value===z}))||te[0],ne=J&&J.board&&J.board.cards?J.board.cards.filter((function(e){return e.idList===z})).length:0,oe=ne||T.length;T.length>ne&&Q&&(oe=T.length),re&&!Q&&(oe=ne+1);var ie=J&&J.board?v(Array(oe).keys()).map((function(e){return{label:e+1,value:e}})):[{label:C+1,value:C}],ae=ie[W]||ie[ie.length-1];te.length||(re={label:m()("no lists"),value:""},ae={label:m()("n/a"),value:-1}),Object(n.useEffect)((function(){!Z&&$(re.value),!Z&&!Q&&X(oe)}),[re.value,Z,oe,Q]),Object(n.useEffect)((function(){!Z&&X(ae.value)}),[ae.value,Z]),Object(n.useEffect)((function(){K((function(){return 0===W?"top":W===ne?"bottom":Object(f.calcPos)(W,T)}))}),[W,T,ne]);var se=Object(n.useCallback)((function(e){B(e,F,z,q,W)}),[B,F,W,z,q]);return o.a.createElement(o.a.Fragment,null,N.length>0&&o.a.createElement("div",{className:"pop-over-section"},o.a.createElement("h4",null,o.a.createElement("span",{className:"icon-sm icon-sparkle"}),k("suggested")),N.map((function(e){return o.a.createElement("a",{className:a()({"button-link":!0,"js-suggested-move":!0,"flip-icon":"left"===e.direction}),key:e.id,href:"#","data-id":e.id,"data-position":e.position},o.a.createElement("span",{className:"icon-sm icon-move"}),e.name)}))),o.a.createElement("div",{className:"pop-over-section"},o.a.createElement("h4",null,k("select-destination")),o.a.createElement("div",{className:"form-grid"},!p&&o.a.createElement("div",{className:"form-grid-child form-grid-child-full"},I?o.a.createElement(o.a.Fragment,null,o.a.createElement("label",{style:{color:c.N800,fontSize:"14px",marginBottom:"2px",lineHeight:"20px"}},w("board")),o.a.createElement("p",null,D[0].boards[0].name)):o.a.createElement(s.a,{label:w("board"),options:ee,defaultValue:{label:O,value:_},onChange:function(e){var t=e.value;return V(t)},isSearchable:!0,testId:h.SelectTestIds.MoveBoardSelect}),i&&A&&y&&o.a.createElement("p",{className:"quiet",style:{marginTop:"8px"}},w("card-can-only-be-moved-to-teams-within-org",{enterpriseName:A})),i&&A&&x&&o.a.createElement("p",{className:"quiet",style:{marginTop:"8px"}},w("card-can-only-be-copied-to-teams-within-org",{enterpriseName:A}))),o.a.createElement("div",{className:"form-grid-child form-grid-child-threequarters",style:{maxWidth:"100%"}},o.a.createElement(s.a,{label:w("list"),options:te,value:re,onChange:function(e){var t=e.value;return $(t)},isSearchable:!0,isDisabled:!te.length})),o.a.createElement("div",{className:"form-grid-child"},o.a.createElement(s.a,{label:w("position"),options:ie,value:ae,onChange:function(e){var t=e.value;return X(t)},isSearchable:!0,isDisabled:!te.length})))),o.a.createElement("input",{className:"primary wide",type:"submit",disabled:!te.length,onClick:function(e){return se(e)},value:k("move")}))}},"./app/src/components/PopoverConfirm/PopoverConfirm.less":function(e,t,r){var n=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=r("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverConfirm/PopoverConfirm.less");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};n(o,i);e.exports=o.locals||{}},"./app/src/components/PopoverConfirm/index.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("./packages/nachos/button.ts"),o=r("./app/common/lib/util/i18n/index.ts"),i=r("./node_modules/react/index.js"),a=r.n(i),s=r("./app/src/components/PopoverConfirm/PopoverConfirm.less"),c=r.n(s),l=function(e){var t=e.confirmKey,r=e.confirmCallback,i=e.confirmSubstitutions,s=e.isDanger,l=Object(o.forNamespace)(["confirm",t]);return a.a.createElement("div",{className:c.a.confirmContainer},a.a.createElement("p",null,l("text",i)),a.a.createElement(n.a,{appearance:s?"danger":"primary",autoFocus:!0,onClick:r,size:"fullwidth"},l("confirm",i)))}},"./app/src/components/SetPrimaryEmailConfirmPopover/SetPrimaryEmailConfirmPopover.less":function(e,t,r){var n=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=r("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/SetPrimaryEmailConfirmPopover/SetPrimaryEmailConfirmPopover.less");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};n(o,i);e.exports=o.locals||{}},"./node_modules/@atlaskit/checkbox/dist/esm/version.json":function(e,t){e.exports={name:"@atlaskit/checkbox",version:"11.0.0",sideEffects:!1}},"./node_modules/@atlaskit/icon/glyph/checkbox-indeterminate.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("./node_modules/react/index.js")),o=i(r("./node_modules/@atlaskit/icon/cjs/components/Icon.js"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e){return n.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="6" y="6" width="12" height="12" rx="2"/><rect fill="inherit" x="8" y="11" width="8" height="2" rx="1"/></g></svg>'},e))};s.displayName="CheckboxIndeterminateIcon";var c=s;t.default=c},"./node_modules/@atlaskit/icon/glyph/checkbox.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("./node_modules/react/index.js")),o=i(r("./node_modules/@atlaskit/icon/cjs/components/Icon.js"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=function(e){return n.default.createElement(o.default,a({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="6" y="6" width="12" height="12" rx="2"/><path d="M9.707 11.293a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414L11 12.586l-1.293-1.293z" fill="inherit"/></g></svg>'},e))};s.displayName="CheckboxIcon";var c=s;t.default=c},"./node_modules/@atlaskit/textfield/dist/esm/version.json":function(e,t){e.exports={name:"@atlaskit/textfield",version:"4.0.0",sideEffects:!1}},"./node_modules/@atlaskit/theme/dist/esm/index.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return n})),r.d(t,"d",(function(){return o})),r.d(t,"c",(function(){return I}));var n={};r.r(n),r.d(n,"e100",(function(){return v})),r.d(n,"e200",(function(){return b})),r.d(n,"e300",(function(){return g})),r.d(n,"e400",(function(){return y})),r.d(n,"e500",(function(){return k}));var o={};r.r(o),r.d(o,"headingSizes",(function(){return _})),r.d(o,"h900",(function(){return O})),r.d(o,"h800",(function(){return E})),r.d(o,"h700",(function(){return S})),r.d(o,"h600",(function(){return P})),r.d(o,"h500",(function(){return A})),r.d(o,"h400",(function(){return T})),r.d(o,"h300",(function(){return D})),r.d(o,"h200",(function(){return B})),r.d(o,"h100",(function(){return M}));var i,a,s,c,l,u,d,p,m,f=r("./node_modules/@atlaskit/theme/dist/esm/colors.js"),h=r("./node_modules/@atlaskit/theme/dist/esm/utils/themed.js"),v=Object(h.a)({light:"box-shadow: 0 1px 1px "+f.N50A+", 0 0 1px 0 "+f.N60A+";",dark:"box-shadow: 0 1px 1px "+f.DN50A+", 0 0 1px "+f.DN60A+";"}),b=Object(h.a)({light:"box-shadow: 0 4px 8px -2px "+f.N50A+", 0 0 1px "+f.N60A+";",dark:"box-shadow: 0 4px 8px -2px "+f.DN50A+", 0 0 1px "+f.DN60A+";"}),g=Object(h.a)({light:"box-shadow: 0 8px 16px -4px "+f.N50A+", 0 0 1px "+f.N60A+";",dark:"box-shadow: 0 8px 16px -4px "+f.DN50A+", 0 0 1px "+f.DN60A+";"}),y=Object(h.a)({light:"box-shadow: 0 12px 24px -6px "+f.N50A+", 0 0 1px "+f.N60A+";",dark:"box-shadow: 0 12px 24px -6px "+f.DN50A+", 0 0 1px "+f.DN60A+";"}),k=Object(h.a)({light:"box-shadow: 0 20px 32px -8px "+f.N50A+", 0 0 1px "+f.N60A+";",dark:"box-shadow: 0 20px 32px -8px "+f.DN50A+", 0 0 1px "+f.DN60A+";"}),w=r("./node_modules/tslib/tslib.es6.js"),j=r("./node_modules/styled-components/dist/styled-components.browser.es.js"),x=r("./node_modules/@atlaskit/theme/dist/esm/constants.js"),C=function(e,t){return"\n  font-size: "+e/Object(x.e)()+"em;\n  font-style: inherit;\n  line-height: "+t/e+";\n"},_={h900:{size:35,lineHeight:40},h800:{size:29,lineHeight:32},h700:{size:24,lineHeight:28},h600:{size:20,lineHeight:24},h500:{size:16,lineHeight:20},h400:{size:14,lineHeight:16},h300:{size:12,lineHeight:16},h200:{size:12,lineHeight:16},h100:{size:11,lineHeight:16}},O=function(){return Object(j.css)(i||(i=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 500;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"],["\n  ","\n  color: ",";\n  font-weight: 500;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"])),C(_.h900.size,_.h900.lineHeight),f.heading,6.5*Object(x.g)())},E=function(){return Object(j.css)(a||(a=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"],["\n  ","\n  color: ",";\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"])),C(_.h800.size,_.h800.lineHeight),f.heading,5*Object(x.g)())},S=function(){return Object(j.css)(s||(s=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 500;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"],["\n  ","\n  color: ",";\n  font-weight: 500;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"])),C(_.h700.size,_.h700.lineHeight),f.heading,5*Object(x.g)())},P=function(){return Object(j.css)(c||(c=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 500;\n  letter-spacing: -0.008em;\n  margin-top: ","px;\n"],["\n  ","\n  color: ",";\n  font-weight: 500;\n  letter-spacing: -0.008em;\n  margin-top: ","px;\n"])),C(_.h600.size,_.h600.lineHeight),f.heading,3.5*Object(x.g)())},A=function(){return Object(j.css)(l||(l=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 600;\n  letter-spacing: -0.006em;\n  margin-top: ","px;\n"],["\n  ","\n  color: ",";\n  font-weight: 600;\n  letter-spacing: -0.006em;\n  margin-top: ","px;\n"])),C(_.h500.size,_.h500.lineHeight),f.heading,3*Object(x.g)())},T=function(){return Object(j.css)(u||(u=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 600;\n  letter-spacing: -0.003em;\n  margin-top: ","px;\n"],["\n  ","\n  color: ",";\n  font-weight: 600;\n  letter-spacing: -0.003em;\n  margin-top: ","px;\n"])),C(_.h400.size,_.h400.lineHeight),f.heading,2*Object(x.g)())},D=function(){return Object(j.css)(d||(d=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 600;\n  margin-top: ","px;\n  text-transform: uppercase;\n"],["\n  ","\n  color: ",";\n  font-weight: 600;\n  margin-top: ","px;\n  text-transform: uppercase;\n"])),C(_.h300.size,_.h300.lineHeight),f.heading,2.5*Object(x.g)())},B=function(){return Object(j.css)(p||(p=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 600;\n  margin-top: ","px;\n"],["\n  ","\n  color: ",";\n  font-weight: 600;\n  margin-top: ","px;\n"])),C(_.h200.size,_.h200.lineHeight),f.subtleHeading,2*Object(x.g)())},M=function(){return Object(j.css)(m||(m=Object(w.__makeTemplateObject)(["\n  ","\n  color: ",";\n  font-weight: 700;\n  margin-top: ","px;\n"],["\n  ","\n  color: ",";\n  font-weight: 700;\n  margin-top: ","px;\n"])),C(_.h100.size,_.h100.lineHeight),f.subtleHeading,2*Object(x.g)())},I=r("./node_modules/@atlaskit/theme/dist/esm/utils/math.js"),L=r("./node_modules/react/index.js"),N=r.n(L),R=r("./node_modules/prop-types/index.js"),F=r.n(R),V=r("./node_modules/exenv/index.js"),H=r.n(V),z=r("./node_modules/@atlaskit/theme/dist/esm/components/Theme.js");function $(e){return"\n    body { background: "+f.background(e)+"; }\n  "}function U(e){var t;return{theme:(t={},t[x.a]={mode:e},t)}}var q,K=j.default.div(q||(q=Object(w.__makeTemplateObject)(["\n  background-color: ",";\n  color: ",";\n\n  a {\n    color: ",";\n  }\n  a:hover {\n    color: ",";\n  }\n  a:active {\n    color: ",";\n  }\n  a:focus {\n    outline-color: ",";\n  }\n  h1 {\n    color: ",";\n  }\n  h2 {\n    color: ",";\n  }\n  h3 {\n    color: ",";\n  }\n  h4 {\n    color: ",";\n  }\n  h5 {\n    color: ",";\n  }\n  h6 {\n    color: ",";\n  }\n  small {\n    color: ",";\n  }\n"],["\n  background-color: ",";\n  color: ",";\n\n  a {\n    color: ",";\n  }\n  a:hover {\n    color: ",";\n  }\n  a:active {\n    color: ",";\n  }\n  a:focus {\n    outline-color: ",";\n  }\n  h1 {\n    color: ",";\n  }\n  h2 {\n    color: ",";\n  }\n  h3 {\n    color: ",";\n  }\n  h4 {\n    color: ",";\n  }\n  h5 {\n    color: ",";\n  }\n  h6 {\n    color: ",";\n  }\n  small {\n    color: ",";\n  }\n"])),f.background,f.text,f.link,f.linkHover,f.linkActive,f.linkOutline,f.heading,f.heading,f.heading,f.heading,f.heading,f.subtleHeading,f.subtleText);!function(e){function t(t){var r=e.call(this,t)||this;return r.getThemeMode=function(){return{mode:r.state.theme[x.a].mode}},r.state=U(t.mode),r}Object(w.__extends)(t,e),t.prototype.getChildContext=function(){return{hasAtlaskitThemeProvider:!0}},t.prototype.UNSAFE_componentWillMount=function(){if(!this.context.hasAtlaskitThemeProvider&&H.a.canUseDOM){var e=$(this.state);this.stylesheet=document.createElement("style"),this.stylesheet.type="text/css",this.stylesheet.innerHTML=e,document&&document.head&&document.head.appendChild(this.stylesheet)}},t.prototype.UNSAFE_componentWillReceiveProps=function(e){if(e.mode!==this.props.mode){var t=U(e.mode);if(this.stylesheet){var r=$(t);this.stylesheet.innerHTML=r}this.setState(t)}},t.prototype.componentWillUnmount=function(){this.stylesheet&&document&&document.head&&(document.head.removeChild(this.stylesheet),delete this.stylesheet)},t.prototype.render=function(){var e=this.props.children,t=this.state.theme;return N.a.createElement(z.a.Provider,{value:this.getThemeMode},N.a.createElement(j.ThemeProvider,{theme:t},N.a.createElement(K,null,e)))},t.defaultProps={mode:x.b},t.childContextTypes={hasAtlaskitThemeProvider:F.a.bool},t.contextTypes={hasAtlaskitThemeProvider:F.a.bool}}(L.Component)},"./node_modules/@atlaskit/theme/dist/esm/utils/math.js":function(e,t,r){"use strict";function n(e,t){return function(r){return e(r)+t}}function o(e,t){return function(r){return e(r)-t}}function i(e,t){return function(r){return e(r)*t}}function a(e,t){return function(r){return e(r)/t}}r.r(t),r.d(t,"add",(function(){return n})),r.d(t,"subtract",(function(){return o})),r.d(t,"multiply",(function(){return i})),r.d(t,"divide",(function(){return a}))},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberChangeAvatarPopoverContent/MemberChangeAvatarPopoverContent.less":function(e,t,r){(t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2NnyngkFaHcFzA{padding-left:8px;padding-right:8px}._2NnyngkFaHcFzA hr{margin-bottom:8px;margin-top:8px}._2V2fyjc6WqqDLJ{margin-right:8px;vertical-align:middle}._1g25eYRQebs0nj{background-color:transparent;border:none;box-shadow:none;font-size:16px;height:48px;margin:0;padding:4px;position:relative;text-align:left;text-decoration:underline;width:100%}._1g25eYRQebs0nj:hover{background-color:rgba(9,30,66,.13);box-shadow:none}._1g25eYRQebs0nj:active{background-color:rgba(9,30,66,.25);box-shadow:none;color:#172b4d}._1g25eYRQebs0nj ._1OWOqS2T_5OI5Q{position:absolute;top:16px;right:16px}._34zIcoaCeL1FsG{margin:0;text-align:left;width:100%}._34zIcoaCeL1FsG:active ._1EzFi3DpT6KQT0{color:#fff}._34zIcoaCeL1FsG ._1EzFi3DpT6KQT0{margin-right:8px;vertical-align:middle}._1ZBqE6MxzefCjf{color:#eb5a46}._1ie9MTCkSQFv7u{display:none}",""]),t.locals={popover:"_2NnyngkFaHcFzA",avatar:"_2V2fyjc6WqqDLJ",optionButton:"_1g25eYRQebs0nj",check:"_1OWOqS2T_5OI5Q",actionButton:"_34zIcoaCeL1FsG",icon:"_1EzFi3DpT6KQT0",error:"_1ZBqE6MxzefCjf",fileInput:"_1ie9MTCkSQFv7u"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberHome/MemberHomeEmail.less":function(e,t,r){(t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3i0f853ooV8Xu0{position:relative;font-size:12px;line-height:24px;border:2px solid #dfe1e6;padding:8px 12px;margin-bottom:12px;border-radius:3px}._3i0f853ooV8Xu0 ._gPv5l01F7Hj90{font-size:14px;line-height:20px;color:#172b4d;margin:0;overflow:hidden;text-overflow:ellipsis;width:calc(100% - 12px)}._3i0f853ooV8Xu0 ._2ZeChXVinGRLS9{color:#5e6c84;margin:0}._3i0f853ooV8Xu0 ._2ZeChXVinGRLS9 ._1ZhaUvMzvLFrf0{display:inline-block;font-weight:700;background-color:#42526e;color:#fff;line-height:16px;border-radius:4px;padding:0 8px;margin-right:8px}._3i0f853ooV8Xu0 ._2ZeChXVinGRLS9 ._2HGtc7Yv7gn3Vz{display:inline;font-size:12px;padding:0 8px;margin:0;margin-right:8px}._3i0f853ooV8Xu0 ._3eI3pdnVV946oZ{font-weight:700;position:absolute;top:16px;right:12px;line-height:14px}._3i0f853ooV8Xu0 ._2JcFHIegrUJAKt{font-weight:400}@media only screen and (max-width:400px){._3i0f853ooV8Xu0 ._3eI3pdnVV946oZ{padding:5px;top:32px}._3i0f853ooV8Xu0 ._2JcFHIegrUJAKt{display:none}._3i0f853ooV8Xu0 .pS5I_cCyLCamtr{display:flex;flex-direction:column}._3i0f853ooV8Xu0 ._1FC2t_rIT2zxMK{order:1}._3i0f853ooV8Xu0 ._2HGtc7Yv7gn3Vz{order:2;max-width:-webkit-max-content;max-width:max-content}}@media only screen and (min-width:401px) and (max-width:600px){._3i0f853ooV8Xu0 ._3eI3pdnVV946oZ{padding:5px;top:16px}._3i0f853ooV8Xu0 ._2JcFHIegrUJAKt{display:none}}@media only screen and (min-width:601px){._3i0f853ooV8Xu0 .pS5I_cCyLCamtr{display:flex;flex-wrap:wrap;width:400px}}._2HGtc7Yv7gn3Vz{padding:0;margin:0}._2HGtc7Yv7gn3Vz:active,._2HGtc7Yv7gn3Vz:focus,._2HGtc7Yv7gn3Vz:hover,._3eI3pdnVV946oZ:active,._3eI3pdnVV946oZ:focus,._3eI3pdnVV946oZ:hover{background:none}._1IfDntRLEMxMcK ._2HGtc7Yv7gn3Vz:focus,._1IfDntRLEMxMcK ._3eI3pdnVV946oZ:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){._1IfDntRLEMxMcK ._2HGtc7Yv7gn3Vz:focus,._1IfDntRLEMxMcK ._3eI3pdnVV946oZ:focus{outline:5px auto -webkit-focus-ring-color}}",""]),t.locals={emailCard:"_3i0f853ooV8Xu0",email:"_gPv5l01F7Hj90",info:"_2ZeChXVinGRLS9",primary:"_1ZhaUvMzvLFrf0",setPrimary:"_2HGtc7Yv7gn3Vz",removeEmail:"_3eI3pdnVV946oZ",removeEmailText:"_2JcFHIegrUJAKt",infoSecondary:"pS5I_cCyLCamtr",addedDate:"_1FC2t_rIT2zxMK",hasFocusRing:"_1IfDntRLEMxMcK"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberHome/MemberHomeEmailChangeButton.less":function(e,t,r){(t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".N7w_HL_Ne-TVgV{font-weight:400;align-self:flex-start;font-size:14px;letter-spacing:0;margin-top:0}",""]),t.locals={addEmailButton:"N7w_HL_Ne-TVgV"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberHome/MemberHomeEmailPopover.less":function(e,t,r){(t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".ZpvTjdw2SVIcKT ._2oEw4TVe4iSah_{color:#eb5a46;font-size:14px;line-height:16px;margin-bottom:8px}.ZpvTjdw2SVIcKT ._2HB9YeF32RHij5{color:#5e6c84;font-size:12px;font-weight:600;line-height:16px;margin-top:20px;font-weight:400;font-size:13px;letter-spacing:-.2px;margin-top:0;margin-bottom:16px}.ZpvTjdw2SVIcKT h2{color:#172b4d;font-size:14px;font-weight:600;letter-spacing:-.003em;line-height:16px;margin-top:16px;font-weight:700;display:flex;justify-content:space-between;margin-top:0;margin-bottom:12px}.ZpvTjdw2SVIcKT ._3B-t8FtG8ptUw- span{height:16px;width:16px}.ZpvTjdw2SVIcKT input[type=email]{width:100%;margin-bottom:8px}.ZpvTjdw2SVIcKT ._2lZWcLg5RSZMem{width:100%;margin-top:8px}.ZpvTjdw2SVIcKT .N-wjFHUQ4-w3nU{background:#f4f5f7;color:#5e6c84;font-size:14px;line-height:18px;margin:8px 0 16px;padding:8px 12px}.ZpvTjdw2SVIcKT ._38EgqYsJ8yWTnK{min-height:160px}.ZpvTjdw2SVIcKT ._38EgqYsJ8yWTnK p{line-height:18px}.ZpvTjdw2SVIcKT ._38EgqYsJ8yWTnK p:last-of-type{margin-bottom:0}.ZpvTjdw2SVIcKT ._2aL_QPxuiGKrIf{background:#f4f5f7;display:flex;padding:0 8px}.ZpvTjdw2SVIcKT ._2aL_QPxuiGKrIf .-uG5OofkwM9kyq{padding:8px}",""]),t.locals={addEmailPopover:"ZpvTjdw2SVIcKT",error:"_2oEw4TVe4iSah_",title:"_2HB9YeF32RHij5",spinner:"_3B-t8FtG8ptUw-",confirmButton:"_2lZWcLg5RSZMem",managedAccountBanner:"N-wjFHUQ4-w3nU",successMessage:"_38EgqYsJ8yWTnK",managedEmailConfirmation:"_2aL_QPxuiGKrIf",managedEmailConfirmationContent:"-uG5OofkwM9kyq"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberHome/MemberHomeHeader.less":function(e,t,r){(t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".BFvHU0I3_SHVGs{display:flex;align-items:center;justify-content:center;padding:20px 0}._2VjAiapxpR45EU{position:relative;margin-right:16px}._2MiqoEbHZgSlXq{display:flex;align-items:baseline}._2MiqoEbHZgSlXq ._32mB-ZO8fxjtUy{font-size:24px;font-weight:500;line-height:28px;color:#0c3953;margin-right:10px}._2MiqoEbHZgSlXq .YGN7y_VVuqFYYB{font-size:12px;line-height:20px;color:#5e6c84}",""]),t.locals={homeHeader:"BFvHU0I3_SHVGs",avatar:"_2VjAiapxpR45EU",details:"_2MiqoEbHZgSlXq",name:"_32mB-ZO8fxjtUy",username:"YGN7y_VVuqFYYB"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberHome/MemberHomePrivacyInlineDialog.less":function(e,t,r){(t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".IW2m3G6-Q8kl8H{display:block;margin:4px 0;max-width:200px;position:absolute;z-index:100;max-width:none}.te7-1s-CQyBevG{word-break:break-word;word-wrap:break-word;overflow-wrap:break-word;background-color:#172b4d;border-radius:3px;color:#fff;font-size:12px;font-weight:500;line-height:16px;padding:2px 8px;box-shadow:0 4px 8px -2px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08);background:#fff;color:#172b4d;font-weight:400;max-width:none;padding:8px;animation:_6JjMduwW_KCPsJ ease-in forwards;box-sizing:border-box;opacity:0;position:relative;width:328px}.te7-1s-CQyBevG._2lQqiAtS4Z5wt1{animation:_1F--jib5IH5bb4 ease-in forwards}.te7-1s-CQyBevG p{margin:0}._3t94fSkCQjpxWk{transform:translateX(-50%)}@keyframes _6JjMduwW_KCPsJ{0%{opacity:0}to{opacity:1}}@keyframes _1F--jib5IH5bb4{0%{opacity:1}to{opacity:0}}",""]),t.locals={memberHomePrivacyInlineDialogContainer:"IW2m3G6-Q8kl8H",memberHomePrivacyInlineDialog:"te7-1s-CQyBevG",fadeIn:"_6JjMduwW_KCPsJ",hidden:"_2lQqiAtS4Z5wt1",fadeOut:"_1F--jib5IH5bb4",center:"_3t94fSkCQjpxWk"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberHome/MemberHomePrivacyLabel.less":function(e,t,r){(t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3r1Y1YvdrSxE3o{display:flex;flex-direction:row;align-items:center;cursor:pointer;line-height:12px;color:#5e6c84}._3r1Y1YvdrSxE3o ._1jXOACZmsXPMUS{margin-right:4px}._3r1Y1YvdrSxE3o ._3kywyC8ayWntyC{font-size:12px}",""]),t.locals={privacyLabel:"_3r1Y1YvdrSxE3o",icon:"_1jXOACZmsXPMUS",labelText:"_3kywyC8ayWntyC"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberHome/MemberHomeProfileAvatar.less":function(e,t,r){(t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._8STAxwEhTLw06E{align-items:center;display:flex;flex-direction:column;margin-right:4px;margin-top:16px}._8STAxwEhTLw06E ._1q9WuasQoqE_tI{color:#172b4d;font-size:14px;font-weight:600;letter-spacing:-.003em;line-height:16px;margin-top:16px;margin-top:0;margin-bottom:12px}._8STAxwEhTLw06E .rsiNque2CCqtPE{border-radius:50%;cursor:pointer;overflow:hidden;position:relative}._8STAxwEhTLw06E .rsiNque2CCqtPE ._2e97X7K2YRLv4Q{background:linear-gradient(0deg,rgba(0,0,0,.5) 50%,transparent 0);border-radius:0;border:none;color:#fff;font-size:16px;font-weight:400;height:100%;line-height:2.5em;margin:0;padding-bottom:8px;padding-top:50%;position:absolute;text-decoration:underline;top:0;visibility:hidden;width:100%}._8STAxwEhTLw06E .rsiNque2CCqtPE:hover ._2e97X7K2YRLv4Q{visibility:visible}._8STAxwEhTLw06E .MrFeHFqEkuBP9W span{font-size:36px}._8STAxwEhTLw06E ._3god7QvZFiCRd4{margin-top:8px}",""]),t.locals={avatarContainer:"_8STAxwEhTLw06E",avatarHeader:"_1q9WuasQoqE_tI",avatarHoverableArea:"rsiNque2CCqtPE",changeAvatarButton:"_2e97X7K2YRLv4Q",avatar:"MrFeHFqEkuBP9W",privacyLabel:"_3god7QvZFiCRd4"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/MemberHome/MemberHomeProfileTab/MemberHomeProfileTab.less":function(e,t,r){(t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._17V-ZVXDwhCjg1{display:block;margin:18px auto 42px;max-width:100%;height:auto}._2Hw6DOX63Ah-JJ{color:#172b4d;font-size:24px;font-weight:600;letter-spacing:-.01em;line-height:28px;margin-top:40px;margin-top:0;margin-bottom:10px}._11hLeT1S2x4qQC{color:#5e6c84;font-size:14px;line-height:18px;margin-bottom:8px;white-space:pre-line}._11hLeT1S2x4qQC.ZXOl0BkkIekFBj{padding:16px;background-color:#f4f5f7}._11hLeT1S2x4qQC a{color:#0079bf;text-decoration:none}._11hLeT1S2x4qQC a:active,._11hLeT1S2x4qQC a:hover{text-decoration:underline}._3-dru0eagw7gKf{width:100%;max-width:530px;display:flex;flex-direction:column;margin:auto}._3-dru0eagw7gKf ._24YSBoIVgG1ztW{color:#eb5a46;font-size:14px}._3-dru0eagw7gKf ._2fFB-J2ImQX-1F{color:#172b4d;font-size:20px;font-weight:600;letter-spacing:-.008em;line-height:24px;margin-top:28px;font-weight:500;line-height:26px;margin-top:40px}._3-dru0eagw7gKf hr{margin-top:0;margin-bottom:15px}._3-dru0eagw7gKf .UwEEUpU7XKewjb{display:flex;flex-direction:row;justify-content:space-between;margin-bottom:12px;margin-top:0}._3-dru0eagw7gKf .UwEEUpU7XKewjb ._2XCgbL747xB77N{color:#172b4d;font-size:14px;font-weight:600;letter-spacing:-.003em;line-height:16px;margin-top:16px;margin-top:0;padding-top:16px}._3-dru0eagw7gKf .UwEEUpU7XKewjb ._1DQjLEi2pNYB7G{padding-top:16px}._3-dru0eagw7gKf ._2h0XhGHYIOLBuy{display:flex;justify-content:space-between;flex-direction:row-reverse}._3-dru0eagw7gKf ._2h0XhGHYIOLBuy._3Xa_LoZHwhgEm6{flex-direction:row}._3-dru0eagw7gKf ._2h0XhGHYIOLBuy ._1JEVWhKPk5LQvc{display:flex;flex-direction:column;flex:0 0 355px}@media only screen and (max-width:750px){._3-dru0eagw7gKf ._2h0XhGHYIOLBuy ._1JEVWhKPk5LQvc{flex:1}}._3-dru0eagw7gKf ._2h0XhGHYIOLBuy ._12CX3u0AWDQ5EI{margin-top:40px;margin-right:0}._3-dru0eagw7gKf ._2h0XhGHYIOLBuy ._32NOj1SsaXIXYw{height:72px;margin-bottom:8px;resize:vertical;color:#5e6c84}._3-dru0eagw7gKf ._2h0XhGHYIOLBuy ._32NOj1SsaXIXYw:hover{background:#fafbfc}._3-dru0eagw7gKf ._2h0XhGHYIOLBuy ._32NOj1SsaXIXYw:focus{color:#172b4d}@media screen and (max-width:530px){._3-dru0eagw7gKf ._2h0XhGHYIOLBuy{flex-direction:column}}",""]),t.locals={tacoPrivacy:"_17V-ZVXDwhCjg1",profileHeader:"_2Hw6DOX63Ah-JJ",legalText:"_11hLeT1S2x4qQC",isAaMastered:"ZXOl0BkkIekFBj",memberProfileTabContainer:"_3-dru0eagw7gKf",error:"_24YSBoIVgG1ztW",sectionHeader:"_2fFB-J2ImQX-1F",inputLabel:"UwEEUpU7XKewjb",text:"_2XCgbL747xB77N",privacyLabel:"_1DQjLEi2pNYB7G",aboutContent:"_2h0XhGHYIOLBuy",noAvatarBlock:"_3Xa_LoZHwhgEm6",leftColumn:"_1JEVWhKPk5LQvc",profileSaveButton:"_12CX3u0AWDQ5EI",bioTextArea:"_32NOj1SsaXIXYw"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/scripts/views/card/SeparatorCard/SeparatorCard.less":function(e,t,r){(t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._2KpZMYSiDizjEs{height:20px;border-radius:3px;display:flex;align-items:center;justify-content:center;flex-direction:column;overflow:hidden;width:70%;margin:0 auto}._2KpZMYSiDizjEs:before{content:"";display:block;width:100%}._3Zo5oGEJ9Enqr7:before{border-top:2px solid #c1c7d0}',""]),t.locals={separatorCard:"_2KpZMYSiDizjEs",singleHorizontalLine:"_3Zo5oGEJ9Enqr7"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MemberAvatar/MemberAvatar.less":function(e,t,r){var n=r("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._1FekJJAz6Hu32v{position:relative;line-height:10px;overflow:hidden;white-space:nowrap}._1FekJJAz6Hu32v._3qYxjbDMKZCXJg{font-size:8px}.DCDOAa6FopPs9s:hover{background-color:#c1c7d0}.DCDOAa6FopPs9s.aYXvcYtXemTcSj{position:relative}.DCDOAa6FopPs9s.aYXvcYtXemTcSj:hover:before{opacity:.2}.DCDOAa6FopPs9s.aYXvcYtXemTcSj:before{background-color:#c1c7d0;border-radius:50%;content:"";height:100%;left:0;opacity:0;position:absolute;top:0;width:100%}._1PufnC2IQNEddD,._257inVnqyNzWRm{background-size:100%;position:absolute;z-index:3;right:1px}._257inVnqyNzWRm{height:7px;width:11px;top:1px;background-image:url('+n(r("./resources/images/TrelloGoldBadge.png"))+")}._1PufnC2IQNEddD{height:9px;width:9px;bottom:0;background-image:url("+n(r("./resources/images/chevron.png"))+")}",""]),t.locals={memberAvatar:"_1FekJJAz6Hu32v",longInitials:"_3qYxjbDMKZCXJg",hoverable:"DCDOAa6FopPs9s",withImage:"aYXvcYtXemTcSj",gold:"_257inVnqyNzWRm",admin:"_1PufnC2IQNEddD"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverConfirm/PopoverConfirm.less":function(e,t,r){(t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".G7qauLECfKVgm8{padding:0 12px;word-break:break-word}.G7qauLECfKVgm8 p{margin:0 0 16px}",""]),t.locals={confirmContainer:"G7qauLECfKVgm8"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/SetPrimaryEmailConfirmPopover/SetPrimaryEmailConfirmPopover.less":function(e,t,r){(t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2dnyXvNKB7u5e9{word-break:break-word}._2dnyXvNKB7u5e9 p{margin:0 0 16px}",""]),t.locals={yesNoContainer:"_2dnyXvNKB7u5e9"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Checkbox/Checkbox.less":function(e,t,r){(t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'.Jrcvjpyp1hfScV{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;outline:none;border:none;position:relative}.Jrcvjpyp1hfScV input[type=checkbox]:disabled{cursor:not-allowed}._12KOvNw0rx407A{padding-top:6px;padding-bottom:6px;padding-left:24px}._2yJ0IIKFZ_kLxL,._12KOvNw0rx407A{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400}._2yJ0IIKFZ_kLxL{outline:none;border:none;position:relative;display:flex}._2yJ0IIKFZ_kLxL input[type=checkbox]{position:absolute;top:0;left:0;opacity:0;margin:0}._2yJ0IIKFZ_kLxL input[type=checkbox]+._12KOvNw0rx407A:before{background-color:#fafbfc;box-shadow:inset 0 0 0 2px #dfe1e6;position:absolute;top:8px;left:0;content:"";border-radius:2px;height:16px;width:16px;overflow:hidden;white-space:nowrap;transition:all .2s ease-in-out}._2yJ0IIKFZ_kLxL input[type=checkbox]+._12KOvNw0rx407A:after{content:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="transparent"><path d="M1.49 3.215a.667.667 0 0 0-.98.903l2.408 2.613c.358.351.892.351 1.223.02l.243-.239a1689.645 1689.645 0 0 0 2.625-2.589l.027-.026a328.23 328.23 0 0 0 2.439-2.429.667.667 0 1 0-.95-.936c-.469.476-1.314 1.316-2.426 2.417l-.027.026a1368.126 1368.126 0 0 1-2.517 2.482L1.49 3.215z"/></svg>\');position:absolute;top:12px;left:3px;opacity:0;height:16px;width:16px}._2yJ0IIKFZ_kLxL input[type=checkbox]+._12KOvNw0rx407A:hover:before{background-color:#ebecf0;box-shadow:inset 0 0 0 2px #dfe1e6}._2yJ0IIKFZ_kLxL input[type=checkbox]+._12KOvNw0rx407A:focus:before{box-shadow:inset 0 0 0 2px #0079bf}._2yJ0IIKFZ_kLxL input[type=checkbox]+._12KOvNw0rx407A:active:before{background-color:#e4f0f6;box-shadow:inset 0 0 0 2px #e4f0f6}._2yJ0IIKFZ_kLxL input[type=checkbox]:checked+._12KOvNw0rx407A:before{background-color:#fafbfc;box-shadow:inset 0 0 0 2px #dfe1e6;background-color:#0079bf;box-shadow:inset 0 0 0 2px #0079bf;position:absolute;top:8px;left:0;content:"";border-radius:2px;height:16px;width:16px;overflow:hidden;white-space:nowrap;transition:all .2s ease-in-out}._2yJ0IIKFZ_kLxL input[type=checkbox]:checked+._12KOvNw0rx407A:after{content:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="transparent"><path d="M1.49 3.215a.667.667 0 0 0-.98.903l2.408 2.613c.358.351.892.351 1.223.02l.243-.239a1689.645 1689.645 0 0 0 2.625-2.589l.027-.026a328.23 328.23 0 0 0 2.439-2.429.667.667 0 1 0-.95-.936c-.469.476-1.314 1.316-2.426 2.417l-.027.026a1368.126 1368.126 0 0 1-2.517 2.482L1.49 3.215z"/></svg>\');position:absolute;top:12px;left:3px;opacity:0;height:16px;width:16px;opacity:1;content:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'16\' height=\'16\' fill=\'%23FFF\'%3E%3Cpath d=\'M1.49 3.215a.667.667 0 0 0-.98.903l2.408 2.613c.358.351.892.351 1.223.02l.243-.239a1689.645 1689.645 0 0 0 2.625-2.589l.027-.026a328.23 328.23 0 0 0 2.439-2.429.667.667 0 1 0-.95-.936c-.469.476-1.314 1.316-2.426 2.417l-.027.026a1368.126 1368.126 0 0 1-2.517 2.482L1.49 3.215z\'/%3E%3C/svg%3E")}._2yJ0IIKFZ_kLxL input[type=checkbox]:checked+._12KOvNw0rx407A:hover:before{background-color:#ebecf0;box-shadow:inset 0 0 0 2px #dfe1e6;background-color:#5ba4cf;box-shadow:inset 0 0 0 2px #5ba4cf}._2yJ0IIKFZ_kLxL input[type=checkbox]:checked+._12KOvNw0rx407A:focus:before{box-shadow:inset 0 0 0 2px #0079bf}._2yJ0IIKFZ_kLxL input[type=checkbox]:checked+._12KOvNw0rx407A:active:before{background-color:#e4f0f6;box-shadow:inset 0 0 0 2px #e4f0f6}._2yJ0IIKFZ_kLxL input[type=checkbox]:checked+._12KOvNw0rx407A:active:after{content:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="transparent"><path d="M1.49 3.215a.667.667 0 0 0-.98.903l2.408 2.613c.358.351.892.351 1.223.02l.243-.239a1689.645 1689.645 0 0 0 2.625-2.589l.027-.026a328.23 328.23 0 0 0 2.439-2.429.667.667 0 1 0-.95-.936c-.469.476-1.314 1.316-2.426 2.417l-.027.026a1368.126 1368.126 0 0 1-2.517 2.482L1.49 3.215z"/></svg>\');position:absolute;top:12px;left:3px;opacity:0;height:16px;width:16px;opacity:1;content:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'16\' height=\'16\' fill=\'%230079BF\'%3E%3Cpath d=\'M1.49 3.215a.667.667 0 0 0-.98.903l2.408 2.613c.358.351.892.351 1.223.02l.243-.239a1689.645 1689.645 0 0 0 2.625-2.589l.027-.026a328.23 328.23 0 0 0 2.439-2.429.667.667 0 1 0-.95-.936c-.469.476-1.314 1.316-2.426 2.417l-.027.026a1368.126 1368.126 0 0 1-2.517 2.482L1.49 3.215z\'/%3E%3C/svg%3E")}._2yJ0IIKFZ_kLxL input[type=checkbox]:disabled+._12KOvNw0rx407A:active:before,._2yJ0IIKFZ_kLxL input[type=checkbox]:disabled+._12KOvNw0rx407A:before,._2yJ0IIKFZ_kLxL input[type=checkbox]:disabled+._12KOvNw0rx407A:focus:before,._2yJ0IIKFZ_kLxL input[type=checkbox]:disabled+._12KOvNw0rx407A:hover:before{background-color:#fafbfc;box-shadow:inset 0 0 0 2px #dfe1e6;background-color:#f4f5f7;box-shadow:inset 0 0 0 2px #f4f5f7;position:absolute;top:8px;left:0;content:"";border-radius:2px;height:16px;width:16px;overflow:hidden;white-space:nowrap;transition:all .2s ease-in-out}._2yJ0IIKFZ_kLxL input[type=checkbox]:disabled:checked+._12KOvNw0rx407A:after{content:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="transparent"><path d="M1.49 3.215a.667.667 0 0 0-.98.903l2.408 2.613c.358.351.892.351 1.223.02l.243-.239a1689.645 1689.645 0 0 0 2.625-2.589l.027-.026a328.23 328.23 0 0 0 2.439-2.429.667.667 0 1 0-.95-.936c-.469.476-1.314 1.316-2.426 2.417l-.027.026a1368.126 1368.126 0 0 1-2.517 2.482L1.49 3.215z"/></svg>\');position:absolute;top:12px;left:3px;opacity:0;height:16px;width:16px;opacity:1;content:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'16\' height=\'16\' fill=\'%23A5ADBA\'%3E%3Cpath d=\'M1.49 3.215a.667.667 0 0 0-.98.903l2.408 2.613c.358.351.892.351 1.223.02l.243-.239a1689.645 1689.645 0 0 0 2.625-2.589l.027-.026a328.23 328.23 0 0 0 2.439-2.429.667.667 0 1 0-.95-.936c-.469.476-1.314 1.316-2.426 2.417l-.027.026a1368.126 1368.126 0 0 1-2.517 2.482L1.49 3.215z\'/%3E%3C/svg%3E")}._2yJ0IIKFZ_kLxL input[type=checkbox]:required:not(:checked)+._12KOvNw0rx407A:before{background-color:#fafbfc;box-shadow:inset 0 0 0 2px #dfe1e6;box-shadow:inset 0 0 0 2px #eb5a46;position:absolute;top:8px;left:0;content:"";border-radius:2px;height:16px;width:16px;overflow:hidden;white-space:nowrap;transition:all .2s ease-in-out}',""]),t.locals={"nch-checkbox":"Jrcvjpyp1hfScV","nch-checkbox__label":"_12KOvNw0rx407A","nch-checkbox--static":"_2yJ0IIKFZ_kLxL"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Textfield/Textfield.less":function(e,t,r){(t=e.exports=r("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1AFcUxaSWSFBOY{color:#172b4d;outline:none;border:none}._1AFcUxaSWSFBOY,.G4mdwv6cKv8_kH{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400}.G4mdwv6cKv8_kH{color:#172b4d;color:#5e6c84;font-size:12px;line-height:16px;font-weight:700;margin-bottom:2px;display:block}._3fDBpZMtl1RlpT{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;outline:none;border:none;border-radius:3px;box-shadow:inset 0 0 0 2px #dfe1e6;padding:8px 12px;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out}._3fDBpZMtl1RlpT:hover{background-color:#ebecf0;box-shadow:inset 0 0 0 2px #dfe1e6}._3fDBpZMtl1RlpT:focus{background-color:#fff;box-shadow:inset 0 0 0 2px #0079bf}",""]),t.locals={"nch-textfield":"_1AFcUxaSWSFBOY","nch-textfield__label":"G4mdwv6cKv8_kH","nch-textfield--static":"_3fDBpZMtl1RlpT"}},"./packages/a11y/index.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("./node_modules/react/index.js");function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(!1),r=o(t,2),i=r[0],a=r[1],s=Object(n.useState)(!1),c=o(s,2),l=c[0],u=c[1],d=Object(n.useState)(!1),p=o(d,2),m=p[0],f=p[1],h=function(){l&&m||a(!0)},v={onMouseEnter:function(t){u(!0),a(!1),e.onMouseEnter&&e.onMouseEnter(t)},onMouseLeave:function(t){u(!1),a(!1),e.onMouseLeave&&e.onMouseLeave(t)},onMouseDown:function(t){f(!0),a(!1),e.onMouseDown&&e.onMouseDown(t)},onKeyDown:function(t){f(!1),h(),e.onKeyDown&&e.onKeyDown(t)},onKeyUp:function(t){h(),e.onKeyUp&&e.onKeyUp(t)},onBlur:function(t){a(!1),e.onBlur&&e.onBlur(t)}};return[i,v]}},"./packages/nachos/checkbox.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return ye}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/tslib/tslib.es6.js");function a(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var s=function(e,t){var r;void 0===t&&(t=a);var n,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&r===this&&t(a,o)||(n=e.apply(this,a),i=!0,r=this,o=a),n}},c=r("./node_modules/@atlaskit/analytics-next/dist/esm/createAndFireEvent.js"),l=r("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js"),u=r("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),d=r("./node_modules/@atlaskit/theme/dist/esm/components/Theme.js"),p=r("./node_modules/@atlaskit/icon/glyph/checkbox.js"),m=r.n(p),f=r("./node_modules/@atlaskit/icon/glyph/checkbox-indeterminate.js"),h=r.n(f),v=r("./node_modules/@emotion/core/dist/core.browser.esm.js"),b=function(e){return{}},g=function(e,t){if(void 0===t&&(t=Object.create(Object.prototype)),!e)throw new Error("a default set of overrides *must* be passed in as the first argument");return function(r){var n=e[r],o=n.cssFn,i=n.attributesFn,a=n.component;if(!t[r])return{cssFn:o,attributesFn:i,component:a};var s=t[r],c=s.cssFn,l=s.attributesFn,u=s.component;return{cssFn:c?function(e){return c(o(e),e)}:o,attributesFn:l||i,component:u||a}}},y=function(e){var t,r=e.tokens,n=Object(i.__rest)(e,["tokens"]);return n.isDisabled?{stroke:(t=r.icon).borderColor.disabled,strokeWidth:t.borderWidth}:n.isActive?function(e){return{stroke:e.borderColor.active,strokeWidth:e.borderWidth}}(r.icon):n.isFocused?function(e){return{stroke:e.borderColor.focused,strokeWidth:e.borderWidth}}(r.icon):n.isInvalid?n.isChecked?function(e){return{stroke:e.borderColor.invalidAndChecked,strokeWidth:e.borderWidth}}(r.icon):function(e){return{stroke:e.borderColor.invalid,strokeWidth:e.borderWidth}}(r.icon):n.isHovered?n.isChecked?function(e){return{stroke:e.borderColor.hoveredAndChecked,strokeWidth:e.borderWidth}}(r.icon):function(e){return{stroke:e.borderColor.hovered,strokeWidth:e.borderWidth}}(r.icon):n.isChecked?function(e){return{stroke:e.borderColor.checked,strokeWidth:e.borderWidth}}(r.icon):{stroke:r.icon.borderColor.rest,strokeWidth:r.icon.borderWidth}},k=function(e){var t=e.isChecked,r=e.isDisabled,n=e.isActive,o=e.tokens.icon,i=o.tickColor.checked;return r&&t?i=o.tickColor.disabledAndChecked:n&&t&&!r?i=o.tickColor.activeAndChecked:t||(i=o.tickColor.rest),i},w=function(e){var t=e.isChecked,r=e.isDisabled,n=e.isActive,o=e.isHovered,i=e.tokens.icon,a=i.boxColor.rest;return r?a=i.boxColor.disabled:n?a=i.boxColor.active:o&&t?a=i.boxColor.hoveredAndChecked:o?a=i.boxColor.hovered:t&&(a=i.boxColor.checked),a};var j={component:function(e){var t=e.attributesFn,r=e.cssFn,n=e.children,o=Object(i.__rest)(e,["attributesFn","cssFn","children"]);return Object(v.b)("span",Object(i.__assign)({css:r(o)},t(o),{children:n}))},cssFn:function(e){return{lineHeight:0,flexShrink:0,color:w(e),fill:k(e),transition:"all 0.2s ease-in-out;","& rect:first-of-type":Object(i.__assign)({transition:"stroke 0.2s ease-in-out;"},y(e)),"> span":{display:"flex"}}},attributesFn:b},x=r("./node_modules/@atlaskit/theme/dist/esm/index.js"),C=r("./node_modules/@atlaskit/theme/dist/esm/utils/createTheme.js"),_={label:{textColor:{rest:{light:x.a.N900,dark:x.a.DN600},disabled:{light:x.a.N80,dark:x.a.N80}},spacing:{top:"2px",right:"4px",bottom:"2px",left:"4px"}},icon:{borderWidth:"2px",borderColor:{rest:{light:x.a.N40,dark:x.a.DN80},disabled:{light:"",dark:""},checked:{light:"currentColor",dark:"currentColor"},active:{light:"currentColor",dark:"currentColor"},invalid:{light:x.a.R300,dark:x.a.R300},invalidAndChecked:{light:x.a.R300,dark:x.a.R300},focused:{light:x.a.B100,dark:x.a.B75},hovered:{light:x.a.N40,dark:x.a.DN200},hoveredAndChecked:{light:"currentColor",dark:"currentColor"}},boxColor:{rest:{light:x.a.N10,dark:x.a.DN10},disabled:{light:x.a.N20,dark:x.a.DN10},active:{light:x.a.B50,dark:x.a.B200},hoveredAndChecked:{light:x.a.B300,dark:x.a.B75},hovered:{light:x.a.N30,dark:x.a.DN30},checked:{light:x.a.B400,dark:x.a.B400}},tickColor:{rest:{light:"transparent",dark:"transparent"},disabledAndChecked:{light:x.a.N70,dark:x.a.DN90},activeAndChecked:{light:x.a.B400,dark:x.a.DN10},checked:{light:x.a.N10,dark:x.a.DN10}},size:"medium"},requiredIndicator:{textColor:{rest:x.a.R500}}},O=Object(C.a)((function(e){return function(e,t){return function e(r){return Object.keys(r).reduce((function(n,o){var i=r[o];return"object"!=typeof i||null==typeof i||Array.isArray(i)?n[o]=i:Object.keys(i).includes(t)?n[o]=i[t]:n[o]=e(r[o]),n}),{})}(e)}(e.tokens,e.mode)})),E={IconWrapper:j,IconIndeterminate:{component:h.a},Icon:{component:m.a}},S=function(e){function t(t){var r=e.call(this,t)||this;return r.createExtender=s(g).bind(r),r}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isChecked,r=e.isDisabled,n=e.isInvalid,a=e.isActive,s=e.isFocused,c=e.isHovered,l=e.isIndeterminate,u=e.overrides,p=e.primaryColor,m=e.secondaryColor,f=e.theme,h=this.createExtender(E,u),v=h("IconWrapper"),b=v.component,g=Object(i.__rest)(v,["component"]),y=h("IconIndeterminate").component,k=h("Icon").component;return o.a.createElement(O.Provider,{value:f},o.a.createElement(d.a.Consumer,null,(function(e){var u=e.mode;return o.a.createElement(O.Consumer,{mode:u,tokens:_},(function(e){return o.a.createElement(b,Object(i.__assign)({},g,{tokens:e,isChecked:t,isDisabled:r,isFocused:s,isActive:a,isHovered:c,isInvalid:n}),l?o.a.createElement(y,{primaryColor:p,secondaryColor:m,size:e.icon.size,label:""}):o.a.createElement(k,{primaryColor:p,secondaryColor:m,size:e.icon.size,label:""}))}))})))},t.defaultProps={primaryColor:"inherit",secondaryColor:"inherit",isIndeterminate:!1,theme:function(e,t){return e(t)}},t}(n.Component);var P={component:function(e){var t=e.attributesFn,r=e.children,n=e.isDisabled,o=e.onMouseUp,a=e.onMouseDown,s=e.onMouseLeave,c=e.onMouseEnter,l=e.tokens,u=e.cssFn,d=e.testId;return Object(v.b)("label",Object(i.__assign)({},t({isDisabled:n}),{onMouseUp:o,onMouseDown:a,onMouseLeave:s,onMouseEnter:c,css:u({isDisabled:n,tokens:l}),"data-testid":d}),r)},cssFn:function(e){var t=e.isDisabled,r=e.tokens;return Object(i.__assign)({alignItems:"flex-start",display:"flex",color:t?r.label.textColor.disabled:r.label.textColor.rest},t&&{cursor:"not-allowed"})},attributesFn:b};var A={component:function(e){var t=e.attributesFn,r=e.tokens,n=e.children,o=e.cssFn;return Object(v.b)("span",Object(i.__assign)({},t(),{css:o({tokens:r})}),n)},cssFn:function(e){var t=e.tokens;return{paddingTop:t.label.spacing.top,paddingRight:t.label.spacing.right,paddingBottom:t.label.spacing.bottom,paddingLeft:t.label.spacing.left}},attributesFn:b},T=function(e){var t=e.children;return Object(v.b)("span",{css:{display:"flex;",flexShrink:0,position:"relative"}},t)},D=Object(n.forwardRef)((function(e,t){e.createAnalyticsEvent;var r=e.attributesFn,n=e.testId,o=Object(i.__rest)(e,["createAnalyticsEvent","attributesFn","testId"]);return Object(v.b)("input",Object(i.__assign)({type:"checkbox"},r({disabled:o.disabled,checked:o.checked,required:o.required}),o,{ref:t,css:{left:"50%",margin:0,opacity:0,padding:0,position:"absolute",transform:"translate(-50%, -50%)",top:"50%",pointerEvents:"none"},"data-testid":n}))})),B=r("./node_modules/@atlaskit/theme/dist/esm/constants.js"),M=function(e){var t=e.tokens,r=Object(i.__rest)(e,["tokens"]);return Object(v.b)("span",Object(i.__assign)({css:{color:t.requiredIndicator.textColor.rest,paddingLeft:x.c.multiply(B.g,.25)+"px;"}},r))},I=r("./node_modules/@atlaskit/checkbox/dist/esm/version.json"),L={Label:P,LabelText:A,HiddenCheckbox:{attributesFn:function(){return{}}}},N=function(e){function t(t){var r=e.call(this,t)||this;return r.state={isActive:!1,isFocused:!1,isHovered:!1,isMouseDown:!1,isChecked:void 0!==r.props.isChecked?r.props.isChecked:r.props.defaultChecked},r.checkbox=void 0,r.actionKeys=[" "],r.onChange=function(e){return r.props.isDisabled?null:(e.persist(),void 0!==e.target.checked&&r.setState({isChecked:e.target.checked}),r.props.onChange&&r.props.onChange(e),!0)},r.blur=function(){r.checkbox&&r.checkbox.blur&&r.checkbox.blur()},r.focus=function(){r.checkbox&&r.checkbox.focus&&r.checkbox.focus()},r.onBlur=function(){return r.setState({isActive:r.state.isMouseDown&&r.state.isActive,isFocused:!1})},r.onFocus=function(){return r.setState({isFocused:!0})},r.onMouseLeave=function(){return r.setState({isActive:!1,isHovered:!1})},r.onMouseEnter=function(){return r.setState({isHovered:!0})},r.onMouseUp=function(){return r.setState({isActive:!1,isMouseDown:!1})},r.onMouseDown=function(){return r.setState({isActive:!0,isMouseDown:!0})},r.onKeyDown=function(e){e.key in r.actionKeys&&r.setState({isActive:!0})},r.onKeyUp=function(e){e.key in r.actionKeys&&r.setState({isActive:!1})},r.createExtender=s(g),r}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props.isIndeterminate;this.checkbox&&(this.checkbox.indeterminate=!!e,this.props.inputRef&&this.props.inputRef(this.checkbox))},t.prototype.componentDidUpdate=function(e){var t=this.props.isIndeterminate;e.isIndeterminate!==t&&this.checkbox&&(this.checkbox.indeterminate=!!t)},t.prototype.render=function(){var e=this,t=this.props,r=t.isDisabled,n=t.isInvalid,a=t.isIndeterminate,s=t.label,c=t.name,l=t.overrides,u=t.value,p=t.isRequired,m=t.isChecked,f=t.theme,h=t.testId,v=void 0===this.props.isChecked?this.state.isChecked:m,b=this.state,y=b.isFocused,k=b.isActive,w=b.isHovered,j=g(L,l),x=j("Label"),C=x.component,E=Object(i.__rest)(x,["component"]),P=j("LabelText"),A=P.component,B=Object(i.__rest)(P,["component"]),I=j("HiddenCheckbox").attributesFn;return o.a.createElement(O.Provider,{value:f},o.a.createElement(d.a.Consumer,null,(function(t){var d=t.mode;return o.a.createElement(O.Consumer,{mode:d,tokens:_},(function(t){return o.a.createElement(C,Object(i.__assign)({},E,{isDisabled:r,onMouseDown:e.onMouseDown,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseUp:e.onMouseUp,tokens:t,testId:h&&h+"--checkbox-label"}),o.a.createElement(T,null,o.a.createElement(D,{disabled:r,checked:v,onChange:e.onChange,onBlur:e.onBlur,onFocus:e.onFocus,onKeyUp:e.onKeyUp,onKeyDown:e.onKeyDown,value:u,name:c,ref:function(t){return e.checkbox=t},required:p,attributesFn:I,testId:h&&h+"--hidden-checkbox"}),o.a.createElement(S,{theme:f,overrides:{IconWrapper:l&&l.IconWrapper,Icon:l&&l.Icon,IconIndeterminate:l&&l.IconIndeterminate},isChecked:v,isDisabled:r,isFocused:y,isActive:k,isHovered:w,isInvalid:n,isIndeterminate:a,primaryColor:"inherit",secondaryColor:"inherit",label:""})),o.a.createElement(A,Object(i.__assign)({},B,{tokens:t}),s,p&&o.a.createElement(M,{tokens:t,"aria-hidden":"true"},"*")))}))})))},t.defaultProps={isDisabled:!1,isInvalid:!1,defaultChecked:!1,isIndeterminate:!1,theme:function(e,t){return e(t)}},t}(n.Component),R=Object(c.a)("atlaskit"),F=Object(l.a)({componentName:"checkbox",packageName:I.name,packageVersion:I.version})(Object(u.a)({onChange:R({action:"changed",actionSubject:"checkbox",attributes:{componentName:"checkbox",packageName:I.name,packageVersion:I.version}})})(N)),V=r("./node_modules/@atlaskit/icon/cjs/index.js"),H=r.n(V),z=r("./packages/nachos/tokens.ts"),$=r("./node_modules/classnames/index.js"),U=r.n($),q=r("./packages/nachos/src/components/Checkbox/Checkbox.less"),K=r.n(q);function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ee(e,t,r){return t&&Q(e.prototype,t),r&&Q(e,r),e}function te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){return function(){var t,r=se(e);if(ae()){var n=se(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return oe(this,t)}}function oe(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ce="".concat(z.GLOBAL_NAMESPACE_PREFIX).concat(z.CheckboxClassnameBase),le=("".concat(z.GLOBAL_NAMESPACE_PREFIX).concat(z.CheckboxClassnameBase,"__").concat(z.ComponentClassnameLabel),"".concat(z.GLOBAL_NAMESPACE_PREFIX).concat(z.CheckboxClassnameBase,"--").concat(z.ComponentClassnameStatic),parseInt(z.CheckboxDefaultStrokeWidth,10)/2),ue=parseInt(z.CheckboxDefaultStrokeWidth,10)/2,de=function(){return o.a.createElement("svg",{width:z.CheckboxDefaultWidth,height:z.CheckboxDefaultHeight,viewBox:"0 0 ".concat(z.CheckboxDefaultViewBoxY," ").concat(z.CheckboxDefaultViewBoxX),focusable:"false",role:"presentation"},o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("rect",{fill:"currentColor",x:le,y:ue,width:z.CheckboxDefaultWidth,height:z.CheckboxDefaultHeight,rx:z.CheckboxDefaultBorderRadius,strokeWidth:z.CheckboxDefaultStrokeWidth}),o.a.createElement("path",{d:"M1.49022 3.21486C1.2407 2.94412 0.818938 2.92692 0.548195 3.17644C0.277453 3.42597 0.260252 3.84773 0.509776 4.11847L2.91785 6.73131C3.2762 7.08204 3.80964 7.08204 4.14076 6.75092C4.18159 6.71082 4.18159 6.71082 4.38359 6.51218C4.57995 6.31903 4.79875 6.1037 5.03438 5.87167C5.70762 5.20868 6.38087 4.54459 7.00931 3.92318L7.0362 3.89659C8.15272 2.79246 9.00025 1.9491 9.47463 1.46815C9.73318 1.20602 9.73029 0.783922 9.46815 0.525367C9.20602 0.266812 8.78392 0.269712 8.52537 0.531843C8.05616 1.00754 7.21125 1.84829 6.09866 2.94854L6.07182 2.97508C5.4441 3.59578 4.77147 4.25926 4.09883 4.92165C3.90522 5.11231 3.72299 5.29168 3.55525 5.4567L1.49022 3.21486Z",fill:"inherit"})))},pe=parseInt(z.CheckboxDefaultWidth,10)/2,me=pe/2,fe=function(){return o.a.createElement("svg",{width:z.CheckboxDefaultViewBoxX,height:z.CheckboxDefaultViewBoxY,viewBox:"0 0 ".concat(z.CheckboxDefaultViewBoxY," ").concat(z.CheckboxDefaultViewBoxX),focusable:"false",role:"presentation"},o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("rect",{fill:"currentColor",x:le,y:ue,width:z.CheckboxDefaultWidth,height:z.CheckboxDefaultHeight,rx:z.CheckboxDefaultBorderRadius,strokeWidth:z.CheckboxDefaultStrokeWidth}),o.a.createElement("rect",{fill:"inherit",x:le+me,y:parseInt(z.CheckboxDefaultHeight,10)/2,width:pe,height:z.CheckboxDefaultStrokeWidth,rx:"1"})))},he=function(e){te(r,e);var t=ne(r);function r(){return Z(this,r),t.apply(this,arguments)}return ee(r,[{key:"render",value:function(){return o.a.createElement(H.a,{glyph:de,label:"",size:z.ComponentSizeS,primaryColor:"inherit",secondaryColor:"inherit"})}}]),r}(o.a.Component),ve=function(e){te(r,e);var t=ne(r);function r(){return Z(this,r),t.apply(this,arguments)}return ee(r,[{key:"render",value:function(){return o.a.createElement(H.a,{glyph:fe,label:"",size:z.ComponentSizeS,primaryColor:"inherit",secondaryColor:"inherit"})}}]),r}(o.a.Component),be={label:{textColor:{rest:z.TextDefaultColor},spacing:{top:z.CheckboxLabelDefaultPaddingY,bottom:z.CheckboxLabelDefaultPaddingY,left:z.CheckboxLabelDefaultPaddingX}},icon:{borderColor:{rest:z.CheckboxIconDefaultBorderColor,hovered:z.CheckboxIconHoverBorderColor,[z.ComponentStateActive]:z.CheckboxIconActiveBorderColor,[z.ComponentStateDisabled]:z.CheckboxIconDisabledBorderColor,[z.ComponentStateInvalid]:z.CheckboxIconInvalidBorderColor,[z.ComponentStateChecked]:z.CheckboxIconCheckedBorderColor,[z.ComponentStateHoveredAndChecked]:z.CheckboxIconHoveredAndCheckedBorderColor,focused:z.CheckboxIconFocusBorderColor},boxColor:{rest:z.CheckboxIconDefaultBoxColor,hovered:z.CheckboxIconHoverBoxColor,[z.ComponentStateActive]:z.CheckboxIconActiveBoxColor,[z.ComponentStateDisabled]:z.CheckboxIconDisabledBoxColor,[z.ComponentStateChecked]:z.CheckboxIconCheckedBoxColor,[z.ComponentStateHoveredAndChecked]:z.CheckboxIconHoveredAndCheckedBoxColor},tickColor:{rest:z.CheckboxIconDefaultTickColor,[z.ComponentStateChecked]:z.CheckboxIconCheckedTickColor,[z.ComponentStateActiveAndChecked]:z.CheckboxIconActiveAndCheckedTickColor,[z.ComponentStateDisabledAndChecked]:z.CheckboxIconDisabledTickColor}}},ge=function(e,t){var r=e(t);return Object.assign({},r,be)},ye=function(e){te(r,e);var t=ne(r);function r(){var e;Z(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return J(ie(e=t.call.apply(t,[this].concat(o))),"checkboxRef",void 0),e}return ee(r,[{key:"componentDidMount",value:function(){this.props.testId&&this.checkboxRef&&this.checkboxRef.setAttribute("data-test-id",this.props.testId)}},{key:"componentDidUpdate",value:function(e){this.checkboxRef&&this.props.testId!==e.testId&&(this.props.testId?this.checkboxRef.setAttribute("data-test-id",this.props.testId):this.checkboxRef.removeAttribute("data-test-id"))}},{key:"render",value:function(){var e=this,t=this.props,r=t.className,n=t.label,i=t.onChange,a=t.name,s=(t.testId,Y(t,["className","label","onChange","name","testId"])),c=U()({[ce]:!0,[K.a[ce]]:!0},r),l=a;return l||(l=K.a[ce]),o.a.createElement("div",{className:c},o.a.createElement(F,G({theme:ge,name:l,label:n,inputRef:function(t){return e.checkboxRef=t},onChange:function(t){e.checkboxRef&&e.checkboxRef.blur(),i&&i(t)},overrides:{Icon:{component:he},IconIndeterminate:{component:ve},IconWrapper:{cssFn:function(e){return X({},e,{"& path":{transform:z.CheckboxIconPathDefaultTransform}})}},Label:{cssFn:function(e){return X({},e,{alignItems:z.CheckboxLabelDefaultAlignItems})}}}},s)))}}]),r}(o.a.Component)},"./packages/nachos/icons/attachment.tsx":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./packages/nachos/src/components/Icon/index.ts"),a=function(){return o.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.643 17.965c-1.53 1.495-4.016 1.496-5.542.004a3.773 3.773 0 01.002-5.412l7.148-6.985a2.316 2.316 0 013.232-.003c.893.873.895 2.282.004 3.153l-6.703 6.55a.653.653 0 01-.914-.008.62.62 0 010-.902l6.229-6.087a.941.941 0 000-1.353.995.995 0 00-1.384 0l-6.23 6.087a2.502 2.502 0 000 3.607 2.643 2.643 0 003.683.009l6.703-6.55a4.074 4.074 0 00-.003-5.858 4.306 4.306 0 00-6.002.002l-7.148 6.985a5.655 5.655 0 00-.001 8.118c2.29 2.239 6.015 2.238 8.31-.005l6.686-6.533a.941.941 0 000-1.353.995.995 0 00-1.384 0l-6.686 6.534z",fill:"currentColor"}))},s=function(e){var t=e.testId,r=e.dangerous_className,n=e.size,s=e.color,c=e.label;return o.a.createElement(i.a,{testId:t,size:n,dangerous_className:r,color:s,label:c||"AttachmentIcon",glyph:a})}},"./packages/nachos/icons/check.tsx":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./packages/nachos/src/components/Icon/index.ts"),a=function(){return o.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M6.735 12.322a1 1 0 00-1.47 1.356l3.612 3.919c.537.526 1.337.526 1.834.03l.364-.359.977-.96c1.01-.995 2.02-1.991 2.962-2.923l.04-.04a493.998 493.998 0 003.658-3.643 1 1 0 00-1.424-1.404 518.42 518.42 0 01-3.64 3.625l-.04.04a2022.621 2022.621 0 01-3.775 3.722l-3.098-3.363z",fill:"currentColor"}))},s=function(e){var t=e.testId,r=e.dangerous_className,n=e.size,s=e.color,c=e.label;return o.a.createElement(i.a,{testId:t,size:n,dangerous_className:r,color:s,label:c||"CheckIcon",glyph:a})}},"./packages/nachos/icons/member.tsx":function(e,t,r){"use strict";r.r(t),r.d(t,"MemberIcon",(function(){return s}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./packages/nachos/src/components/Icon/index.ts"),a=function(){return o.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.025 3a5.007 5.007 0 00-5.014 5c0 2.761 2.245 5 5.014 5a5.007 5.007 0 005.014-5c0-2.761-2.244-5-5.014-5zM9.017 8c0 1.657 1.347 3 3.008 3a3.004 3.004 0 003.009-3c0-1.657-1.347-3-3.009-3a3.004 3.004 0 00-3.008 3z",fill:"currentColor"}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.025 11c4.755 0 8.652 3.667 9 8.32a2.004 2.004 0 01-1.98 1.68H5.006a2.004 2.004 0 01-1.98-1.68c.348-4.653 4.244-8.32 9-8.32zm-6.948 8h13.897a7.015 7.015 0 00-6.949-6 7.015 7.015 0 00-6.948 6zm13.968.977z",fill:"currentColor"}))},s=function(e){var t=e.testId,r=e.dangerous_className,n=e.size,s=e.color,c=e.label;return o.a.createElement(i.a,{testId:t,size:n,dangerous_className:r,color:s,label:c||"MemberIcon",glyph:a})}},"./packages/nachos/icons/private.tsx":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./packages/nachos/src/components/Icon/index.ts"),a=function(){return o.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C9.795 3 8 4.792 8 7.002V9H7a2 2 0 00-2 2v8a2 2 0 002 2h10a2 2 0 002-2v-8a2 2 0 00-2-2h-1V7.002A4 4 0 0012 3zm2 8h3v8H7v-8h7zm0-2V7.002A2.001 2.001 0 0012 5c-1.102 0-2 .898-2 2.002V9h4zm0 6a2 2 0 11-4 0 2 2 0 014 0z",fill:"currentColor"}))},s=function(e){var t=e.testId,r=e.dangerous_className,n=e.size,s=e.color,c=e.label;return o.a.createElement(i.a,{testId:t,size:n,dangerous_className:r,color:s,label:c||"PrivateIcon",glyph:a})}},"./packages/nachos/icons/public.tsx":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./packages/nachos/src/components/Icon/index.ts"),a=function(){return o.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 18.93V18a1 1 0 00-1-1 1 1 0 01-1-1v-1l-3.938-3.938A7.001 7.001 0 0011 18.93zm3.993-13.26A2 2 0 0113 7.5h-2V9a1 1 0 01-1 1H8v2h5a2 2 0 012 2v2h1a1 1 0 01.995.904A7 7 0 0014.993 5.67zM21 12a9 9 0 11-18 0 9 9 0 0118 0z",fill:"currentColor"}))},s=function(e){var t=e.testId,r=e.dangerous_className,n=e.size,s=e.color,c=e.label;return o.a.createElement(i.a,{testId:t,size:n,dangerous_className:r,color:s,label:c||"PublicIcon",glyph:a})}},"./packages/nachos/src/components/Checkbox/Checkbox.less":function(e,t,r){var n=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=r("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Checkbox/Checkbox.less");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};n(o,i);e.exports=o.locals||{}},"./packages/nachos/src/components/Textfield/Textfield.less":function(e,t,r){var n=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=r("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Textfield/Textfield.less");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};n(o,i);e.exports=o.locals||{}},"./packages/nachos/textfield.ts":function(e,t,r){"use strict";r.r(t),r.d(t,"Textfield",(function(){return oe})),r.d(t,"TextfieldClasses",(function(){return Q}));var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./node_modules/classnames/index.js"),a=r.n(i),s=r("./node_modules/tslib/tslib.es6.js"),c=r("./node_modules/@atlaskit/analytics-next/dist/esm/createAndFireEvent.js"),l=r("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js"),u=r("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),d=r("./node_modules/@atlaskit/theme/dist/esm/components/Theme.js"),p=r("./node_modules/@atlaskit/theme/dist/esm/utils/createTheme.js"),m=r("./node_modules/@atlaskit/theme/dist/esm/constants.js"),f=r("./node_modules/@atlaskit/theme/dist/esm/colors.js"),h={light:f.N20,dark:f.DN20},v={light:f.R400,dark:f.R400},b={light:f.N10,dark:f.DN10},g={light:f.N0,dark:f.DN10},y={light:f.N30,dark:f.DN30},k={light:f.N40,dark:f.DN40},w={light:f.B100,dark:f.B75},j={light:"transparent",dark:"transparent"},x={light:f.N900,dark:f.DN600},C={light:f.N70,dark:f.DN90},_={light:f.N100,dark:f.DN90},O={light:{backgroundColor:b.light,backgroundColorFocus:h.light,backgroundColorHover:h.light,borderColor:b.light,borderColorFocus:w.light,textColor:C.light},dark:{backgroundColor:b.dark,backgroundColorFocus:h.dark,backgroundColorHover:h.dark,borderColor:b.dark,borderColorFocus:w.dark,textColor:C.dark}},E={light:{backgroundColor:b.light,backgroundColorFocus:g.light,backgroundColorHover:y.light,borderColor:v.light,borderColorFocus:w.light},dark:{backgroundColor:b.dark,backgroundColorFocus:g.dark,backgroundColorHover:y.dark,borderColor:v.dark,borderColorFocus:w.dark}},S={standard:b,subtle:j,none:j},P={standard:g,subtle:g,none:j},A={standard:y,subtle:y,none:j},T={standard:k,subtle:j,none:j},D={standard:w,subtle:w,none:j},B=function(e){var t=e.appearance,r=e.isFocused,n=e.isDisabled,o=e.isInvalid,i=e.mode;return n?r?{borderColor:O[i].borderColorFocus}:{borderColor:O[i].borderColor}:o?r?{borderColor:E[i].borderColorFocus}:{borderColor:E[i].borderColor}:r?{borderColor:D[t][i]}:{borderColor:T[t][i]}},M=function(e){var t=e.isDisabled,r=e.mode;return t?O[r].textColor:_[r]},I=function(e){return{"&::-webkit-input-placeholder":{color:M(e)},"&::-moz-placeholder":{color:M(e),opacity:1},"&::-ms-input-placeholder":{color:M(e)},"&:-ms-input-placeholder":{color:M(e)}}},L=function(e){var t=e.width;if(!t)return"100%";switch(t){case"xsmall":return"80px";case"small":return"160px";case"medium":return"240px";case"large":return"320px";case"xlarge":return"480px";default:return t+"px"}},N=Object(p.a)((function(e){return{container:Object(s.__assign)(Object(s.__assign)(Object(s.__assign)({alignItems:"center"},(t=e,r=t.appearance,n=t.isFocused,o=t.isHovered,i=t.isDisabled,a=t.isInvalid,c=t.mode,i?n?{backgroundColor:O[c].backgroundColorFocus}:o?{backgroundColor:O[c].backgroundColorHover}:{backgroundColor:O[c].backgroundColor}:a?n?{backgroundColor:E[c].backgroundColorFocus}:o?{backgroundColor:E[c].backgroundColorHover}:{backgroundColor:E[c].backgroundColor}:n?{backgroundColor:P[r][c]}:o?{backgroundColor:A[r][c]}:{backgroundColor:S[r][c]})),B(e)),{borderRadius:"3px",borderWidth:"2px",borderStyle:"none"===e.appearance?"none":"solid",boxSizing:"border-box",color:e.isDisabled?O[e.mode].textColor:x[e.mode],cursor:e.isDisabled?"not-allowed":"text",display:"flex",flex:"1 1 100%",fontSize:Object(m.e)()+"px",justifyContent:"space-between",maxWidth:L(e),overflow:"hidden",transition:"background-color 0.2s ease-in-out, border-color 0.2s ease-in-out",wordWrap:"break-word",verticalAlign:"top",pointerEvents:"auto"}),input:Object(s.__assign)({backgroundColor:"transparent",border:0,boxSizing:"border-box",color:"inherit",cursor:"inherit",fontFamily:e.isMonospaced?Object(m.d)():"inherit",fontSize:Object(m.e)()+"px",minWidth:"0",outline:"none",padding:(e.isCompact?Object(m.g)()/2:Object(m.g)())+"px "+(Object(m.g)()-2)+"px",width:"100%",height:(e.isCompact?3.5*Object(m.g)():4.5*Object(m.g)())/Object(m.e)()+"em",lineHeight:2.5*Object(m.g)()/Object(m.e)(),"&[disabled]":{WebkitTextFillColor:"unset",WebkitOpacity:1},"&::-ms-clear":{display:"none"},"&:invalid":{boxShadow:"none"}},I(e))};var t,r,n,o,i,a,c})),R=r("./node_modules/@atlaskit/textfield/dist/esm/version.json"),F=r("./node_modules/@emotion/core/dist/core.browser.esm.js");function V(e){var t=e.elemAfterInput,r=e.elemBeforeInput,n=e.isDisabled,o=e.isReadOnly,i=e.isRequired,a=e.onMouseDown,c=e.onMouseEnter,l=e.onMouseLeave,u=e.onBlur,d=e.onFocus,p=e.theme,m=e.innerRef,f=e.testId,h=Object(s.__rest)(e,["elemAfterInput","elemBeforeInput","isDisabled","isReadOnly","isRequired","onMouseDown","onMouseEnter","onMouseLeave","onBlur","onFocus","theme","innerRef","testId"]),v={onFocus:d,onBlur:u,disabled:n,readOnly:o,required:i};var b=Object(s.__assign)(Object(s.__assign)({},h),v),g={onMouseDown:a,onMouseEnter:c,onMouseLeave:l};return Object(F.b)("div",Object(s.__assign)({},g,{css:p.container}),r,Object(F.b)("input",Object(s.__assign)({},b,{css:p.input,ref:m,"data-testid":f})),t)}var H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isFocused:!1,isHovered:!1},t.input=null,t.handleOnFocus=function(e){t.setState({isFocused:!0}),t.props.onFocus&&t.props.onFocus(e)},t.handleOnBlur=function(e){t.setState({isFocused:!1}),t.props.onBlur&&t.props.onBlur(e)},t.handleOnMouseDown=function(e){"INPUT"!==e.target.tagName&&e.preventDefault(),t.input&&!t.props.isDisabled&&document.activeElement!==t.input&&t.input.focus(),t.props.onMouseDown&&t.props.onMouseDown(e)},t.onMouseEnter=function(){t.props.isDisabled||t.setState({isHovered:!0})},t.onMouseLeave=function(){t.props.isDisabled||t.setState({isHovered:!1})},t.setInputRef=function(e){t.input=e;var r=t.props.forwardedRef;r&&("object"==typeof r&&(r.current=e),"function"==typeof r&&r(e))},t}return Object(s.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.state,r=t.isFocused,n=t.isHovered,i=this.props,a=(i.createAnalyticsEvent,i.forwardedRef,i.appearance),c=i.isCompact,l=i.isDisabled,u=i.isInvalid,p=i.isRequired,m=i.isReadOnly,f=i.isMonospaced,h=i.theme,v=i.width,b=i.elemAfterInput,g=i.elemBeforeInput,y=i.testId,k=Object(s.__rest)(i,["createAnalyticsEvent","forwardedRef","appearance","isCompact","isDisabled","isInvalid","isRequired","isReadOnly","isMonospaced","theme","width","elemAfterInput","elemBeforeInput","testId"]);return o.a.createElement(N.Provider,{value:h},o.a.createElement(d.a.Consumer,null,(function(t){var i=t.mode;return o.a.createElement(N.Consumer,{appearance:a,mode:i,width:v,isDisabled:l,isCompact:c,isMonospaced:f,isFocused:r,isHovered:n,isInvalid:u},(function(t){return o.a.createElement(V,Object(s.__assign)({},k,{isDisabled:l,isReadOnly:m,isRequired:p,theme:t,onBlur:e.handleOnBlur,onFocus:e.handleOnFocus,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.handleOnMouseDown,elemAfterInput:b,elemBeforeInput:g,innerRef:e.setInputRef,testId:y}))}))})))},t.defaultProps={appearance:"standard",isCompact:!1,isMonospaced:!1,isInvalid:!1,isRequired:!1,isReadOnly:!1,isDisabled:!1},t}(o.a.Component),z=o.a.forwardRef((function(e,t){return o.a.createElement(H,Object(s.__assign)({},e,{forwardedRef:t}))})),$=Object(c.a)("atlaskit"),U=Object(l.a)({componentName:"textField",packageName:R.name,packageVersion:R.version})(Object(u.a)({onBlur:$({action:"blurred",actionSubject:"textField",attributes:{componentName:"textField",packageName:R.name,packageVersion:R.version}}),onFocus:$({action:"focused",actionSubject:"textField",attributes:{componentName:"textField",packageName:R.name,packageVersion:R.version}})})(z)),q=r("./packages/nachos/tokens.ts"),K=r("./packages/nachos/src/components/Textfield/Textfield.less"),G=r.n(K);function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Q={BASE:"".concat(q.GLOBAL_NAMESPACE_PREFIX).concat(q.TextfieldClassnameBase),LABEL:"".concat(q.GLOBAL_NAMESPACE_PREFIX).concat(q.TextfieldClassnameBase,"__").concat(q.ComponentClassnameLabel),STATIC:"".concat(q.GLOBAL_NAMESPACE_PREFIX).concat(q.TextfieldClassnameBase,"--").concat(q.ComponentClassnameStatic)},ee={[q.ComponentAppearanceDefault]:{[q.ComponentAppearanceDefault]:{backgroundColor:q.TextfieldDefaultBackgroundColor,boxShadow:"inset 0 0 0 ".concat(q.TextfieldDefaultBoxShadowWidth," ").concat(q.TextfieldDefaultBoxShadowColor),color:q.TextfieldDefaultColor,fontSize:q.TextfieldDefaultFontSize,padding:"".concat(q.TextfieldDefaultPaddingY," ").concat(q.TextfieldDefaultPaddingX),lineHeight:q.TextfieldDefaultLineHeight,transition:q.TextfieldDefaultTransition},[q.ComponentStateHover]:{backgroundColor:q.TextfieldDefaultHoverBackgroundColor,boxShadow:"inset 0 0 0 ".concat(q.TextfieldDefaultBoxShadowWidth," ").concat(q.TextfieldDefaultHoverBoxShadowColor)},[q.ComponentStateFocus]:{backgroundColor:q.TextfieldDefaultFocusBackgroundColor,boxShadow:"inset 0 0 0 ".concat(q.TextfieldDefaultBoxShadowWidth," ").concat(q.TextfieldDefaultFocusBoxShadowColor)},[q.ComponentStateInvalid]:{boxShadow:"inset 0 0 0 ".concat(q.TextfieldDefaultBoxShadowWidth," ").concat(q.TextfieldDefaultInvalidBoxShadowColor)},[q.ComponentStateDisabled]:{backgroundColor:q.TextfieldDefaultDisabledBackgroundColor,boxShadow:"inset 0 0 0 ".concat(q.TextfieldDefaultBoxShadowWidth," ").concat(q.TextfieldDefaultDisabledBoxShadowColor)}},[q.ComponentAppearanceSubtle]:{[q.ComponentAppearanceDefault]:{backgroundColor:q.TextfieldSubtleBackgroundColor,boxShadow:q.TextfieldSubtleBoxShadowColor,color:q.TextfieldSubtleColor},[q.ComponentStateHover]:{backgroundColor:q.TextfieldSubtleHoverBackgroundColor},[q.ComponentStateFocus]:{backgroundColor:q.TextfieldSubtleFocusBackgroundColor}},[q.ComponentAppearanceNone]:{[q.ComponentAppearanceDefault]:{backgroundColor:q.TextfieldNoneBackgroundColor,boxShadow:q.TextfieldNoneBoxShadowColor},[q.ComponentStateHover]:{backgroundColor:q.TextfieldNoneHoverBackgroundColor,boxShadow:q.TextfieldNoneBoxShadowColor},[q.ComponentStateFocus]:{backgroundColor:q.TextfieldNoneFocusBackgroundColor,boxShadow:q.TextfieldNoneBoxShadowColor}}},te={[q.ComponentAppearanceDefault]:{[q.ComponentAppearanceDefault]:{color:q.TextfieldPlaceholderDefaultColor}},[q.ComponentAppearanceSubtle]:{[q.ComponentAppearanceDefault]:{color:q.TextfieldPlaceholderSubtleColor}},[q.ComponentAppearanceNone]:{[q.ComponentAppearanceDefault]:{},[q.ComponentStateHover]:{}}},re=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ee,o=n[q.ComponentAppearanceDefault],i=n[q.ComponentAppearanceDefault][q.ComponentAppearanceDefault],a=n[e]||o,s=a[t]||o[t];return s[r]?s[r]:a[q.ComponentAppearanceDefault][r]?a[q.ComponentAppearanceDefault][r]:o[t][r]?o[t][r]:i[r]},ne=function(e,t){var r=e(t),n=r.container,o=r.input,i=t.appearance,a=t.isDisabled,s=t.isInvalid,c=t.isFocused,l=t.isHovered,u=q.ComponentAppearanceDefault;l&&(u=q.ComponentStateHover),c&&(u=q.ComponentStateFocus),s&&(u=q.ComponentStateInvalid),a&&(u=q.ComponentStateDisabled);var d=i;"standard"===i&&(d=q.ComponentAppearanceDefault);n.borderColor,n.borderWidth,n.borderStyle;var p=Z(n,["borderColor","borderWidth","borderStyle"]),m=(o.fontFamily,Z(o,["fontFamily"]));return{container:Y({},p,{backgroundColor:re(d,u,"backgroundColor"),border:"none",boxShadow:re(d,u,"boxShadow"),color:re(d,u,"color"),cursor:re(d,u,"cursor"),lineHeight:re(d,u,"lineHeight"),transition:re(d,u,"transition"),maxHeight:q.TextfieldDefaultMaxHeight,padding:"0"}),input:Y({},m,{padding:re(d,u,"padding"),"&::placeholder":{color:re(d,q.ComponentAppearanceDefault,"color",te)}})}},oe=function(e){var t=e.appearance,r=e.children,n=e.className,i=e.label,s=Z(e,["appearance","children","className","label"]),c=a()({[Q.BASE]:!0,[G.a[Q.BASE]]:!0},n),l=e.name;l||(l=G.a[Q.BASE]);var u=i;"string"==typeof i&&(u=o.a.createElement("label",{htmlFor:l,className:G.a[Q.LABEL]},i));var d=t;return t===q.ComponentAppearanceDefault&&(d="standard"),o.a.createElement(o.a.Fragment,null,u,o.a.createElement(U,W({appearance:d,theme:ne,className:c,name:l},s),r))}},"./resources/images/TrelloGoldBadge.png":function(e,t,r){e.exports=r.p+"images/TrelloGoldBadge.3165e93a7df78639d858.png"},"./resources/images/chevron.png":function(e,t,r){e.exports=r.p+"images/chevron.49062488fac145ed289e.png"},"./resources/images/dropbox-mark.svg":function(e,t,r){e.exports=r.p+"images/dropbox-mark.9b13c8944db93b6233bb.svg"},"./resources/images/member-home/taco-privacy.svg":function(e,t,r){e.exports=r.p+"images/member-home/taco-privacy.ced1e262c59e0225e3aa.svg"},"./resources/images/stickers/residue.png":function(e,t,r){e.exports=r.p+"images/stickers/residue.98ba01532da369b380d1.png"}}]);
//# sourceMappingURL=member-cards-view.db2011f9387157f1ea33.js.map